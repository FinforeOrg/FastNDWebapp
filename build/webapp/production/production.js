steal.loading('webapp/core/finfore.js','jquery/view/tmpl/tmpl.js','jquery/view/view.js','jquery/jquery.js','webapp/core/utils.js','webapp/core/api.js','webapp/lib/jquery.mobile.js','webapp/lib/flash_detect_min.js','webapp/lib/jquery-ui/jquery-ui-1.8.16.custom.min.js','webapp/lib/mediaelement/mediaelement-and-player.js','webapp/lib/toast/jquery.toastmessage.js','webapp/lib/jquery-impromptu.3.1.js','webapp/lib/iscroll.js','webapp/views/desktop.tmpl','webapp/views/tab-button.tmpl','webapp/views/tab-view.tmpl','webapp/views/tab-option.tmpl','webapp/views/login.tmpl','webapp/views/profile.tmpl','webapp/views/panel.controlgroup.tmpl','webapp/views/manage.tmpl','webapp/views/manage.feed-infos.tmpl','webapp/views/manage.panels.tmpl','webapp/views/manage.source.tmpl','webapp/views/signup.tmpl','webapp/views/addcompany.tmpl','webapp/views/help.tmpl','webapp/core/core.js','webapp/core/desktop.js','webapp/core/manage.js','webapp/core/login.js','webapp/core/signup.js','webapp/core/profile.js','webapp/core/addcompany.js','webapp/core/help.js','webapp/views/module.tmpl','webapp/views/module.feed.tmpl','webapp/views/module.feed.management.tmpl','webapp/views/module.podcast.tmpl','webapp/views/module.podcast.management.tmpl','webapp/views/module.twitter.tmpl','webapp/views/module.twitter.tweet.tmpl','webapp/views/module.twitter.management.tmpl','webapp/views/module.prices.tmpl','webapp/views/module.prices.management.tmpl','webapp/views/module.portfolio.tmpl','webapp/views/module.portfolio.management.tmpl','webapp/views/module.agenda.tmpl','webapp/views/module.linkedin.tmpl','webapp/views/module.linkedin.management.tmpl','webapp/views/module.blinkx.tmpl','webapp/views/module.keyword.management.tmpl','webapp/views/module.keyword.tmpl','webapp/modules/feed.js','webapp/modules/podcast.js','webapp/modules/twitter.js','webapp/modules/prices.js','webapp/modules/portfolio.js','webapp/modules/agenda.js','webapp/modules/linkedin.js','webapp/modules/blinkx.js','webapp/modules/keyword.js');
steal({src: 'webapp/production//production.css', has: ['webapp/lib/jquery.mobile.css','webapp/lib/mediaelement/mediaelementplayer.min.css','webapp/lib/toast/jquery.toastmessage.css','webapp/css/shared.css','webapp/css/base.css','webapp/css/management.css']});
steal("jquery/view/tmpl").then("//webapp/core/utils.js","//webapp/core/api.js").then(function(){$(document).bind("mobileinit",function(){$.extend($.mobile,{ajaxEnabled:false,autoInitialize:false,hashListeningEnabled:false,defaultPageTransition:"none",defaultDialogTransition:"slidedown",pushStateEnabled:false,linkBindingEnabled:false});$.extend($.mobile.changePage.defaults,{changeHash:false});$.support.cors=true;$.mobile.allowCrossDomainPages=true})}).then("//webapp/lib/jquery.mobile.js","//webapp/lib/jquery.mobile.css").then(function(){Loader.show()}).then("//webapp/lib/flash_detect_min.js",
"//webapp/lib/jquery-ui/jquery-ui-1.8.16.custom.min.js","//webapp/lib/mediaelement/mediaelement-and-player.js","//webapp/lib/toast/jquery.toastmessage.js","//webapp/lib/jquery-impromptu.3.1.js","//webapp/lib/iscroll.js").then("//webapp/views/desktop.tmpl","//webapp/views/tab-button.tmpl","//webapp/views/tab-view.tmpl","//webapp/views/tab-option.tmpl","//webapp/views/login.tmpl","//webapp/views/profile.tmpl","//webapp/views/panel.controlgroup.tmpl","//webapp/views/manage.tmpl","//webapp/views/manage.feed-infos.tmpl",
"//webapp/views/manage.panels.tmpl","//webapp/views/manage.source.tmpl","//webapp/views/signup.tmpl","//webapp/views/addcompany.tmpl","//webapp/views/help.tmpl").then("../lib/mediaelement/mediaelementplayer.min.css","../lib/toast/jquery.toastmessage.css").then("../css/shared.css").then("../css/base.css").then("../css/management.css").then("./core.js").then("./desktop.js","./manage.js","./login.js","./signup.js","./profile.js","./addcompany.js","./help.js").then("//webapp/views/module.tmpl","//webapp/views/module.feed.tmpl",
"//webapp/views/module.feed.management.tmpl","//webapp/views/module.podcast.tmpl","//webapp/views/module.podcast.management.tmpl","//webapp/views/module.twitter.tmpl","//webapp/views/module.twitter.tweet.tmpl","//webapp/views/module.twitter.management.tmpl","//webapp/views/module.prices.tmpl","//webapp/views/module.prices.management.tmpl","//webapp/views/module.portfolio.tmpl","//webapp/views/module.portfolio.management.tmpl","//webapp/views/module.agenda.tmpl","//webapp/views/module.linkedin.tmpl",
"//webapp/views/module.linkedin.management.tmpl","//webapp/views/module.blinkx.tmpl","//webapp/views/module.keyword.management.tmpl","//webapp/views/module.keyword.tmpl").then("../modules/feed.js","../modules/podcast.js","../modules/twitter.js","../modules/prices.js","../modules/portfolio.js","../modules/agenda.js","../modules/linkedin.js","../modules/blinkx.js","../modules/keyword.js").then(function(){typeof window.hideBrowserNotice!="function"&&finfore.init()});steal.loaded("webapp/core/finfore.js");
steal("jquery/view").then(function(){function a(J,P,Z,X){X={data:X||(P?P.data:{}),_wrap:P?P._wrap:null,tmpl:null,parent:P||null,nodes:[],calls:u,nest:o,wrap:w,html:z,update:A};J&&jQuery.extend(X,J,{nodes:[],parent:P});if(Z){X.tmpl=Z;X._ctnt=X._ctnt||X.tmpl(jQuery,X);X.key=++q;(K.length?D:G)[q]=X}return X}function d(J,P,Z){var X;Z=Z?jQuery.map(Z,function(ka){return typeof ka==="string"?J.key?ka.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+E+'="'+J.key+'" $2'):ka:d(ka,J,ka._ctnt)}):J;if(P)return Z;
Z=Z.join("");Z.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(ka,oa,I,R){X=jQuery(I).get();j(X);if(oa)X=e(oa).concat(X);if(R)X=X.concat(e(R))});return X?X:e(Z)}function e(J){var P=document.createElement("div");P.innerHTML=J;return jQuery.makeArray(P.childNodes)}function f(J){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+jQuery.trim(J).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(P,Z,X,ka,oa,I,R){P=jQuery.tmpl.tag[X];if(!P)throw"Template command not found: "+X;X=P._default||[];if(I&&!/\w$/.test(oa)){oa+=I;I=""}if(oa){oa=k(oa);R=R?","+k(R)+")":I?")":"";R=I?oa.indexOf(".")>-1?oa+I:"("+oa+").call($item"+R:oa;I=I?R:"(typeof("+oa+")==='function'?("+oa+").call($item):("+oa+"))"}else I=R=X.$1||"null";ka=k(ka);return"');"+P[Z?"close":"open"].split("$notnull_1").join(oa?"typeof("+oa+")!=='undefined' && ("+oa+")!=null":"true").split("$1a").join(I).split("$1").join(R).split("$2").join(ka?
ka.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(ba,ma,U,ua){return(ua=ua?","+ua+")":U?")":"")?"("+ma+").call($item"+ua:ba}):X.$2||"")+"_.push('"})+"');}return _;")}function c(J,P){J._wrap=d(J,true,jQuery.isArray(P)?P:[Q.test(P)?P:jQuery(P).html()]).join("")}function k(J){return J?J.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function n(J){var P=document.createElement("div");P.appendChild(J.cloneNode(true));return P.innerHTML}function j(J){function P(ma){function U(Ga){Ga+=Z;p=oa[Ga]=oa[Ga]||
a(p,G[p.parent.key+Z]||p.parent,null,true)}var ua,pa=ma,p,ya;if(ya=ma.getAttribute(E)){for(;pa.parentNode&&(pa=pa.parentNode).nodeType===1&&!(ua=pa.getAttribute(E)););if(ua!==ya){pa=pa.parentNode?pa.nodeType===11?0:pa.getAttribute(E)||0:0;if(!(p=G[ya])){p=D[ya];p=a(p,G[pa]||D[pa],null,true);p.key=++q;G[q]=p}B&&U(ya)}ma.removeAttribute(E)}else if(B&&(p=jQuery.data(ma,"tmplItem"))){U(p.key);G[p.key]=p;pa=(pa=jQuery.data(ma.parentNode,"tmplItem"))?pa.key:0}if(p){for(ua=p;ua&&ua.key!=pa;){ua.nodes.push(ma);
ua=ua.parent}delete p._ctnt;delete p._wrap;jQuery.data(ma,"tmplItem",p)}}var Z="_"+B,X,ka,oa={},I,R,ba;I=0;for(R=J.length;I<R;I++)if((X=J[I]).nodeType===1){ka=X.getElementsByTagName("*");for(ba=ka.length-1;ba>=0;ba--)P(ka[ba]);P(X)}}function u(J,P,Z,X){if(!J)return K.pop();K.push({_:J,tmpl:P,item:this,data:Z,options:X})}function o(J,P,Z){return jQuery.tmpl(jQuery.template(J),P,Z,this)}function w(J,P){var Z=J.options||{};Z.wrapped=P;return jQuery.tmpl(jQuery.template(J.tmpl),J.data,Z,J.item)}function z(J,
P){var Z=this._wrap;return jQuery.map(jQuery(jQuery.isArray(Z)?Z.join(""):Z).filter(J||"*"),function(X){return P?X.innerText||X.textContent:X.outerHTML||n(X)})}function A(){var J=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(J[0]);jQuery(J).remove()}var L=jQuery.fn.domManip,E="_tmplitem",Q=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,G={},D={},C,s={key:0,data:{}},q=0,B=0,K=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(J,
P){jQuery.fn[J]=function(Z){var X=[];Z=jQuery(Z);var ka,oa,I;ka=this.length===1&&this[0].parentNode;C=G||{};if(ka&&ka.nodeType===11&&ka.childNodes.length===1&&Z.length===1){Z[P](this[0]);X=this}else{oa=0;for(I=Z.length;oa<I;oa++){B=oa;ka=(oa>0?this.clone(true):this).get();jQuery.fn[P].apply(jQuery(Z[oa]),ka);X=X.concat(ka)}B=0;X=this.pushStack(X,J,Z.selector)}Z=C;C=null;jQuery.tmpl.complete(Z);return X}});jQuery.fn.extend({tmpl:function(J,P,Z){return jQuery.tmpl(this[0],J,P,Z)},tmplItem:function(){return jQuery.tmplItem(this[0])},
template:function(J){return jQuery.template(J,this[0])},domManip:function(J,P,Z){if(J[0]&&J[0].nodeType){for(var X=jQuery.makeArray(arguments),ka=J.length,oa=0,I;oa<ka&&!(I=jQuery.data(J[oa++],"tmplItem")););if(ka>1)X[0]=[jQuery.makeArray(J)];if(I&&B)X[2]=function(R){jQuery.tmpl.afterManip(this,R,Z)};L.apply(this,X)}else L.apply(this,arguments);B=0;C||jQuery.tmpl.complete(G);return this}});jQuery.extend({tmpl:function(J,P,Z,X){var ka=!X;if(ka){X=s;J=jQuery.template[J]||jQuery.template(null,J);D={}}else if(!J){J=
X.tmpl;G[X.key]=X;X.nodes=[];X.wrapped&&c(X,X.wrapped);return jQuery(d(X,null,X.tmpl(jQuery,X)))}if(!J)return[];if(typeof P==="function")P=P.call(X||{});Z&&Z.wrapped&&c(Z,Z.wrapped);P=jQuery.isArray(P)?jQuery.map(P,function(oa){return oa?a(Z,X,J,oa):null}):[a(Z,X,J,P)];return ka?jQuery(d(X,null,P)):P},tmplItem:function(J){var P;if(J instanceof jQuery)J=J[0];for(;J&&J.nodeType===1&&!(P=jQuery.data(J,"tmplItem"))&&(J=J.parentNode););return P||s},template:function(J,P){if(P){if(typeof P==="string")P=
f(P);else if(P instanceof jQuery)P=P[0]||{};if(P.nodeType)P=jQuery.data(P,"tmpl")||jQuery.data(P,"tmpl",f(P.innerHTML));return typeof J==="string"?(jQuery.template[J]=P):P}return J?typeof J!=="string"?jQuery.template(null,J):jQuery.template[J]||jQuery.template(null,Q.test(J)?J:jQuery(J)):null},encode:function(J){return(""+J).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},
wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){G=
{}},afterManip:function(J,P,Z){var X=P.nodeType===11?jQuery.makeArray(P.childNodes):P.nodeType===1?[P]:[];Z.call(J,P);j(X);B++}});$.View.register({suffix:"tmpl",renderer:function(J,P){var Z=$.template(null,P);return function(X){return Z.call($,$,{data:X}).join("")}},script:function(J,P){return"function(data){return ("+$.template(null,P)+").call(jQuery, jQuery, {data: data}).join(''); }"}});jQuery.View.ext=".tmpl"});steal.loaded("jquery/view/tmpl/tmpl.js");
steal("jquery").then(function(a){var d=function(C){return C.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},e=a.makeArray,f=1,c=a.View=function(C,s,q,B){if(typeof q==="function"){B=q;q=undefined}var K=u(s);if(K.length){var J=a.Deferred();K.push(n(C,true));a.when.apply(a,K).then(function(Z){var X=e(arguments),ka=X.pop()[0];if(j(s))s=o(Z);else for(var oa in s)if(j(s[oa]))s[oa]=o(X.shift());X=ka(s,q);J.resolve(X);B&&B(X)});return J.promise()}else{var P;K=typeof B==="function";J=n(C,K);if(K){P=J;J.done(function(Z){B(Z(s,
q))})}else J.done(function(Z){P=Z(s,q)});return P}},k=function(C,s){if(!C.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+s;},n=function(C,s){return a.ajax({url:C,dataType:"view",async:s})},j=function(C){return C&&a.isFunction(C.always)},u=function(C){var s=[];if(j(C))return[C];else for(var q in C)j(C[q])&&s.push(C[q]);return s},o=function(C){return a.isArray(C)&&C.length===3&&C[1]==="success"?C[0]:C};a.ajaxTransport("view",function(C,s){var q=s.url;C=q.match(/\.[\w\d]+$/);
var B,K,J,P,Z=function(ka){ka=B.renderer(J,ka);if(c.cache)c.cached[J]=ka;return{view:ka}};if(K=document.getElementById(q))C="."+K.type.match(/\/(x\-)?(.+)/)[2];if(!C){C=c.ext;q+=c.ext}J=d(q);if(q.match(/^\/\//)){var X=q.substr(2);q=typeof steal==="undefined"?(q="/"+X):steal.root.mapJoin(X)+""}B=c.types[C];return{send:function(ka,oa){if(c.cached[J])return oa(200,"success",{view:c.cached[J]});else if(K)oa(200,"success",Z(K.innerHTML));else P=a.ajax({async:s.async,url:q,dataType:"text",error:function(){k("",
q);oa(404)},success:function(I){k(I,q);oa(200,"success",Z(I))}})},abort:function(){P&&P.abort()}}});a.extend(c,{hookups:{},hookup:function(C){var s=++f;c.hookups[s]=C;return s},cached:{},cache:true,register:function(C){this.types["."+C.suffix]=C;window.steal&&steal.type(C.suffix+" view js",function(s,q){var B=c.types["."+s.type],K=d(s.rootSrc+"");s.text=B.script(K,s.text);q()})},types:{},ext:".ejs",registerScript:function(C,s,q){return"$.View.preload('"+s+"',"+c.types["."+C].script(s,q)+");"},preload:function(C,
s){c.cached[C]=function(q,B){return s.call(q,q,B)}}});window.steal&&steal.type("view js",function(C,s){var q=c.types["."+C.type],B=d(C.rootSrc+"");C.text="steal('"+(q.plugin||"jquery/view/"+C.type)+"').then(function($){$.View.preload('"+B+"',"+C.text+");\n})";s()});var w,z,A,L,E,Q,G,D={val:true,text:true};w=function(C){var s=a.fn[C];a.fn[C]=function(){var q=e(arguments),B,K,J=this;if(j(q[0])){q[0].done(function(P){z.call(J,[P],s)});return this}else if(A(q)){if(B=Q(q)){K=q[B];q[B]=function(P){z.call(J,
[P],s);K.call(J,P)};c.apply(c,q);return this}q=c.apply(c,q);if(j(q)){q.done(function(P){z.call(J,[P],s)});return this}else q=[q]}return D[C]?s.apply(this,q):z.call(this,q,s)}};z=function(C,s){var q;for(var B in c.hookups)break;if(B&&C[0]&&L(C[0])){q=c.hookups;c.hookups={};C[0]=a(C[0])}s=s.apply(this,C);q&&G(C[0],q);return s};A=function(C){var s=typeof C[1];return typeof C[0]=="string"&&(s=="object"||s=="function")&&!E(C[1])};E=function(C){return C.nodeType||C.jquery};L=function(C){if(E(C))return true;
else if(typeof C==="string"){C=a.trim(C);return C.substr(0,1)==="<"&&C.substr(C.length-1,1)===">"&&C.length>=3}else return false};Q=function(C){return typeof C[3]==="function"?3:typeof C[2]==="function"&&2};G=function(C,s){var q,B=0,K,J;C=C.filter(function(){return this.nodeType!=3});C=C.add("[data-view-id]",C);for(q=C.length;B<q;B++)if(C[B].getAttribute&&(K=C[B].getAttribute("data-view-id"))&&(J=s[K])){J(C[B],K);delete s[K];C[B].removeAttribute("data-view-id")}a.extend(c.hookups,s)};a.fn.hookup=
function(){var C=c.hookups;c.hookups={};G(this,C);return this};a.each(["prepend","append","after","before","text","html","replaceWith","val"],function(C,s){w(s)})});steal.loaded("jquery/view/view.js");
(function(a,d){function e(g){var h=ya[g]={},r,t;g=g.split(/\s+/);r=0;for(t=g.length;r<t;r++)h[g[r]]=true;return h}function f(g,h,r){if(r===d&&g.nodeType===1){r="data-"+h.replace(na,"-$1").toLowerCase();r=g.getAttribute(r);if(typeof r==="string"){try{r=r==="true"?true:r==="false"?false:r==="null"?null:p.isNumeric(r)?parseFloat(r):ha.test(r)?p.parseJSON(r):r}catch(t){}p.data(g,h,r)}else r=d}return r}function c(g){for(var h in g)if(!(h==="data"&&p.isEmptyObject(g[h])))if(h!=="toJSON")return false;return true}
function k(g,h,r){var t=h+"defer",v=h+"queue",x=h+"mark",H=p._data(g,t);if(H&&(r==="queue"||!p._data(g,v))&&(r==="mark"||!p._data(g,x)))setTimeout(function(){if(!p._data(g,v)&&!p._data(g,x)){p.removeData(g,t,true);H.fire()}},0)}function n(){return false}function j(){return true}function u(g){return!g||!g.parentNode||g.parentNode.nodeType===11}function o(g,h,r){h=h||0;if(p.isFunction(h))return p.grep(g,function(v,x){return!!h.call(v,x,v)===r});else if(h.nodeType)return p.grep(g,function(v){return v===
h===r});else if(typeof h==="string"){var t=p.grep(g,function(v){return v.nodeType===1});if(Db.test(h))return p.filter(h,t,!r);else h=p.filter(h,t)}return p.grep(g,function(v){return p.inArray(v,h)>=0===r})}function w(g){var h=hb.split("|");g=g.createDocumentFragment();if(g.createElement)for(;h.length;)g.createElement(h.pop());return g}function z(g){return p.nodeName(g,"table")?g.getElementsByTagName("tbody")[0]||g.appendChild(g.ownerDocument.createElement("tbody")):g}function A(g,h){if(!(h.nodeType!==
1||!p.hasData(g))){var r,t,v;t=p._data(g);g=p._data(h,t);var x=t.events;if(x){delete g.handle;g.events={};for(r in x){t=0;for(v=x[r].length;t<v;t++)p.event.add(h,r+(x[r][t].namespace?".":"")+x[r][t].namespace,x[r][t],x[r][t].data)}}if(g.data)g.data=p.extend({},g.data)}}function L(g,h){var r;if(h.nodeType===1){h.clearAttributes&&h.clearAttributes();h.mergeAttributes&&h.mergeAttributes(g);r=h.nodeName.toLowerCase();if(r==="object")h.outerHTML=g.outerHTML;else if(r==="input"&&(g.type==="checkbox"||g.type===
"radio")){if(g.checked)h.defaultChecked=h.checked=g.checked;if(h.value!==g.value)h.value=g.value}else if(r==="option")h.selected=g.defaultSelected;else if(r==="input"||r==="textarea")h.defaultValue=g.defaultValue;h.removeAttribute(p.expando)}}function E(g){return typeof g.getElementsByTagName!=="undefined"?g.getElementsByTagName("*"):typeof g.querySelectorAll!=="undefined"?g.querySelectorAll("*"):[]}function Q(g){if(g.type==="checkbox"||g.type==="radio")g.defaultChecked=g.checked}function G(g){var h=
(g.nodeName||"").toLowerCase();if(h==="input")Q(g);else h!=="script"&&typeof g.getElementsByTagName!=="undefined"&&p.grep(g.getElementsByTagName("input"),Q)}function D(g){var h=U.createElement("div");ib.appendChild(h);h.innerHTML=g.outerHTML;return h.firstChild}function C(g,h){h.src?p.ajax({url:h.src,async:false,dataType:"script"}):p.globalEval((h.text||h.textContent||h.innerHTML||"").replace(Eb,"/*$0*/"));h.parentNode&&h.parentNode.removeChild(h)}function s(g,h,r){var t=h==="width"?g.offsetWidth:
g.offsetHeight,v=h==="width"?Fb:Gb,x=0,H=v.length;if(t>0){if(r!=="border")for(;x<H;x++){r||(t-=parseFloat(p.css(g,"padding"+v[x]))||0);if(r==="margin")t+=parseFloat(p.css(g,r+v[x]))||0;else t-=parseFloat(p.css(g,"border"+v[x]+"Width"))||0}return t+"px"}t=Ta(g,h,h);if(t<0||t==null)t=g.style[h]||0;t=parseFloat(t)||0;if(r)for(;x<H;x++){t+=parseFloat(p.css(g,"padding"+v[x]))||0;if(r!=="padding")t+=parseFloat(p.css(g,"border"+v[x]+"Width"))||0;if(r==="margin")t+=parseFloat(p.css(g,r+v[x]))||0}return t+
"px"}function q(g){return function(h,r){if(typeof h!=="string"){r=h;h="*"}if(p.isFunction(r)){h=h.toLowerCase().split(jb);for(var t=0,v=h.length,x,H;t<v;t++){x=h[t];if(H=/^\+/.test(x))x=x.substr(1)||"*";x=g[x]=g[x]||[];x[H?"unshift":"push"](r)}}}}function B(g,h,r,t,v,x){v=v||h.dataTypes[0];x=x||{};x[v]=true;v=g[v];for(var H=0,M=v?v.length:0,N=g===bb,S;H<M&&(N||!S);H++){S=v[H](h,r,t);if(typeof S==="string")if(!N||x[S])S=d;else{h.dataTypes.unshift(S);S=B(g,h,r,t,S,x)}}if((N||!S)&&!x["*"])S=B(g,h,r,
t,"*",x);return S}function K(g,h){var r,t,v=p.ajaxSettings.flatOptions||{};for(r in h)if(h[r]!==d)(v[r]?g:t||(t={}))[r]=h[r];t&&p.extend(true,g,t)}function J(g,h,r,t){if(p.isArray(h))p.each(h,function(x,H){r||Hb.test(g)?t(g,H):J(g+"["+(typeof H==="object"||p.isArray(H)?x:"")+"]",H,r,t)});else if(!r&&h!=null&&typeof h==="object")for(var v in h)J(g+"["+v+"]",h[v],r,t);else t(g,h)}function P(g,h,r){var t=g.contents,v=g.dataTypes,x=g.responseFields,H,M,N,S;for(M in x)if(M in r)h[x[M]]=r[M];for(;v[0]===
"*";){v.shift();if(H===d)H=g.mimeType||h.getResponseHeader("content-type")}if(H)for(M in t)if(t[M]&&t[M].test(H)){v.unshift(M);break}if(v[0]in r)N=v[0];else{for(M in r){if(!v[0]||g.converters[M+" "+v[0]]){N=M;break}S||(S=M)}N=N||S}if(N){N!==v[0]&&v.unshift(N);return r[N]}}function Z(g,h){if(g.dataFilter)h=g.dataFilter(h,g.dataType);var r=g.dataTypes,t={},v,x,H=r.length,M,N=r[0],S,ea,W,ga,da;for(v=1;v<H;v++){if(v===1)for(x in g.converters)if(typeof x==="string")t[x.toLowerCase()]=g.converters[x];S=
N;N=r[v];if(N==="*")N=S;else if(S!=="*"&&S!==N){ea=S+" "+N;W=t[ea]||t["* "+N];if(!W){da=d;for(ga in t){M=ga.split(" ");if(M[0]===S||M[0]==="*")if(da=t[M[1]+" "+N]){ga=t[ga];if(ga===true)W=da;else if(da===true)W=ga;break}}}W||da||p.error("No conversion from "+ea.replace(" "," to "));if(W!==true)h=W?W(h):da(ga(h))}}return h}function X(){try{return new a.XMLHttpRequest}catch(g){}}function ka(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(g){}}function oa(){setTimeout(I,0);return Xa=p.now()}
function I(){Xa=d}function R(g,h){var r={};p.each(kb.concat.apply([],kb.slice(0,h)),function(){r[this]=g});return r}function ba(g){if(!cb[g]){var h=U.body,r=p("<"+g+">").appendTo(h),t=r.css("display");r.remove();if(t==="none"||t===""){if(!Ma){Ma=U.createElement("iframe");Ma.frameBorder=Ma.width=Ma.height=0}h.appendChild(Ma);if(!Ua||!Ma.createElement){Ua=(Ma.contentWindow||Ma.contentDocument).document;Ua.write((U.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Ua.close()}r=Ua.createElement(g);
Ua.body.appendChild(r);t=p.css(r,"display");h.removeChild(Ma)}cb[g]=t}return cb[g]}function ma(g){return p.isWindow(g)?g:g.nodeType===9?g.defaultView||g.parentWindow:false}var U=a.document,ua=a.navigator,pa=a.location,p=function(){function g(){if(!h.isReady){try{U.documentElement.doScroll("left")}catch(O){setTimeout(g,1);return}h.ready()}}var h=function(O,aa){return new h.fn.init(O,aa,v)},r=a.jQuery,t=a.$,v,x=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,H=/\S/,M=/^\s+/,N=/\s+$/,S=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
ea=/^[\],:{}\s]*$/,W=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,ga=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,da=/(?:^|:|,)(?:\s*\[)+/g,ra=/(webkit)[ \/]([\w.]+)/,za=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ba=/(msie) ([\w.]+)/,Aa=/(mozilla)(?:.*? rv:([\w.]+))?/,Pa=/-([a-z]|[0-9])/ig,sa=/^-ms-/,Na=function(O,aa){return(aa+"").toUpperCase()},Ja=ua.userAgent,y,F,T=Object.prototype.toString,V=Object.prototype.hasOwnProperty,Y=Array.prototype.push,ca=Array.prototype.slice,ia=String.prototype.trim,
la=Array.prototype.indexOf,va={};h.fn=h.prototype={constructor:h,init:function(O,aa,ja){var fa;if(!O)return this;if(O.nodeType){this.context=this[0]=O;this.length=1;return this}if(O==="body"&&!aa&&U.body){this.context=U;this[0]=U.body;this.selector=O;this.length=1;return this}if(typeof O==="string")if((fa=O.charAt(0)==="<"&&O.charAt(O.length-1)===">"&&O.length>=3?[null,O,null]:x.exec(O))&&(fa[1]||!aa))if(fa[1]){ja=(aa=aa instanceof h?aa[0]:aa)?aa.ownerDocument||aa:U;if(O=S.exec(O))if(h.isPlainObject(aa)){O=
[U.createElement(O[1])];h.fn.attr.call(O,aa,true)}else O=[ja.createElement(O[1])];else{O=h.buildFragment([fa[1]],[ja]);O=(O.cacheable?h.clone(O.fragment):O.fragment).childNodes}return h.merge(this,O)}else{if((aa=U.getElementById(fa[2]))&&aa.parentNode){if(aa.id!==fa[2])return ja.find(O);this.length=1;this[0]=aa}this.context=U;this.selector=O;return this}else return!aa||aa.jquery?(aa||ja).find(O):this.constructor(aa).find(O);else if(h.isFunction(O))return ja.ready(O);if(O.selector!==d){this.selector=
O.selector;this.context=O.context}return h.makeArray(O,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return ca.call(this,0)},get:function(O){return O==null?this.toArray():O<0?this[this.length+O]:this[O]},pushStack:function(O,aa,ja){var fa=this.constructor();h.isArray(O)?Y.apply(fa,O):h.merge(fa,O);fa.prevObject=this;fa.context=this.context;if(aa==="find")fa.selector=this.selector+(this.selector?" ":"")+ja;else if(aa)fa.selector=this.selector+"."+
aa+"("+ja+")";return fa},each:function(O,aa){return h.each(this,O,aa)},ready:function(O){h.bindReady();y.add(O);return this},eq:function(O){O=+O;return O===-1?this.slice(O):this.slice(O,O+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ca.apply(this,arguments),"slice",ca.call(arguments).join(","))},map:function(O){return this.pushStack(h.map(this,function(aa,ja){return O.call(aa,ja,aa)}))},end:function(){return this.prevObject||this.constructor(null)},
push:Y,sort:[].sort,splice:[].splice};h.fn.init.prototype=h.fn;h.extend=h.fn.extend=function(){var O,aa,ja,fa,wa,ta=arguments[0]||{},Ca=1,Ea=arguments.length,db=false;if(typeof ta==="boolean"){db=ta;ta=arguments[1]||{};Ca=2}if(typeof ta!=="object"&&!h.isFunction(ta))ta={};if(Ea===Ca){ta=this;--Ca}for(;Ca<Ea;Ca++)if((O=arguments[Ca])!=null)for(aa in O){ja=ta[aa];fa=O[aa];if(ta!==fa)if(db&&fa&&(h.isPlainObject(fa)||(wa=h.isArray(fa)))){if(wa){wa=false;ja=ja&&h.isArray(ja)?ja:[]}else ja=ja&&h.isPlainObject(ja)?
ja:{};ta[aa]=h.extend(db,ja,fa)}else if(fa!==d)ta[aa]=fa}return ta};h.extend({noConflict:function(O){if(a.$===h)a.$=t;if(O&&a.jQuery===h)a.jQuery=r;return h},isReady:false,readyWait:1,holdReady:function(O){if(O)h.readyWait++;else h.ready(true)},ready:function(O){if(O===true&&!--h.readyWait||O!==true&&!h.isReady){if(!U.body)return setTimeout(h.ready,1);h.isReady=true;if(!(O!==true&&--h.readyWait>0)){y.fireWith(U,[h]);h.fn.trigger&&h(U).trigger("ready").off("ready")}}},bindReady:function(){if(!y){y=
h.Callbacks("once memory");if(U.readyState==="complete")return setTimeout(h.ready,1);if(U.addEventListener){U.addEventListener("DOMContentLoaded",F,false);a.addEventListener("load",h.ready,false)}else if(U.attachEvent){U.attachEvent("onreadystatechange",F);a.attachEvent("onload",h.ready);var O=false;try{O=a.frameElement==null}catch(aa){}U.documentElement.doScroll&&O&&g()}}},isFunction:function(O){return h.type(O)==="function"},isArray:Array.isArray||function(O){return h.type(O)==="array"},isWindow:function(O){return O&&
typeof O==="object"&&"setInterval"in O},isNumeric:function(O){return!isNaN(parseFloat(O))&&isFinite(O)},type:function(O){return O==null?String(O):va[T.call(O)]||"object"},isPlainObject:function(O){if(!O||h.type(O)!=="object"||O.nodeType||h.isWindow(O))return false;try{if(O.constructor&&!V.call(O,"constructor")&&!V.call(O.constructor.prototype,"isPrototypeOf"))return false}catch(aa){return false}var ja;for(ja in O);return ja===d||V.call(O,ja)},isEmptyObject:function(O){for(var aa in O)return false;
return true},error:function(O){throw new Error(O);},parseJSON:function(O){if(typeof O!=="string"||!O)return null;O=h.trim(O);if(a.JSON&&a.JSON.parse)return a.JSON.parse(O);if(ea.test(O.replace(W,"@").replace(ga,"]").replace(da,"")))return(new Function("return "+O))();h.error("Invalid JSON: "+O)},parseXML:function(O){var aa,ja;try{if(a.DOMParser){ja=new DOMParser;aa=ja.parseFromString(O,"text/xml")}else{aa=new ActiveXObject("Microsoft.XMLDOM");aa.async="false";aa.loadXML(O)}}catch(fa){aa=d}if(!aa||
!aa.documentElement||aa.getElementsByTagName("parsererror").length)h.error("Invalid XML: "+O);return aa},noop:function(){},globalEval:function(O){if(O&&H.test(O))(a.execScript||function(aa){a.eval.call(a,aa)})(O)},camelCase:function(O){return O.replace(sa,"ms-").replace(Pa,Na)},nodeName:function(O,aa){return O.nodeName&&O.nodeName.toUpperCase()===aa.toUpperCase()},each:function(O,aa,ja){var fa,wa=0,ta=O.length,Ca=ta===d||h.isFunction(O);if(ja)if(Ca)for(fa in O){if(aa.apply(O[fa],ja)===false)break}else for(;wa<
ta;){if(aa.apply(O[wa++],ja)===false)break}else if(Ca)for(fa in O){if(aa.call(O[fa],fa,O[fa])===false)break}else for(;wa<ta;)if(aa.call(O[wa],wa,O[wa++])===false)break;return O},trim:ia?function(O){return O==null?"":ia.call(O)}:function(O){return O==null?"":O.toString().replace(M,"").replace(N,"")},makeArray:function(O,aa){aa=aa||[];if(O!=null){var ja=h.type(O);O.length==null||ja==="string"||ja==="function"||ja==="regexp"||h.isWindow(O)?Y.call(aa,O):h.merge(aa,O)}return aa},inArray:function(O,aa,
ja){var fa;if(aa){if(la)return la.call(aa,O,ja);fa=aa.length;for(ja=ja?ja<0?Math.max(0,fa+ja):ja:0;ja<fa;ja++)if(ja in aa&&aa[ja]===O)return ja}return-1},merge:function(O,aa){var ja=O.length,fa=0;if(typeof aa.length==="number")for(var wa=aa.length;fa<wa;fa++)O[ja++]=aa[fa];else for(;aa[fa]!==d;)O[ja++]=aa[fa++];O.length=ja;return O},grep:function(O,aa,ja){var fa=[],wa;ja=!!ja;for(var ta=0,Ca=O.length;ta<Ca;ta++){wa=!!aa(O[ta],ta);ja!==wa&&fa.push(O[ta])}return fa},map:function(O,aa,ja){var fa,wa,
ta=[],Ca=0,Ea=O.length;if(O instanceof h||Ea!==d&&typeof Ea==="number"&&(Ea>0&&O[0]&&O[Ea-1]||Ea===0||h.isArray(O)))for(;Ca<Ea;Ca++){fa=aa(O[Ca],Ca,ja);if(fa!=null)ta[ta.length]=fa}else for(wa in O){fa=aa(O[wa],wa,ja);if(fa!=null)ta[ta.length]=fa}return ta.concat.apply([],ta)},guid:1,proxy:function(O,aa){if(typeof aa==="string"){var ja=O[aa];aa=O;O=ja}if(!h.isFunction(O))return d;var fa=ca.call(arguments,2);ja=function(){return O.apply(aa,fa.concat(ca.call(arguments)))};ja.guid=O.guid=O.guid||ja.guid||
h.guid++;return ja},access:function(O,aa,ja,fa,wa,ta){var Ca=O.length;if(typeof aa==="object"){for(var Ea in aa)h.access(O,Ea,aa[Ea],fa,wa,ja);return O}if(ja!==d){fa=!ta&&fa&&h.isFunction(ja);for(Ea=0;Ea<Ca;Ea++)wa(O[Ea],aa,fa?ja.call(O[Ea],Ea,wa(O[Ea],aa)):ja,ta);return O}return Ca?wa(O[0],aa):d},now:function(){return(new Date).getTime()},uaMatch:function(O){O=O.toLowerCase();O=ra.exec(O)||za.exec(O)||Ba.exec(O)||O.indexOf("compatible")<0&&Aa.exec(O)||[];return{browser:O[1]||"",version:O[2]||"0"}},
sub:function(){function O(ja,fa){return new O.fn.init(ja,fa)}h.extend(true,O,this);O.superclass=this;O.fn=O.prototype=this();O.fn.constructor=O;O.sub=this.sub;O.fn.init=function(ja,fa){if(fa&&fa instanceof h&&!(fa instanceof O))fa=O(fa);return h.fn.init.call(this,ja,fa,aa)};O.fn.init.prototype=O.fn;var aa=O(U);return O},browser:{}});h.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(O,aa){va["[object "+aa+"]"]=aa.toLowerCase()});Ja=h.uaMatch(Ja);if(Ja.browser){h.browser[Ja.browser]=
true;h.browser.version=Ja.version}if(h.browser.webkit)h.browser.safari=true;if(H.test("\u00a0")){M=/^[\s\xA0]+/;N=/[\s\xA0]+$/}v=h(U);if(U.addEventListener)F=function(){U.removeEventListener("DOMContentLoaded",F,false);h.ready()};else if(U.attachEvent)F=function(){if(U.readyState==="complete"){U.detachEvent("onreadystatechange",F);h.ready()}};return h}(),ya={};p.Callbacks=function(g){g=g?ya[g]||e(g):{};var h=[],r=[],t,v,x,H,M,N=function(W){var ga,da,ra,za;ga=0;for(da=W.length;ga<da;ga++){ra=W[ga];
za=p.type(ra);if(za==="array")N(ra);else if(za==="function")if(!g.unique||!ea.has(ra))h.push(ra)}},S=function(W,ga){ga=ga||[];t=!g.memory||[W,ga];v=true;M=x||0;x=0;for(H=h.length;h&&M<H;M++)if(h[M].apply(W,ga)===false&&g.stopOnFalse){t=true;break}v=false;if(h)if(g.once)if(t===true)ea.disable();else h=[];else if(r&&r.length){t=r.shift();ea.fireWith(t[0],t[1])}},ea={add:function(){if(h){var W=h.length;N(arguments);if(v)H=h.length;else if(t&&t!==true){x=W;S(t[0],t[1])}}return this},remove:function(){if(h)for(var W=
arguments,ga=0,da=W.length;ga<da;ga++)for(var ra=0;ra<h.length;ra++)if(W[ga]===h[ra]){if(v)if(ra<=H){H--;ra<=M&&M--}h.splice(ra--,1);if(g.unique)break}return this},has:function(W){if(h)for(var ga=0,da=h.length;ga<da;ga++)if(W===h[ga])return true;return false},empty:function(){h=[];return this},disable:function(){h=r=t=d;return this},disabled:function(){return!h},lock:function(){r=d;if(!t||t===true)ea.disable();return this},locked:function(){return!r},fireWith:function(W,ga){if(r)if(v)g.once||r.push([W,
ga]);else g.once&&t||S(W,ga);return this},fire:function(){ea.fireWith(this,arguments);return this},fired:function(){return!!t}};return ea};var Ga=[].slice;p.extend({Deferred:function(g){var h=p.Callbacks("once memory"),r=p.Callbacks("once memory"),t=p.Callbacks("memory"),v="pending",x={resolve:h,reject:r,notify:t},H={done:h.add,fail:r.add,progress:t.add,state:function(){return v},isResolved:h.fired,isRejected:r.fired,then:function(S,ea,W){M.done(S).fail(ea).progress(W);return this},always:function(){M.done.apply(M,
arguments).fail.apply(M,arguments);return this},pipe:function(S,ea,W){return p.Deferred(function(ga){p.each({done:[S,"resolve"],fail:[ea,"reject"],progress:[W,"notify"]},function(da,ra){var za=ra[0],Ba=ra[1],Aa;p.isFunction(za)?M[da](function(){(Aa=za.apply(this,arguments))&&p.isFunction(Aa.promise)?Aa.promise().then(ga.resolve,ga.reject,ga.notify):ga[Ba+"With"](this===M?ga:this,[Aa])}):M[da](ga[Ba])})}).promise()},promise:function(S){if(S==null)S=H;else for(var ea in H)S[ea]=H[ea];return S}},M=H.promise({}),
N;for(N in x){M[N]=x[N].fire;M[N+"With"]=x[N].fireWith}M.done(function(){v="resolved"},r.disable,t.lock).fail(function(){v="rejected"},h.disable,t.lock);g&&g.call(M,M);return M},when:function(g){function h(ea){return function(W){t[ea]=arguments.length>1?Ga.call(arguments,0):W;--M||N.resolveWith(N,t)}}function r(ea){return function(W){H[ea]=arguments.length>1?Ga.call(arguments,0):W;N.notifyWith(S,H)}}var t=Ga.call(arguments,0),v=0,x=t.length,H=new Array(x),M=x,N=x<=1&&g&&p.isFunction(g.promise)?g:
p.Deferred(),S=N.promise();if(x>1){for(;v<x;v++)if(t[v]&&t[v].promise&&p.isFunction(t[v].promise))t[v].promise().then(h(v),N.reject,r(v));else--M;M||N.resolveWith(N,t)}else if(N!==g)N.resolveWith(N,x?[g]:[]);return S}});p.support=function(){var g,h,r,t,v,x,H,M,N=U.createElement("div");N.setAttribute("className","t");N.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";h=N.getElementsByTagName("*");r=N.getElementsByTagName("a")[0];
if(!h||!h.length||!r)return{};t=U.createElement("select");v=t.appendChild(U.createElement("option"));h=N.getElementsByTagName("input")[0];g={leadingWhitespace:N.firstChild.nodeType===3,tbody:!N.getElementsByTagName("tbody").length,htmlSerialize:!!N.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:h.value==="on",optSelected:v.selected,getSetAttribute:N.className!==
"t",enctype:!!U.createElement("form").enctype,html5Clone:U.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};h.checked=true;g.noCloneChecked=h.cloneNode(true).checked;t.disabled=true;g.optDisabled=!v.disabled;try{delete N.test}catch(S){g.deleteExpando=false}if(!N.addEventListener&&N.attachEvent&&N.fireEvent){N.attachEvent("onclick",
function(){g.noCloneEvent=false});N.cloneNode(true).fireEvent("onclick")}h=U.createElement("input");h.value="t";h.setAttribute("type","radio");g.radioValue=h.value==="t";h.setAttribute("checked","checked");N.appendChild(h);r=U.createDocumentFragment();r.appendChild(N.lastChild);g.checkClone=r.cloneNode(true).cloneNode(true).lastChild.checked;g.appendChecked=h.checked;r.removeChild(h);r.appendChild(N);N.innerHTML="";if(a.getComputedStyle){h=U.createElement("div");h.style.width="0";h.style.marginRight=
"0";N.style.width="2px";N.appendChild(h);g.reliableMarginRight=(parseInt((a.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0)===0}if(N.attachEvent)for(H in{submit:1,change:1,focusin:1}){h="on"+H;M=h in N;if(!M){N.setAttribute(h,"return;");M=typeof N[h]==="function"}g[H+"Bubbles"]=M}r.removeChild(N);r=t=v=h=N=h=null;p(function(){var ea,W,ga,da,ra=U.getElementsByTagName("body")[0];if(ra){ea=U.createElement("div");ea.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";
ra.insertBefore(ea,ra.firstChild);N=U.createElement("div");ea.appendChild(N);N.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";x=N.getElementsByTagName("td");M=x[0].offsetHeight===0;x[0].style.display="";x[1].style.display="none";g.reliableHiddenOffsets=M&&x[0].offsetHeight===0;N.innerHTML="";N.style.width=N.style.paddingLeft="1px";p.boxModel=g.boxModel=N.offsetWidth===2;if(typeof N.style.zoom!=="undefined"){N.style.display="inline";N.style.zoom=1;g.inlineBlockNeedsLayout=
N.offsetWidth===2;N.style.display="";N.innerHTML="<div style='width:4px;'></div>";g.shrinkWrapBlocks=N.offsetWidth!==2}N.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";N.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
W=N.firstChild;ga=W.firstChild;da={doesNotAddBorder:ga.offsetTop!==5,doesAddBorderForTableAndCells:W.nextSibling.firstChild.firstChild.offsetTop===5};ga.style.position="fixed";ga.style.top="20px";da.fixedPosition=ga.offsetTop===20||ga.offsetTop===15;ga.style.position=ga.style.top="";W.style.overflow="hidden";W.style.position="relative";da.subtractsBorderForOverflowNotVisible=ga.offsetTop===-5;da.doesNotIncludeMarginInBodyOffset=ra.offsetTop!==1;ra.removeChild(ea);N=null;p.extend(g,da)}});return g}();
var ha=/^(?:\{.*\}|\[.*\])$/,na=/([A-Z])/g;p.extend({cache:{},uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(g){g=g.nodeType?p.cache[g[p.expando]]:g[p.expando];return!!g&&!c(g)},data:function(g,h,r,t){if(p.acceptData(g)){var v;v=p.expando;var x=typeof h==="string",H=g.nodeType,M=H?p.cache:g,N=H?g[v]:g[v]&&v,S=h==="events";if(!((!N||!M[N]||!S&&!t&&!M[N].data)&&x&&r===d)){if(!N)if(H)g[v]=
N=++p.uuid;else N=v;if(!M[N]){M[N]={};if(!H)M[N].toJSON=p.noop}if(typeof h==="object"||typeof h==="function")if(t)M[N]=p.extend(M[N],h);else M[N].data=p.extend(M[N].data,h);v=g=M[N];if(!t){if(!g.data)g.data={};g=g.data}if(r!==d)g[p.camelCase(h)]=r;if(S&&!g[h])return v.events;if(x){r=g[h];if(r==null)r=g[p.camelCase(h)]}else r=g;return r}}},removeData:function(g,h,r){if(p.acceptData(g)){var t,v,x,H=p.expando,M=g.nodeType,N=M?p.cache:g,S=M?g[H]:H;if(N[S]){if(h)if(t=r?N[S]:N[S].data){if(!p.isArray(h))if(h in
t)h=[h];else{h=p.camelCase(h);h=h in t?[h]:h.split(" ")}v=0;for(x=h.length;v<x;v++)delete t[h[v]];if(!(r?c:p.isEmptyObject)(t))return}if(!r){delete N[S].data;if(!c(N[S]))return}if(p.support.deleteExpando||!N.setInterval)delete N[S];else N[S]=null;if(M)if(p.support.deleteExpando)delete g[H];else if(g.removeAttribute)g.removeAttribute(H);else g[H]=null}}},_data:function(g,h,r){return p.data(g,h,r,true)},acceptData:function(g){if(g.nodeName){var h=p.noData[g.nodeName.toLowerCase()];if(h)return!(h===
true||g.getAttribute("classid")!==h)}return true}});p.fn.extend({data:function(g,h){var r,t,v,x=null;if(typeof g==="undefined"){if(this.length){x=p.data(this[0]);if(this[0].nodeType===1&&!p._data(this[0],"parsedAttrs")){t=this[0].attributes;for(var H=0,M=t.length;H<M;H++){v=t[H].name;if(v.indexOf("data-")===0){v=p.camelCase(v.substring(5));f(this[0],v,x[v])}}p._data(this[0],"parsedAttrs",true)}}return x}else if(typeof g==="object")return this.each(function(){p.data(this,g)});r=g.split(".");r[1]=r[1]?
"."+r[1]:"";if(h===d){x=this.triggerHandler("getData"+r[1]+"!",[r[0]]);if(x===d&&this.length){x=p.data(this[0],g);x=f(this[0],g,x)}return x===d&&r[1]?this.data(r[0]):x}else return this.each(function(){var N=p(this),S=[r[0],h];N.triggerHandler("setData"+r[1]+"!",S);p.data(this,g,h);N.triggerHandler("changeData"+r[1]+"!",S)})},removeData:function(g){return this.each(function(){p.removeData(this,g)})}});p.extend({_mark:function(g,h){if(g){h=(h||"fx")+"mark";p._data(g,h,(p._data(g,h)||0)+1)}},_unmark:function(g,
h,r){if(g!==true){r=h;h=g;g=false}if(h){r=r||"fx";var t=r+"mark";if(g=g?0:(p._data(h,t)||1)-1)p._data(h,t,g);else{p.removeData(h,t,true);k(h,r,"mark")}}},queue:function(g,h,r){var t;if(g){h=(h||"fx")+"queue";t=p._data(g,h);if(r)if(!t||p.isArray(r))t=p._data(g,h,p.makeArray(r));else t.push(r);return t||[]}},dequeue:function(g,h){h=h||"fx";var r=p.queue(g,h),t=r.shift(),v={};if(t==="inprogress")t=r.shift();if(t){h==="fx"&&r.unshift("inprogress");p._data(g,h+".run",v);t.call(g,function(){p.dequeue(g,
h)},v)}if(!r.length){p.removeData(g,h+"queue "+h+".run",true);k(g,h,"queue")}}});p.fn.extend({queue:function(g,h){if(typeof g!=="string"){h=g;g="fx"}if(h===d)return p.queue(this[0],g);return this.each(function(){var r=p.queue(this,g,h);g==="fx"&&r[0]!=="inprogress"&&p.dequeue(this,g)})},dequeue:function(g){return this.each(function(){p.dequeue(this,g)})},delay:function(g,h){g=p.fx?p.fx.speeds[g]||g:g;h=h||"fx";return this.queue(h,function(r,t){var v=setTimeout(r,g);t.stop=function(){clearTimeout(v)}})},
clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,h){function r(){--x||t.resolveWith(v,[v])}if(typeof g!=="string"){h=g;g=d}g=g||"fx";var t=p.Deferred(),v=this;h=v.length;var x=1,H=g+"defer",M=g+"queue";g=g+"mark";for(var N;h--;)if(N=p.data(v[h],H,d,true)||(p.data(v[h],M,d,true)||p.data(v[h],g,d,true))&&p.data(v[h],H,p.Callbacks("once memory"),true)){x++;N.add(r)}r();return t.promise()}});var qa=/[\n\t\r]/g,xa=/\s+/,Da=/\r/g,Fa=/^(?:button|input)$/i,Ha=/^(?:button|input|object|select|textarea)$/i,
Ka=/^a(?:rea)?$/i,Oa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ya=p.support.getSetAttribute,La,Za,Wa;p.fn.extend({attr:function(g,h){return p.access(this,g,h,true,p.attr)},removeAttr:function(g){return this.each(function(){p.removeAttr(this,g)})},prop:function(g,h){return p.access(this,g,h,true,p.prop)},removeProp:function(g){g=p.propFix[g]||g;return this.each(function(){try{this[g]=d;delete this[g]}catch(h){}})},
addClass:function(g){var h,r,t,v,x,H,M;if(p.isFunction(g))return this.each(function(N){p(this).addClass(g.call(this,N,this.className))});if(g&&typeof g==="string"){h=g.split(xa);r=0;for(t=this.length;r<t;r++){v=this[r];if(v.nodeType===1)if(!v.className&&h.length===1)v.className=g;else{x=" "+v.className+" ";H=0;for(M=h.length;H<M;H++)~x.indexOf(" "+h[H]+" ")||(x+=h[H]+" ");v.className=p.trim(x)}}}return this},removeClass:function(g){var h,r,t,v,x,H,M;if(p.isFunction(g))return this.each(function(N){p(this).removeClass(g.call(this,
N,this.className))});if(g&&typeof g==="string"||g===d){h=(g||"").split(xa);r=0;for(t=this.length;r<t;r++){v=this[r];if(v.nodeType===1&&v.className)if(g){x=(" "+v.className+" ").replace(qa," ");H=0;for(M=h.length;H<M;H++)x=x.replace(" "+h[H]+" "," ");v.className=p.trim(x)}else v.className=""}}return this},toggleClass:function(g,h){var r=typeof g,t=typeof h==="boolean";if(p.isFunction(g))return this.each(function(v){p(this).toggleClass(g.call(this,v,this.className,h),h)});return this.each(function(){if(r===
"string")for(var v,x=0,H=p(this),M=h,N=g.split(xa);v=N[x++];){M=t?M:!H.hasClass(v);H[M?"addClass":"removeClass"](v)}else if(r==="undefined"||r==="boolean"){this.className&&p._data(this,"__className__",this.className);this.className=this.className||g===false?"":p._data(this,"__className__")||""}})},hasClass:function(g){g=" "+g+" ";for(var h=0,r=this.length;h<r;h++)if(this[h].nodeType===1&&(" "+this[h].className+" ").replace(qa," ").indexOf(g)>-1)return true;return false},val:function(g){var h,r,t,
v=this[0];if(arguments.length){t=p.isFunction(g);return this.each(function(x){var H=p(this);if(this.nodeType===1){x=t?g.call(this,x,H.val()):g;if(x==null)x="";else if(typeof x==="number")x+="";else if(p.isArray(x))x=p.map(x,function(M){return M==null?"":M+""});h=p.valHooks[this.nodeName.toLowerCase()]||p.valHooks[this.type];if(!h||!("set"in h)||h.set(this,x,"value")===d)this.value=x}})}else if(v){if((h=p.valHooks[v.nodeName.toLowerCase()]||p.valHooks[v.type])&&"get"in h&&(r=h.get(v,"value"))!==d)return r;
r=v.value;return typeof r==="string"?r.replace(Da,""):r==null?"":r}}});p.extend({valHooks:{option:{get:function(g){var h=g.attributes.value;return!h||h.specified?g.value:g.text}},select:{get:function(g){var h,r,t=g.selectedIndex,v=[],x=g.options,H=g.type==="select-one";if(t<0)return null;g=H?t:0;for(r=H?t+1:x.length;g<r;g++){h=x[g];if(h.selected&&(p.support.optDisabled?!h.disabled:h.getAttribute("disabled")===null)&&(!h.parentNode.disabled||!p.nodeName(h.parentNode,"optgroup"))){h=p(h).val();if(H)return h;
v.push(h)}}if(H&&!v.length&&x.length)return p(x[t]).val();return v},set:function(g,h){var r=p.makeArray(h);p(g).find("option").each(function(){this.selected=p.inArray(p(this).val(),r)>=0});if(!r.length)g.selectedIndex=-1;return r}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(g,h,r,t){var v,x,H=g.nodeType;if(!(!g||H===3||H===8||H===2)){if(t&&h in p.attrFn)return p(g)[h](r);if(typeof g.getAttribute==="undefined")return p.prop(g,h,r);if(t=
H!==1||!p.isXMLDoc(g)){h=h.toLowerCase();x=p.attrHooks[h]||(Oa.test(h)?Za:La)}if(r!==d)if(r===null)p.removeAttr(g,h);else if(x&&"set"in x&&t&&(v=x.set(g,r,h))!==d)return v;else{g.setAttribute(h,""+r);return r}else if(x&&"get"in x&&t&&(v=x.get(g,h))!==null)return v;else{v=g.getAttribute(h);return v===null?d:v}}},removeAttr:function(g,h){var r,t,v,x=0;if(h&&g.nodeType===1){r=h.toLowerCase().split(xa);for(v=r.length;x<v;x++)if(t=r[x]){h=p.propFix[t]||t;p.attr(g,t,"");g.removeAttribute(Ya?t:h);if(Oa.test(t)&&
h in g)g[h]=false}}},attrHooks:{type:{set:function(g,h){if(Fa.test(g.nodeName)&&g.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&h==="radio"&&p.nodeName(g,"input")){var r=g.value;g.setAttribute("type",h);if(r)g.value=r;return h}}},value:{get:function(g,h){if(La&&p.nodeName(g,"button"))return La.get(g,h);return h in g?g.value:null},set:function(g,h,r){if(La&&p.nodeName(g,"button"))return La.set(g,h,r);g.value=h}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",
"for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(g,h,r){var t,v,x=g.nodeType;if(!(!g||x===3||x===8||x===2)){if(x!==1||!p.isXMLDoc(g)){h=p.propFix[h]||h;v=p.propHooks[h]}return r!==d?v&&"set"in v&&(t=v.set(g,r,h))!==d?t:(g[h]=r):v&&"get"in v&&(t=v.get(g,h))!==null?t:g[h]}},propHooks:{tabIndex:{get:function(g){var h=
g.getAttributeNode("tabindex");return h&&h.specified?parseInt(h.value,10):Ha.test(g.nodeName)||Ka.test(g.nodeName)&&g.href?0:d}}}});p.attrHooks.tabindex=p.propHooks.tabIndex;Za={get:function(g,h){var r,t=p.prop(g,h);return t===true||typeof t!=="boolean"&&(r=g.getAttributeNode(h))&&r.nodeValue!==false?h.toLowerCase():d},set:function(g,h,r){if(h===false)p.removeAttr(g,r);else{h=p.propFix[r]||r;if(h in g)g[h]=true;g.setAttribute(r,r.toLowerCase())}return r}};if(!Ya){Wa={name:true,id:true};La=p.valHooks.button=
{get:function(g,h){return(g=g.getAttributeNode(h))&&(Wa[h]?g.nodeValue!=="":g.specified)?g.nodeValue:d},set:function(g,h,r){var t=g.getAttributeNode(r);if(!t){t=U.createAttribute(r);g.setAttributeNode(t)}return t.nodeValue=h+""}};p.attrHooks.tabindex.set=La.set;p.each(["width","height"],function(g,h){p.attrHooks[h]=p.extend(p.attrHooks[h],{set:function(r,t){if(t===""){r.setAttribute(h,"auto");return t}}})});p.attrHooks.contenteditable={get:La.get,set:function(g,h,r){if(h==="")h="false";La.set(g,h,
r)}}}p.support.hrefNormalized||p.each(["href","src","width","height"],function(g,h){p.attrHooks[h]=p.extend(p.attrHooks[h],{get:function(r){r=r.getAttribute(h,2);return r===null?d:r}})});if(!p.support.style)p.attrHooks.style={get:function(g){return g.style.cssText.toLowerCase()||d},set:function(g,h){return g.style.cssText=""+h}};if(!p.support.optSelected)p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(){return null}});if(!p.support.enctype)p.propFix.enctype="encoding";p.support.checkOn||
p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(g){return g.getAttribute("value")===null?"on":g.value}}});p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(g,h){if(p.isArray(h))return g.checked=p.inArray(p(g).val(),h)>=0}})});var Qa=/^(?:textarea|input|select)$/i,lb=/^([^\.]*)?(?:\.(.+))?$/,Ib=/\bhover(\.\S+)?\b/,Jb=/^key/,Kb=/^(?:mouse|contextmenu)|click/,mb=/^(?:focusinfocus|focusoutblur)$/,Lb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,
Mb=function(g){if(g=Lb.exec(g)){g[1]=(g[1]||"").toLowerCase();g[3]=g[3]&&new RegExp("(?:^|\\s)"+g[3]+"(?:\\s|$)")}return g},Nb=function(g,h){var r=g.attributes||{};return(!h[1]||g.nodeName.toLowerCase()===h[1])&&(!h[2]||(r.id||{}).value===h[2])&&(!h[3]||h[3].test((r["class"]||{}).value))},nb=function(g){return p.event.special.hover?g:g.replace(Ib,"mouseenter$1 mouseleave$1")};p.event={add:function(g,h,r,t,v){var x,H,M,N,S,ea,W,ga,da;if(!(g.nodeType===3||g.nodeType===8||!h||!r||!(x=p._data(g)))){if(r.handler){W=
r;r=W.handler}if(!r.guid)r.guid=p.guid++;M=x.events;if(!M)x.events=M={};H=x.handle;if(!H){x.handle=H=function(ra){return typeof p!=="undefined"&&(!ra||p.event.triggered!==ra.type)?p.event.dispatch.apply(H.elem,arguments):d};H.elem=g}h=p.trim(nb(h)).split(" ");for(x=0;x<h.length;x++){N=lb.exec(h[x])||[];S=N[1];ea=(N[2]||"").split(".").sort();da=p.event.special[S]||{};S=(v?da.delegateType:da.bindType)||S;da=p.event.special[S]||{};N=p.extend({type:S,origType:N[1],data:t,handler:r,guid:r.guid,selector:v,
quick:Mb(v),namespace:ea.join(".")},W);ga=M[S];if(!ga){ga=M[S]=[];ga.delegateCount=0;if(!da.setup||da.setup.call(g,t,ea,H)===false)if(g.addEventListener)g.addEventListener(S,H,false);else g.attachEvent&&g.attachEvent("on"+S,H)}if(da.add){da.add.call(g,N);if(!N.handler.guid)N.handler.guid=r.guid}v?ga.splice(ga.delegateCount++,0,N):ga.push(N);p.event.global[S]=true}g=null}},global:{},remove:function(g,h,r,t,v){var x=p.hasData(g)&&p._data(g),H,M,N,S,ea,W,ga,da,ra,za;if(x&&(ga=x.events)){h=p.trim(nb(h||
"")).split(" ");for(H=0;H<h.length;H++){M=lb.exec(h[H])||[];N=S=M[1];M=M[2];if(N){da=p.event.special[N]||{};N=(t?da.delegateType:da.bindType)||N;ra=ga[N]||[];ea=ra.length;M=M?new RegExp("(^|\\.)"+M.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(W=0;W<ra.length;W++){za=ra[W];if((v||S===za.origType)&&(!r||r.guid===za.guid)&&(!M||M.test(za.namespace))&&(!t||t===za.selector||t==="**"&&za.selector)){ra.splice(W--,1);za.selector&&ra.delegateCount--;da.remove&&da.remove.call(g,za)}}if(ra.length===
0&&ea!==ra.length){if(!da.teardown||da.teardown.call(g,M)===false)p.removeEvent(g,N,x.handle);delete ga[N]}}else for(N in ga)p.event.remove(g,N+h[H],r,t,true)}if(p.isEmptyObject(ga)){if(h=x.handle)h.elem=null;p.removeData(g,["events","handle"],true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(g,h,r,t){if(!(r&&(r.nodeType===3||r.nodeType===8))){var v=g.type||g,x=[],H,M,N,S,ea;if(!mb.test(v+p.event.triggered)){if(v.indexOf("!")>=0){v=v.slice(0,-1);H=true}if(v.indexOf(".")>=
0){x=v.split(".");v=x.shift();x.sort()}if(!((!r||p.event.customEvent[v])&&!p.event.global[v])){g=typeof g==="object"?g[p.expando]?g:new p.Event(v,g):new p.Event(v);g.type=v;g.isTrigger=true;g.exclusive=H;g.namespace=x.join(".");g.namespace_re=g.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;H=v.indexOf(":")<0?"on"+v:"";if(r){g.result=d;if(!g.target)g.target=r;h=h!=null?p.makeArray(h):[];h.unshift(g);N=p.event.special[v]||{};if(!(N.trigger&&N.trigger.apply(r,h)===false)){ea=
[[r,N.bindType||v]];if(!t&&!N.noBubble&&!p.isWindow(r)){S=N.delegateType||v;x=mb.test(S+v)?r:r.parentNode;for(M=null;x;x=x.parentNode){ea.push([x,S]);M=x}if(M&&M===r.ownerDocument)ea.push([M.defaultView||M.parentWindow||a,S])}for(M=0;M<ea.length&&!g.isPropagationStopped();M++){x=ea[M][0];g.type=ea[M][1];(S=(p._data(x,"events")||{})[g.type]&&p._data(x,"handle"))&&S.apply(x,h);(S=H&&x[H])&&p.acceptData(x)&&S.apply(x,h)===false&&g.preventDefault()}g.type=v;if(!t&&!g.isDefaultPrevented())if((!N._default||
N._default.apply(r.ownerDocument,h)===false)&&!(v==="click"&&p.nodeName(r,"a"))&&p.acceptData(r))if(H&&r[v]&&(v!=="focus"&&v!=="blur"||g.target.offsetWidth!==0)&&!p.isWindow(r)){if(M=r[H])r[H]=null;p.event.triggered=v;r[v]();p.event.triggered=d;if(M)r[H]=M}return g.result}}else{r=p.cache;for(M in r)r[M].events&&r[M].events[v]&&p.event.trigger(g,h,r[M].handle.elem,true)}}}}},dispatch:function(g){g=p.event.fix(g||a.event);var h=(p._data(this,"events")||{})[g.type]||[],r=h.delegateCount,t=[].slice.call(arguments,
0),v=!g.exclusive&&!g.namespace,x=[],H,M,N,S,ea,W,ga;t[0]=g;g.delegateTarget=this;if(r&&!g.target.disabled&&!(g.button&&g.type==="click")){N=p(this);N.context=this.ownerDocument||this;for(M=g.target;M!=this;M=M.parentNode||this){ea={};W=[];N[0]=M;for(H=0;H<r;H++){S=h[H];ga=S.selector;if(ea[ga]===d)ea[ga]=S.quick?Nb(M,S.quick):N.is(ga);ea[ga]&&W.push(S)}W.length&&x.push({elem:M,matches:W})}}h.length>r&&x.push({elem:this,matches:h.slice(r)});for(H=0;H<x.length&&!g.isPropagationStopped();H++){r=x[H];
g.currentTarget=r.elem;for(h=0;h<r.matches.length&&!g.isImmediatePropagationStopped();h++){S=r.matches[h];if(v||!g.namespace&&!S.namespace||g.namespace_re&&g.namespace_re.test(S.namespace)){g.data=S.data;g.handleObj=S;S=((p.event.special[S.origType]||{}).handle||S.handler).apply(r.elem,t);if(S!==d){g.result=S;if(S===false){g.preventDefault();g.stopPropagation()}}}}}return g.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(g,h){if(g.which==null)g.which=h.charCode!=null?h.charCode:h.keyCode;return g}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(g,h){var r,t,v=h.button,x=h.fromElement;if(g.pageX==null&&h.clientX!=null){r=g.target.ownerDocument||U;t=r.documentElement;r=r.body;g.pageX=h.clientX+(t&&t.scrollLeft||r&&r.scrollLeft||0)-(t&&t.clientLeft||
r&&r.clientLeft||0);g.pageY=h.clientY+(t&&t.scrollTop||r&&r.scrollTop||0)-(t&&t.clientTop||r&&r.clientTop||0)}if(!g.relatedTarget&&x)g.relatedTarget=x===g.target?h.toElement:x;if(!g.which&&v!==d)g.which=v&1?1:v&2?3:v&4?2:0;return g}},fix:function(g){if(g[p.expando])return g;var h,r,t=g,v=p.event.fixHooks[g.type]||{},x=v.props?this.props.concat(v.props):this.props;g=p.Event(t);for(h=x.length;h;){r=x[--h];g[r]=t[r]}if(!g.target)g.target=t.srcElement||U;if(g.target.nodeType===3)g.target=g.target.parentNode;
if(g.metaKey===d)g.metaKey=g.ctrlKey;return v.filter?v.filter(g,t):g},special:{ready:{setup:p.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(g,h,r){if(p.isWindow(this))this.onbeforeunload=r},teardown:function(g,h){if(this.onbeforeunload===h)this.onbeforeunload=null}}},simulate:function(g,h,r,t){g=p.extend(new p.Event,r,{type:g,isSimulated:true,originalEvent:{}});t?p.event.trigger(g,null,h):p.event.dispatch.call(h,g);g.isDefaultPrevented()&&
r.preventDefault()}};p.event.handle=p.event.dispatch;p.removeEvent=U.removeEventListener?function(g,h,r){g.removeEventListener&&g.removeEventListener(h,r,false)}:function(g,h,r){g.detachEvent&&g.detachEvent("on"+h,r)};p.Event=function(g,h){if(!(this instanceof p.Event))return new p.Event(g,h);if(g&&g.type){this.originalEvent=g;this.type=g.type;this.isDefaultPrevented=g.defaultPrevented||g.returnValue===false||g.getPreventDefault&&g.getPreventDefault()?j:n}else this.type=g;h&&p.extend(this,h);this.timeStamp=
g&&g.timeStamp||p.now();this[p.expando]=true};p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var g=this.originalEvent;if(g)if(g.preventDefault)g.preventDefault();else g.returnValue=false},stopPropagation:function(){this.isPropagationStopped=j;var g=this.originalEvent;if(g){g.stopPropagation&&g.stopPropagation();g.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n};
p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(g,h){p.event.special[g]={delegateType:h,bindType:h,handle:function(r){var t=this,v=r.relatedTarget,x=r.handleObj,H;if(!v||v!==t&&!p.contains(t,v)){r.type=x.origType;H=x.handler.apply(this,arguments);r.type=h}return H}}});if(!p.support.submitBubbles)p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return false;p.event.add(this,"click._submit keypress._submit",function(g){g=g.target;if((g=p.nodeName(g,"input")||p.nodeName(g,
"button")?g.form:d)&&!g._submit_attached){p.event.add(g,"submit._submit",function(h){this.parentNode&&!h.isTrigger&&p.event.simulate("submit",this.parentNode,h,true)});g._submit_attached=true}})},teardown:function(){if(p.nodeName(this,"form"))return false;p.event.remove(this,"._submit")}};if(!p.support.changeBubbles)p.event.special.change={setup:function(){if(Qa.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){p.event.add(this,"propertychange._change",function(g){if(g.originalEvent.propertyName===
"checked")this._just_changed=true});p.event.add(this,"click._change",function(g){if(this._just_changed&&!g.isTrigger){this._just_changed=false;p.event.simulate("change",this,g,true)}})}return false}p.event.add(this,"beforeactivate._change",function(g){g=g.target;if(Qa.test(g.nodeName)&&!g._change_attached){p.event.add(g,"change._change",function(h){this.parentNode&&!h.isSimulated&&!h.isTrigger&&p.event.simulate("change",this.parentNode,h,true)});g._change_attached=true}})},handle:function(g){var h=
g.target;if(this!==h||g.isSimulated||g.isTrigger||h.type!=="radio"&&h.type!=="checkbox")return g.handleObj.handler.apply(this,arguments)},teardown:function(){p.event.remove(this,"._change");return Qa.test(this.nodeName)}};p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(g,h){var r=0,t=function(v){p.event.simulate(h,v.target,p.event.fix(v),true)};p.event.special[h]={setup:function(){r++===0&&U.addEventListener(g,t,true)},teardown:function(){--r===0&&U.removeEventListener(g,
t,true)}}});p.fn.extend({on:function(g,h,r,t,v){var x,H;if(typeof g==="object"){if(typeof h!=="string"){r=h;h=d}for(H in g)this.on(H,h,r,g[H],v);return this}if(r==null&&t==null){t=h;r=h=d}else if(t==null)if(typeof h==="string"){t=r;r=d}else{t=r;r=h;h=d}if(t===false)t=n;else if(!t)return this;if(v===1){x=t;t=function(M){p().off(M);return x.apply(this,arguments)};t.guid=x.guid||(x.guid=p.guid++)}return this.each(function(){p.event.add(this,g,t,r,h)})},one:function(g,h,r,t){return this.on.call(this,
g,h,r,t,1)},off:function(g,h,r){if(g&&g.preventDefault&&g.handleObj){var t=g.handleObj;p(g.delegateTarget).off(t.namespace?t.type+"."+t.namespace:t.type,t.selector,t.handler);return this}if(typeof g==="object"){for(t in g)this.off(t,h,g[t]);return this}if(h===false||typeof h==="function"){r=h;h=d}if(r===false)r=n;return this.each(function(){p.event.remove(this,g,r,h)})},bind:function(g,h,r){return this.on(g,null,h,r)},unbind:function(g,h){return this.off(g,null,h)},live:function(g,h,r){p(this.context).on(g,
this.selector,h,r);return this},die:function(g,h){p(this.context).off(g,this.selector||"**",h);return this},delegate:function(g,h,r,t){return this.on(h,g,r,t)},undelegate:function(g,h,r){return arguments.length==1?this.off(g,"**"):this.off(h,g,r)},trigger:function(g,h){return this.each(function(){p.event.trigger(g,h,this)})},triggerHandler:function(g,h){if(this[0])return p.event.trigger(g,h,this[0],true)},toggle:function(g){var h=arguments,r=g.guid||p.guid++,t=0,v=function(x){var H=(p._data(this,
"lastToggle"+g.guid)||0)%t;p._data(this,"lastToggle"+g.guid,H+1);x.preventDefault();return h[H].apply(this,arguments)||false};for(v.guid=r;t<h.length;)h[t++].guid=r;return this.click(v)},hover:function(g,h){return this.mouseenter(g).mouseleave(h||g)}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(g,h){p.fn[h]=function(r,
t){if(t==null){t=r;r=null}return arguments.length>0?this.on(h,null,r,t):this.trigger(h)};if(p.attrFn)p.attrFn[h]=true;if(Jb.test(h))p.event.fixHooks[h]=p.event.keyHooks;if(Kb.test(h))p.event.fixHooks[h]=p.event.mouseHooks});(function(){function g(y,F,T,V,Y,ca){Y=0;for(var ia=V.length;Y<ia;Y++){var la=V[Y];if(la){var va=false;for(la=la[y];la;){if(la[t]===T){va=V[la.sizset];break}if(la.nodeType===1&&!ca){la[t]=T;la.sizset=Y}if(la.nodeName.toLowerCase()===F){va=la;break}la=la[y]}V[Y]=va}}}function h(y,
F,T,V,Y,ca){Y=0;for(var ia=V.length;Y<ia;Y++){var la=V[Y];if(la){var va=false;for(la=la[y];la;){if(la[t]===T){va=V[la.sizset];break}if(la.nodeType===1){if(!ca){la[t]=T;la.sizset=Y}if(typeof F!=="string"){if(la===F){va=true;break}}else if(W.filter(F,[la]).length>0){va=la;break}}la=la[y]}V[Y]=va}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t="sizcache"+(Math.random()+"").replace(".",""),v=0,x=Object.prototype.toString,
H=false,M=true,N=/\\/g,S=/\r\n/g,ea=/\W/;[0,0].sort(function(){M=false;return 0});var W=function(y,F,T,V){T=T||[];var Y=F=F||U;if(F.nodeType!==1&&F.nodeType!==9)return[];if(!y||typeof y!=="string")return T;var ca,ia,la,va,O,aa=true,ja=W.isXML(F),fa=[],wa=y;do{r.exec("");if(ca=r.exec(wa)){wa=ca[3];fa.push(ca[1]);if(ca[2]){va=ca[3];break}}}while(ca);if(fa.length>1&&ra.exec(y))if(fa.length===2&&da.relative[fa[0]])ia=Ja(fa[0]+fa[1],F,V);else for(ia=da.relative[fa[0]]?[F]:W(fa.shift(),F);fa.length;){y=
fa.shift();if(da.relative[y])y+=fa.shift();ia=Ja(y,ia,V)}else{if(!V&&fa.length>1&&F.nodeType===9&&!ja&&da.match.ID.test(fa[0])&&!da.match.ID.test(fa[fa.length-1])){ca=W.find(fa.shift(),F,ja);F=ca.expr?W.filter(ca.expr,ca.set)[0]:ca.set[0]}if(F){ca=V?{expr:fa.pop(),set:Aa(V)}:W.find(fa.pop(),fa.length===1&&(fa[0]==="~"||fa[0]==="+")&&F.parentNode?F.parentNode:F,ja);ia=ca.expr?W.filter(ca.expr,ca.set):ca.set;if(fa.length>0)la=Aa(ia);else aa=false;for(;fa.length;){ca=O=fa.pop();if(da.relative[O])ca=
fa.pop();else O="";if(ca==null)ca=F;da.relative[O](la,ca,ja)}}else la=[]}la||(la=ia);la||W.error(O||y);if(x.call(la)==="[object Array]")if(aa)if(F&&F.nodeType===1)for(y=0;la[y]!=null;y++){if(la[y]&&(la[y]===true||la[y].nodeType===1&&W.contains(F,la[y])))T.push(ia[y])}else for(y=0;la[y]!=null;y++)la[y]&&la[y].nodeType===1&&T.push(ia[y]);else T.push.apply(T,la);else Aa(la,T);if(va){W(va,Y,T,V);W.uniqueSort(T)}return T};W.uniqueSort=function(y){if(sa){H=M;y.sort(sa);if(H)for(var F=1;F<y.length;F++)y[F]===
y[F-1]&&y.splice(F--,1)}return y};W.matches=function(y,F){return W(y,null,null,F)};W.matchesSelector=function(y,F){return W(F,null,null,[y]).length>0};W.find=function(y,F,T){var V,Y,ca,ia,la,va;if(!y)return[];Y=0;for(ca=da.order.length;Y<ca;Y++){la=da.order[Y];if(ia=da.leftMatch[la].exec(y)){va=ia[1];ia.splice(1,1);if(va.substr(va.length-1)!=="\\"){ia[1]=(ia[1]||"").replace(N,"");V=da.find[la](ia,F,T);if(V!=null){y=y.replace(da.match[la],"");break}}}}V||(V=typeof F.getElementsByTagName!=="undefined"?
F.getElementsByTagName("*"):[]);return{set:V,expr:y}};W.filter=function(y,F,T,V){for(var Y,ca,ia,la,va,O,aa,ja,fa=y,wa=[],ta=F,Ca=F&&F[0]&&W.isXML(F[0]);y&&F.length;){for(ia in da.filter)if((Y=da.leftMatch[ia].exec(y))!=null&&Y[2]){O=da.filter[ia];va=Y[1];ca=false;Y.splice(1,1);if(va.substr(va.length-1)!=="\\"){if(ta===wa)wa=[];if(da.preFilter[ia])if(Y=da.preFilter[ia](Y,ta,T,wa,V,Ca)){if(Y===true)continue}else ca=la=true;if(Y)for(aa=0;(va=ta[aa])!=null;aa++)if(va){la=O(va,Y,aa,ta);ja=V^la;if(T&&
la!=null)if(ja)ca=true;else ta[aa]=false;else if(ja){wa.push(va);ca=true}}if(la!==d){T||(ta=wa);y=y.replace(da.match[ia],"");if(!ca)return[];break}}}if(y===fa)if(ca==null)W.error(y);else break;fa=y}return ta};W.error=function(y){throw new Error("Syntax error, unrecognized expression: "+y);};var ga=W.getText=function(y){var F,T;F=y.nodeType;var V="";if(F)if(F===1||F===9)if(typeof y.textContent==="string")return y.textContent;else if(typeof y.innerText==="string")return y.innerText.replace(S,"");else for(y=
y.firstChild;y;y=y.nextSibling)V+=ga(y);else{if(F===3||F===4)return y.nodeValue}else for(F=0;T=y[F];F++)if(T.nodeType!==8)V+=ga(T);return V},da=W.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(y){return y.getAttribute("href")},type:function(y){return y.getAttribute("type")}},relative:{"+":function(y,F){var T=typeof F==="string",V=T&&!ea.test(F);T=T&&!V;if(V)F=F.toLowerCase();V=0;for(var Y=y.length,ca;V<Y;V++)if(ca=y[V]){for(;(ca=ca.previousSibling)&&ca.nodeType!==
1;);y[V]=T||ca&&ca.nodeName.toLowerCase()===F?ca||false:ca===F}T&&W.filter(F,y,true)},">":function(y,F){var T,V=typeof F==="string",Y=0,ca=y.length;if(V&&!ea.test(F))for(F=F.toLowerCase();Y<ca;Y++){if(T=y[Y]){T=T.parentNode;y[Y]=T.nodeName.toLowerCase()===F?T:false}}else{for(;Y<ca;Y++)if(T=y[Y])y[Y]=V?T.parentNode:T.parentNode===F;V&&W.filter(F,y,true)}},"":function(y,F,T){var V,Y=v++,ca=h;if(typeof F==="string"&&!ea.test(F)){V=F=F.toLowerCase();ca=g}ca("parentNode",F,Y,y,V,T)},"~":function(y,F,T){var V,
Y=v++,ca=h;if(typeof F==="string"&&!ea.test(F)){V=F=F.toLowerCase();ca=g}ca("previousSibling",F,Y,y,V,T)}},find:{ID:function(y,F,T){if(typeof F.getElementById!=="undefined"&&!T)return(y=F.getElementById(y[1]))&&y.parentNode?[y]:[]},NAME:function(y,F){if(typeof F.getElementsByName!=="undefined"){var T=[];F=F.getElementsByName(y[1]);for(var V=0,Y=F.length;V<Y;V++)F[V].getAttribute("name")===y[1]&&T.push(F[V]);return T.length===0?null:T}},TAG:function(y,F){if(typeof F.getElementsByTagName!=="undefined")return F.getElementsByTagName(y[1])}},
preFilter:{CLASS:function(y,F,T,V,Y,ca){y=" "+y[1].replace(N,"")+" ";if(ca)return y;ca=0;for(var ia;(ia=F[ca])!=null;ca++)if(ia)if(Y^(ia.className&&(" "+ia.className+" ").replace(/[\t\n\r]/g," ").indexOf(y)>=0))T||V.push(ia);else if(T)F[ca]=false;return false},ID:function(y){return y[1].replace(N,"")},TAG:function(y){return y[1].replace(N,"").toLowerCase()},CHILD:function(y){if(y[1]==="nth"){y[2]||W.error(y[0]);y[2]=y[2].replace(/^\+|\s*/g,"");var F=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(y[2]==="even"&&
"2n"||y[2]==="odd"&&"2n+1"||!/\D/.test(y[2])&&"0n+"+y[2]||y[2]);y[2]=F[1]+(F[2]||1)-0;y[3]=F[3]-0}else y[2]&&W.error(y[0]);y[0]=v++;return y},ATTR:function(y,F,T,V,Y,ca){F=y[1]=y[1].replace(N,"");if(!ca&&da.attrMap[F])y[1]=da.attrMap[F];y[4]=(y[4]||y[5]||"").replace(N,"");if(y[2]==="~=")y[4]=" "+y[4]+" ";return y},PSEUDO:function(y,F,T,V,Y){if(y[1]==="not")if((r.exec(y[3])||"").length>1||/^\w/.test(y[3]))y[3]=W(y[3],null,null,F);else{y=W.filter(y[3],F,T,true^Y);T||V.push.apply(V,y);return false}else if(da.match.POS.test(y[0])||
da.match.CHILD.test(y[0]))return true;return y},POS:function(y){y.unshift(true);return y}},filters:{enabled:function(y){return y.disabled===false&&y.type!=="hidden"},disabled:function(y){return y.disabled===true},checked:function(y){return y.checked===true},selected:function(y){return y.selected===true},parent:function(y){return!!y.firstChild},empty:function(y){return!y.firstChild},has:function(y,F,T){return!!W(T[3],y).length},header:function(y){return/h\d/i.test(y.nodeName)},text:function(y){var F=
y.getAttribute("type"),T=y.type;return y.nodeName.toLowerCase()==="input"&&"text"===T&&(F===T||F===null)},radio:function(y){return y.nodeName.toLowerCase()==="input"&&"radio"===y.type},checkbox:function(y){return y.nodeName.toLowerCase()==="input"&&"checkbox"===y.type},file:function(y){return y.nodeName.toLowerCase()==="input"&&"file"===y.type},password:function(y){return y.nodeName.toLowerCase()==="input"&&"password"===y.type},submit:function(y){var F=y.nodeName.toLowerCase();return(F==="input"||
F==="button")&&"submit"===y.type},image:function(y){return y.nodeName.toLowerCase()==="input"&&"image"===y.type},reset:function(y){var F=y.nodeName.toLowerCase();return(F==="input"||F==="button")&&"reset"===y.type},button:function(y){var F=y.nodeName.toLowerCase();return F==="input"&&"button"===y.type||F==="button"},input:function(y){return/input|select|textarea|button/i.test(y.nodeName)},focus:function(y){return y===y.ownerDocument.activeElement}},setFilters:{first:function(y,F){return F===0},last:function(y,
F,T,V){return F===V.length-1},even:function(y,F){return F%2===0},odd:function(y,F){return F%2===1},lt:function(y,F,T){return F<T[3]-0},gt:function(y,F,T){return F>T[3]-0},nth:function(y,F,T){return T[3]-0===F},eq:function(y,F,T){return T[3]-0===F}},filter:{PSEUDO:function(y,F,T,V){var Y=F[1],ca=da.filters[Y];if(ca)return ca(y,T,F,V);else if(Y==="contains")return(y.textContent||y.innerText||ga([y])||"").indexOf(F[3])>=0;else if(Y==="not"){F=F[3];T=0;for(V=F.length;T<V;T++)if(F[T]===y)return false;
return true}else W.error(Y)},CHILD:function(y,F){var T,V,Y,ca;T=F[1];var ia=y;switch(T){case "only":case "first":for(;ia=ia.previousSibling;)if(ia.nodeType===1)return false;if(T==="first")return true;ia=y;case "last":for(;ia=ia.nextSibling;)if(ia.nodeType===1)return false;return true;case "nth":T=F[2];V=F[3];if(T===1&&V===0)return true;F=F[0];if((Y=y.parentNode)&&(Y[t]!==F||!y.nodeIndex)){ca=0;for(ia=Y.firstChild;ia;ia=ia.nextSibling)if(ia.nodeType===1)ia.nodeIndex=++ca;Y[t]=F}y=y.nodeIndex-V;return T===
0?y===0:y%T===0&&y/T>=0}},ID:function(y,F){return y.nodeType===1&&y.getAttribute("id")===F},TAG:function(y,F){return F==="*"&&y.nodeType===1||!!y.nodeName&&y.nodeName.toLowerCase()===F},CLASS:function(y,F){return(" "+(y.className||y.getAttribute("class"))+" ").indexOf(F)>-1},ATTR:function(y,F){var T=F[1];y=W.attr?W.attr(y,T):da.attrHandle[T]?da.attrHandle[T](y):y[T]!=null?y[T]:y.getAttribute(T);T=y+"";var V=F[2];F=F[4];return y==null?V==="!=":!V&&W.attr?y!=null:V==="="?T===F:V==="*="?T.indexOf(F)>=
0:V==="~="?(" "+T+" ").indexOf(F)>=0:!F?T&&y!==false:V==="!="?T!==F:V==="^="?T.indexOf(F)===0:V==="$="?T.substr(T.length-F.length)===F:V==="|="?T===F||T.substr(0,F.length+1)===F+"-":false},POS:function(y,F,T,V){var Y=da.setFilters[F[2]];if(Y)return Y(y,T,F,V)}}},ra=da.match.POS,za=function(y,F){return"\\"+(F-0+1)};for(var Ba in da.match){da.match[Ba]=new RegExp(da.match[Ba].source+/(?![^\[]*\])(?![^\(]*\))/.source);da.leftMatch[Ba]=new RegExp(/(^(?:.|\r|\n)*?)/.source+da.match[Ba].source.replace(/\\(\d+)/g,
za))}var Aa=function(y,F){y=Array.prototype.slice.call(y,0);if(F){F.push.apply(F,y);return F}return y};try{Array.prototype.slice.call(U.documentElement.childNodes,0)}catch(Pa){Aa=function(y,F){var T=0;F=F||[];if(x.call(y)==="[object Array]")Array.prototype.push.apply(F,y);else if(typeof y.length==="number")for(var V=y.length;T<V;T++)F.push(y[T]);else for(;y[T];T++)F.push(y[T]);return F}}var sa,Na;if(U.documentElement.compareDocumentPosition)sa=function(y,F){if(y===F){H=true;return 0}if(!y.compareDocumentPosition||
!F.compareDocumentPosition)return y.compareDocumentPosition?-1:1;return y.compareDocumentPosition(F)&4?-1:1};else{sa=function(y,F){if(y===F){H=true;return 0}else if(y.sourceIndex&&F.sourceIndex)return y.sourceIndex-F.sourceIndex;var T,V,Y=[],ca=[];T=y.parentNode;V=F.parentNode;var ia=T;if(T===V)return Na(y,F);else if(T){if(!V)return 1}else return-1;for(;ia;){Y.unshift(ia);ia=ia.parentNode}for(ia=V;ia;){ca.unshift(ia);ia=ia.parentNode}T=Y.length;V=ca.length;for(ia=0;ia<T&&ia<V;ia++)if(Y[ia]!==ca[ia])return Na(Y[ia],
ca[ia]);return ia===T?Na(y,ca[ia],-1):Na(Y[ia],F,1)};Na=function(y,F,T){if(y===F)return T;for(y=y.nextSibling;y;){if(y===F)return-1;y=y.nextSibling}return 1}}(function(){var y=U.createElement("div"),F="script"+(new Date).getTime(),T=U.documentElement;y.innerHTML="<a name='"+F+"'/>";T.insertBefore(y,T.firstChild);if(U.getElementById(F)){da.find.ID=function(V,Y,ca){if(typeof Y.getElementById!=="undefined"&&!ca)return(Y=Y.getElementById(V[1]))?Y.id===V[1]||typeof Y.getAttributeNode!=="undefined"&&Y.getAttributeNode("id").nodeValue===
V[1]?[Y]:d:[]};da.filter.ID=function(V,Y){var ca=typeof V.getAttributeNode!=="undefined"&&V.getAttributeNode("id");return V.nodeType===1&&ca&&ca.nodeValue===Y}}T.removeChild(y);T=y=null})();(function(){var y=U.createElement("div");y.appendChild(U.createComment(""));if(y.getElementsByTagName("*").length>0)da.find.TAG=function(F,T){T=T.getElementsByTagName(F[1]);if(F[1]==="*"){F=[];for(var V=0;T[V];V++)T[V].nodeType===1&&F.push(T[V]);T=F}return T};y.innerHTML="<a href='#'></a>";if(y.firstChild&&typeof y.firstChild.getAttribute!==
"undefined"&&y.firstChild.getAttribute("href")!=="#")da.attrHandle.href=function(F){return F.getAttribute("href",2)};y=null})();U.querySelectorAll&&function(){var y=W,F=U.createElement("div");F.innerHTML="<p class='TEST'></p>";if(!(F.querySelectorAll&&F.querySelectorAll(".TEST").length===0)){W=function(V,Y,ca,ia){Y=Y||U;if(!ia&&!W.isXML(Y)){var la=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(V);if(la&&(Y.nodeType===1||Y.nodeType===9))if(la[1])return Aa(Y.getElementsByTagName(V),ca);else if(la[2]&&da.find.CLASS&&
Y.getElementsByClassName)return Aa(Y.getElementsByClassName(la[2]),ca);if(Y.nodeType===9){if(V==="body"&&Y.body)return Aa([Y.body],ca);else if(la&&la[3]){var va=Y.getElementById(la[3]);if(va&&va.parentNode){if(va.id===la[3])return Aa([va],ca)}else return Aa([],ca)}try{return Aa(Y.querySelectorAll(V),ca)}catch(O){}}else if(Y.nodeType===1&&Y.nodeName.toLowerCase()!=="object"){la=Y;var aa=(va=Y.getAttribute("id"))||"__sizzle__",ja=Y.parentNode,fa=/^\s*[+~]/.test(V);if(va)aa=aa.replace(/'/g,"\\$&");else Y.setAttribute("id",
aa);if(fa&&ja)Y=Y.parentNode;try{if(!fa||ja)return Aa(Y.querySelectorAll("[id='"+aa+"'] "+V),ca)}catch(wa){}finally{va||la.removeAttribute("id")}}}return y(V,Y,ca,ia)};for(var T in y)W[T]=y[T];F=null}}();(function(){var y=U.documentElement,F=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.msMatchesSelector;if(F){var T=!F.call(U.createElement("div"),"div"),V=false;try{F.call(U.documentElement,"[test!='']:sizzle")}catch(Y){V=true}W.matchesSelector=function(ca,ia){ia=ia.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!W.isXML(ca))try{if(V||!da.match.PSEUDO.test(ia)&&!/!=/.test(ia)){var la=F.call(ca,ia);if(la||!T||ca.document&&ca.document.nodeType!==11)return la}}catch(va){}return W(ia,null,null,[ca]).length>0}}})();(function(){var y=U.createElement("div");y.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!y.getElementsByClassName||y.getElementsByClassName("e").length===0)){y.lastChild.className="e";if(y.getElementsByClassName("e").length!==1){da.order.splice(1,0,"CLASS");da.find.CLASS=
function(F,T,V){if(typeof T.getElementsByClassName!=="undefined"&&!V)return T.getElementsByClassName(F[1])};y=null}}})();W.contains=U.documentElement.contains?function(y,F){return y!==F&&(y.contains?y.contains(F):true)}:U.documentElement.compareDocumentPosition?function(y,F){return!!(y.compareDocumentPosition(F)&16)}:function(){return false};W.isXML=function(y){return(y=(y?y.ownerDocument||y:0).documentElement)?y.nodeName!=="HTML":false};var Ja=function(y,F,T){var V,Y=[],ca="";for(F=F.nodeType?[F]:
F;V=da.match.PSEUDO.exec(y);){ca+=V[0];y=y.replace(da.match.PSEUDO,"")}y=da.relative[y]?y+"*":y;V=0;for(var ia=F.length;V<ia;V++)W(y,F[V],Y,T);return W.filter(ca,Y)};W.attr=p.attr;W.selectors.attrMap={};p.find=W;p.expr=W.selectors;p.expr[":"]=p.expr.filters;p.unique=W.uniqueSort;p.text=W.getText;p.isXMLDoc=W.isXML;p.contains=W.contains})();var Ob=/Until$/,Pb=/^(?:parents|prevUntil|prevAll)/,Qb=/,/,Db=/^.[^:#\[\.,]*$/,Rb=Array.prototype.slice,ob=p.expr.match.POS,Sb={children:true,contents:true,next:true,
prev:true};p.fn.extend({find:function(g){var h=this,r,t;if(typeof g!=="string")return p(g).filter(function(){r=0;for(t=h.length;r<t;r++)if(p.contains(h[r],this))return true});var v=this.pushStack("","find",g),x,H,M;r=0;for(t=this.length;r<t;r++){x=v.length;p.find(g,this[r],v);if(r>0)for(H=x;H<v.length;H++)for(M=0;M<x;M++)if(v[M]===v[H]){v.splice(H--,1);break}}return v},has:function(g){var h=p(g);return this.filter(function(){for(var r=0,t=h.length;r<t;r++)if(p.contains(this,h[r]))return true})},not:function(g){return this.pushStack(o(this,
g,false),"not",g)},filter:function(g){return this.pushStack(o(this,g,true),"filter",g)},is:function(g){return!!g&&(typeof g==="string"?ob.test(g)?p(g,this.context).index(this[0])>=0:p.filter(g,this).length>0:this.filter(g).length>0)},closest:function(g,h){var r=[],t,v,x=this[0];if(p.isArray(g)){for(v=1;x&&x.ownerDocument&&x!==h;){for(t=0;t<g.length;t++)p(x).is(g[t])&&r.push({selector:g[t],elem:x,level:v});x=x.parentNode;v++}return r}var H=ob.test(g)||typeof g!=="string"?p(g,h||this.context):0;t=0;
for(v=this.length;t<v;t++)for(x=this[t];x;)if(H?H.index(x)>-1:p.find.matchesSelector(x,g)){r.push(x);break}else{x=x.parentNode;if(!x||!x.ownerDocument||x===h||x.nodeType===11)break}r=r.length>1?p.unique(r):r;return this.pushStack(r,"closest",g)},index:function(g){if(!g)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof g==="string")return p.inArray(this[0],p(g));return p.inArray(g.jquery?g[0]:g,this)},add:function(g,h){g=typeof g==="string"?p(g,h):p.makeArray(g&&g.nodeType?[g]:
g);h=p.merge(this.get(),g);return this.pushStack(u(g[0])||u(h[0])?h:p.unique(h))},andSelf:function(){return this.add(this.prevObject)}});p.each({parent:function(g){return(g=g.parentNode)&&g.nodeType!==11?g:null},parents:function(g){return p.dir(g,"parentNode")},parentsUntil:function(g,h,r){return p.dir(g,"parentNode",r)},next:function(g){return p.nth(g,2,"nextSibling")},prev:function(g){return p.nth(g,2,"previousSibling")},nextAll:function(g){return p.dir(g,"nextSibling")},prevAll:function(g){return p.dir(g,
"previousSibling")},nextUntil:function(g,h,r){return p.dir(g,"nextSibling",r)},prevUntil:function(g,h,r){return p.dir(g,"previousSibling",r)},siblings:function(g){return p.sibling(g.parentNode.firstChild,g)},children:function(g){return p.sibling(g.firstChild)},contents:function(g){return p.nodeName(g,"iframe")?g.contentDocument||g.contentWindow.document:p.makeArray(g.childNodes)}},function(g,h){p.fn[g]=function(r,t){var v=p.map(this,h,r);Ob.test(g)||(t=r);if(t&&typeof t==="string")v=p.filter(t,v);
v=this.length>1&&!Sb[g]?p.unique(v):v;if((this.length>1||Qb.test(t))&&Pb.test(g))v=v.reverse();return this.pushStack(v,g,Rb.call(arguments).join(","))}});p.extend({filter:function(g,h,r){if(r)g=":not("+g+")";return h.length===1?p.find.matchesSelector(h[0],g)?[h[0]]:[]:p.find.matches(g,h)},dir:function(g,h,r){var t=[];for(g=g[h];g&&g.nodeType!==9&&(r===d||g.nodeType!==1||!p(g).is(r));){g.nodeType===1&&t.push(g);g=g[h]}return t},nth:function(g,h,r){h=h||1;for(var t=0;g;g=g[r])if(g.nodeType===1&&++t===
h)break;return g},sibling:function(g,h){for(var r=[];g;g=g.nextSibling)g.nodeType===1&&g!==h&&r.push(g);return r}});var hb="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Tb=/ jQuery\d+="(?:\d+|null)"/g,eb=/^\s+/,pb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,qb=/<([\w:]+)/,Ub=/<tbody/i,Vb=/<|&#?\w+;/,Wb=/<(?:script|style)/i,Xb=/<(?:script|object|embed|option|style)/i,
rb=new RegExp("<(?:"+hb+")","i"),sb=/checked\s*(?:[^=]|=\s*.checked.)/i,Yb=/\/(java|ecma)script/i,Eb=/^\s*<!(?:\[CDATA\[|\-\-)/,Ia={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ib=w(U);Ia.optgroup=Ia.option;Ia.tbody=Ia.tfoot=
Ia.colgroup=Ia.caption=Ia.thead;Ia.th=Ia.td;if(!p.support.htmlSerialize)Ia._default=[1,"div<div>","</div>"];p.fn.extend({text:function(g){if(p.isFunction(g))return this.each(function(h){var r=p(this);r.text(g.call(this,h,r.text()))});if(typeof g!=="object"&&g!==d)return this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(g));return p.text(this)},wrapAll:function(g){if(p.isFunction(g))return this.each(function(r){p(this).wrapAll(g.call(this,r))});if(this[0]){var h=p(g,this[0].ownerDocument).eq(0).clone(true);
this[0].parentNode&&h.insertBefore(this[0]);h.map(function(){for(var r=this;r.firstChild&&r.firstChild.nodeType===1;)r=r.firstChild;return r}).append(this)}return this},wrapInner:function(g){if(p.isFunction(g))return this.each(function(h){p(this).wrapInner(g.call(this,h))});return this.each(function(){var h=p(this),r=h.contents();r.length?r.wrapAll(g):h.append(g)})},wrap:function(g){var h=p.isFunction(g);return this.each(function(r){p(this).wrapAll(h?g.call(this,r):g)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,
"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(g){this.nodeType===1&&this.appendChild(g)})},prepend:function(){return this.domManip(arguments,true,function(g){this.nodeType===1&&this.insertBefore(g,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(h){this.parentNode.insertBefore(h,this)});else if(arguments.length){var g=p.clean(arguments);g.push.apply(g,this.toArray());
return this.pushStack(g,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(h){this.parentNode.insertBefore(h,this.nextSibling)});else if(arguments.length){var g=this.pushStack(this,"after",arguments);g.push.apply(g,p.clean(arguments));return g}},remove:function(g,h){for(var r=0,t;(t=this[r])!=null;r++)if(!g||p.filter(g,[t]).length){if(!h&&t.nodeType===1){p.cleanData(t.getElementsByTagName("*"));p.cleanData([t])}t.parentNode&&t.parentNode.removeChild(t)}return this},
empty:function(){for(var g=0,h;(h=this[g])!=null;g++)for(h.nodeType===1&&p.cleanData(h.getElementsByTagName("*"));h.firstChild;)h.removeChild(h.firstChild);return this},clone:function(g,h){g=g==null?false:g;h=h==null?g:h;return this.map(function(){return p.clone(this,g,h)})},html:function(g){if(g===d)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Tb,""):null;else if(typeof g==="string"&&!Wb.test(g)&&(p.support.leadingWhitespace||!eb.test(g))&&!Ia[(qb.exec(g)||["",""])[1].toLowerCase()]){g=
g.replace(pb,"<$1></$2>");try{for(var h=0,r=this.length;h<r;h++)if(this[h].nodeType===1){p.cleanData(this[h].getElementsByTagName("*"));this[h].innerHTML=g}}catch(t){this.empty().append(g)}}else p.isFunction(g)?this.each(function(v){var x=p(this);x.html(g.call(this,v,x.html()))}):this.empty().append(g);return this},replaceWith:function(g){if(this[0]&&this[0].parentNode){if(p.isFunction(g))return this.each(function(h){var r=p(this),t=r.html();r.replaceWith(g.call(this,h,t))});if(typeof g!=="string")g=
p(g).detach();return this.each(function(){var h=this.nextSibling,r=this.parentNode;p(this).remove();h?p(h).before(g):p(r).append(g)})}else return this.length?this.pushStack(p(p.isFunction(g)?g():g),"replaceWith",g):this},detach:function(g){return this.remove(g,true)},domManip:function(g,h,r){var t,v,x,H=g[0],M=[];if(!p.support.checkClone&&arguments.length===3&&typeof H==="string"&&sb.test(H))return this.each(function(){p(this).domManip(g,h,r,true)});if(p.isFunction(H))return this.each(function(W){var ga=
p(this);g[0]=H.call(this,W,h?ga.html():d);ga.domManip(g,h,r)});if(this[0]){t=H&&H.parentNode;t=p.support.parentNode&&t&&t.nodeType===11&&t.childNodes.length===this.length?{fragment:t}:p.buildFragment(g,this,M);x=t.fragment;if(v=x.childNodes.length===1?(x=x.firstChild):x.firstChild){h=h&&p.nodeName(v,"tr");for(var N=0,S=this.length,ea=S-1;N<S;N++)r.call(h?z(this[N],v):this[N],t.cacheable||S>1&&N<ea?p.clone(x,true,true):x)}M.length&&p.each(M,C)}return this}});p.buildFragment=function(g,h,r){var t,v,
x,H,M=g[0];if(h&&h[0])H=h[0].ownerDocument||h[0];H.createDocumentFragment||(H=U);if(g.length===1&&typeof M==="string"&&M.length<512&&H===U&&M.charAt(0)==="<"&&!Xb.test(M)&&(p.support.checkClone||!sb.test(M))&&(p.support.html5Clone||!rb.test(M))){v=true;if((x=p.fragments[M])&&x!==1)t=x}if(!t){t=H.createDocumentFragment();p.clean(g,H,t,r)}if(v)p.fragments[M]=x?t:1;return{fragment:t,cacheable:v}};p.fragments={};p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(g,h){p.fn[g]=function(r){var t=[];r=p(r);var v=this.length===1&&this[0].parentNode;if(v&&v.nodeType===11&&v.childNodes.length===1&&r.length===1){r[h](this[0]);return this}else{v=0;for(var x=r.length;v<x;v++){var H=(v>0?this.clone(true):this).get();p(r[v])[h](H);t=t.concat(H)}return this.pushStack(t,g,r.selector)}}});p.extend({clone:function(g,h,r){var t,v,x,H=p.support.html5Clone||!rb.test("<"+g.nodeName)?g.cloneNode(true):D(g);if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(g.nodeType===
1||g.nodeType===11)&&!p.isXMLDoc(g)){L(g,H);t=E(g);v=E(H);for(x=0;t[x];++x)v[x]&&L(t[x],v[x])}if(h){A(g,H);if(r){t=E(g);v=E(H);for(x=0;t[x];++x)A(t[x],v[x])}}return H},clean:function(g,h,r,t){h=h||U;if(typeof h.createElement==="undefined")h=h.ownerDocument||h[0]&&h[0].ownerDocument||U;for(var v=[],x,H=0,M;(M=g[H])!=null;H++){if(typeof M==="number")M+="";if(M){if(typeof M==="string")if(Vb.test(M)){M=M.replace(pb,"<$1></$2>");x=(qb.exec(M)||["",""])[1].toLowerCase();var N=Ia[x]||Ia._default,S=N[0],
ea=h.createElement("div");h===U?ib.appendChild(ea):w(h).appendChild(ea);for(ea.innerHTML=N[1]+M+N[2];S--;)ea=ea.lastChild;if(!p.support.tbody){S=Ub.test(M);N=x==="table"&&!S?ea.firstChild&&ea.firstChild.childNodes:N[1]==="<table>"&&!S?ea.childNodes:[];for(x=N.length-1;x>=0;--x)p.nodeName(N[x],"tbody")&&!N[x].childNodes.length&&N[x].parentNode.removeChild(N[x])}!p.support.leadingWhitespace&&eb.test(M)&&ea.insertBefore(h.createTextNode(eb.exec(M)[0]),ea.firstChild);M=ea.childNodes}else M=h.createTextNode(M);
var W;if(!p.support.appendChecked)if(M[0]&&typeof(W=M.length)==="number")for(x=0;x<W;x++)G(M[x]);else G(M);if(M.nodeType)v.push(M);else v=p.merge(v,M)}}if(r){g=function(ga){return!ga.type||Yb.test(ga.type)};for(H=0;v[H];H++)if(t&&p.nodeName(v[H],"script")&&(!v[H].type||v[H].type.toLowerCase()==="text/javascript"))t.push(v[H].parentNode?v[H].parentNode.removeChild(v[H]):v[H]);else{if(v[H].nodeType===1){h=p.grep(v[H].getElementsByTagName("script"),g);v.splice.apply(v,[H+1,0].concat(h))}r.appendChild(v[H])}}return v},
cleanData:function(g){for(var h,r,t=p.cache,v=p.event.special,x=p.support.deleteExpando,H=0,M;(M=g[H])!=null;H++)if(!(M.nodeName&&p.noData[M.nodeName.toLowerCase()]))if(r=M[p.expando]){if((h=t[r])&&h.events){for(var N in h.events)v[N]?p.event.remove(M,N):p.removeEvent(M,N,h.handle);if(h.handle)h.handle.elem=null}if(x)delete M[p.expando];else M.removeAttribute&&M.removeAttribute(p.expando);delete t[r]}}});var fb=/alpha\([^)]*\)/i,Zb=/opacity=([^)]*)/,$b=/([A-Z]|^ms)/g,tb=/^-?\d+(?:px)?$/i,ac=/^-?\d/,
bc=/^([\-+])=([\-+.\de]+)/,cc={position:"absolute",visibility:"hidden",display:"block"},Fb=["Left","Right"],Gb=["Top","Bottom"],Ta,ub,vb;p.fn.css=function(g,h){if(arguments.length===2&&h===d)return this;return p.access(this,g,h,true,function(r,t,v){return v!==d?p.style(r,t,v):p.css(r,t)})};p.extend({cssHooks:{opacity:{get:function(g,h){if(h){g=Ta(g,"opacity","opacity");return g===""?"1":g}else return g.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,
widows:true,zIndex:true,zoom:true},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(g,h,r,t){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var v,x=p.camelCase(h),H=g.style,M=p.cssHooks[x];h=p.cssProps[x]||x;if(r!==d){t=typeof r;if(t==="string"&&(v=bc.exec(r))){r=+(v[1]+1)*+v[2]+parseFloat(p.css(g,h));t="number"}if(!(r==null||t==="number"&&isNaN(r))){if(t==="number"&&!p.cssNumber[x])r+="px";if(!M||!("set"in M)||(r=M.set(g,r))!==d)try{H[h]=r}catch(N){}}}else{if(M&&
"get"in M&&(v=M.get(g,false,t))!==d)return v;return H[h]}}},css:function(g,h,r){var t,v;h=p.camelCase(h);v=p.cssHooks[h];h=p.cssProps[h]||h;if(h==="cssFloat")h="float";if(v&&"get"in v&&(t=v.get(g,true,r))!==d)return t;else if(Ta)return Ta(g,h)},swap:function(g,h,r){var t={};for(var v in h){t[v]=g.style[v];g.style[v]=h[v]}r.call(g);for(v in h)g.style[v]=t[v]}});p.curCSS=p.css;p.each(["height","width"],function(g,h){p.cssHooks[h]={get:function(r,t,v){var x;if(t){if(r.offsetWidth!==0)return s(r,h,v);
else p.swap(r,cc,function(){x=s(r,h,v)});return x}},set:function(r,t){if(tb.test(t)){t=parseFloat(t);if(t>=0)return t+"px"}else return t}}});if(!p.support.opacity)p.cssHooks.opacity={get:function(g,h){return Zb.test((h&&g.currentStyle?g.currentStyle.filter:g.style.filter)||"")?parseFloat(RegExp.$1)/100+"":h?"1":""},set:function(g,h){var r=g.style;g=g.currentStyle;var t=p.isNumeric(h)?"alpha(opacity="+h*100+")":"",v=g&&g.filter||r.filter||"";r.zoom=1;if(h>=1&&p.trim(v.replace(fb,""))===""){r.removeAttribute("filter");
if(g&&!g.filter)return}r.filter=fb.test(v)?v.replace(fb,t):v+" "+t}};p(function(){if(!p.support.reliableMarginRight)p.cssHooks.marginRight={get:function(g,h){var r;p.swap(g,{display:"inline-block"},function(){r=h?Ta(g,"margin-right","marginRight"):g.style.marginRight});return r}}});if(U.defaultView&&U.defaultView.getComputedStyle)ub=function(g,h){var r,t,v;h=h.replace($b,"-$1").toLowerCase();if((t=g.ownerDocument.defaultView)&&(v=t.getComputedStyle(g,null))){r=v.getPropertyValue(h);if(r===""&&!p.contains(g.ownerDocument.documentElement,
g))r=p.style(g,h)}return r};if(U.documentElement.currentStyle)vb=function(g,h){var r,t,v=g.currentStyle&&g.currentStyle[h],x=g.style;if(v===null&&x&&(r=x[h]))v=r;if(!tb.test(v)&&ac.test(v)){r=x.left;if(t=g.runtimeStyle&&g.runtimeStyle.left)g.runtimeStyle.left=g.currentStyle.left;x.left=h==="fontSize"?"1em":v||0;v=x.pixelLeft+"px";x.left=r;if(t)g.runtimeStyle.left=t}return v===""?"auto":v};Ta=ub||vb;if(p.expr&&p.expr.filters){p.expr.filters.hidden=function(g){var h=g.offsetHeight;return g.offsetWidth===
0&&h===0||!p.support.reliableHiddenOffsets&&(g.style&&g.style.display||p.css(g,"display"))==="none"};p.expr.filters.visible=function(g){return!p.expr.filters.hidden(g)}}var dc=/%20/g,Hb=/\[\]$/,wb=/\r?\n/g,ec=/#.*$/,fc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,gc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,hc=/^(?:GET|HEAD)$/,ic=/^\/\//,xb=/\?/,jc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,kc=/^(?:select|textarea)/i,jb=/\s+/,
lc=/([?&])_=[^&]*/,yb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,zb=p.fn.load,bb={},Ab={},Ra,Sa,Bb=["*/"]+["*"];try{Ra=pa.href}catch(rc){Ra=U.createElement("a");Ra.href="";Ra=Ra.href}Sa=yb.exec(Ra.toLowerCase())||[];p.fn.extend({load:function(g,h,r){if(typeof g!=="string"&&zb)return zb.apply(this,arguments);else if(!this.length)return this;var t=g.indexOf(" ");if(t>=0){var v=g.slice(t,g.length);g=g.slice(0,t)}t="GET";if(h)if(p.isFunction(h)){r=h;h=d}else if(typeof h==="object"){h=p.param(h,
p.ajaxSettings.traditional);t="POST"}var x=this;p.ajax({url:g,type:t,dataType:"html",data:h,complete:function(H,M,N){N=H.responseText;if(H.isResolved()){H.done(function(S){N=S});x.html(v?p("<div>").append(N.replace(jc,"")).find(v):N)}r&&x.each(r,[N,M,H])}});return this},serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||
kc.test(this.nodeName)||gc.test(this.type))}).map(function(g,h){g=p(this).val();return g==null?null:p.isArray(g)?p.map(g,function(r){return{name:h.name,value:r.replace(wb,"\r\n")}}):{name:h.name,value:g.replace(wb,"\r\n")}}).get()}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(g,h){p.fn[h]=function(r){return this.on(h,r)}});p.each(["get","post"],function(g,h){p[h]=function(r,t,v,x){if(p.isFunction(t)){x=x||v;v=t;t=d}return p.ajax({type:h,url:r,data:t,
success:v,dataType:x})}});p.extend({getScript:function(g,h){return p.get(g,d,h,"script")},getJSON:function(g,h,r){return p.get(g,h,r,"json")},ajaxSetup:function(g,h){if(h)K(g,p.ajaxSettings);else{h=g;g=p.ajaxSettings}K(g,h);return g},ajaxSettings:{url:Ra,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Sa[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",
json:"application/json, text/javascript","*":Bb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":true,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:q(bb),ajaxTransport:q(Ab),ajax:function(g,h){function r(y,F,T,V){if(Ba!==2){Ba=2;za&&clearTimeout(za);ra=d;ga=V||"";sa.readyState=y>0?4:0;var Y,ca,ia;V=F;T=T?P(t,sa,T):d;var la;if(y>=200&&y<300||y===304){if(t.ifModified){if(la=
sa.getResponseHeader("Last-Modified"))p.lastModified[S]=la;if(la=sa.getResponseHeader("Etag"))p.etag[S]=la}if(y===304){V="notmodified";Y=true}else try{ca=Z(t,T);V="success";Y=true}catch(va){V="parsererror";ia=va}}else{ia=V;if(!V||y){V="error";if(y<0)y=0}}sa.status=y;sa.statusText=""+(F||V);Y?H.resolveWith(v,[ca,V,sa]):H.rejectWith(v,[sa,V,ia]);sa.statusCode(N);N=d;if(Aa)x.trigger("ajax"+(Y?"Success":"Error"),[sa,t,Y?ca:ia]);M.fireWith(v,[sa,V]);if(Aa){x.trigger("ajaxComplete",[sa,t]);--p.active||
p.event.trigger("ajaxStop")}}}if(typeof g==="object"){h=g;g=d}h=h||{};var t=p.ajaxSetup({},h),v=t.context||t,x=v!==t&&(v.nodeType||v instanceof p)?p(v):p.event,H=p.Deferred(),M=p.Callbacks("once memory"),N=t.statusCode||{},S,ea={},W={},ga,da,ra,za,Ba=0,Aa,Pa,sa={readyState:0,setRequestHeader:function(y,F){if(!Ba){var T=y.toLowerCase();y=W[T]=W[T]||y;ea[y]=F}return this},getAllResponseHeaders:function(){return Ba===2?ga:null},getResponseHeader:function(y){var F;if(Ba===2){if(!da)for(da={};F=fc.exec(ga);)da[F[1].toLowerCase()]=
F[2];F=da[y.toLowerCase()]}return F===d?null:F},overrideMimeType:function(y){if(!Ba)t.mimeType=y;return this},abort:function(y){y=y||"abort";ra&&ra.abort(y);r(0,y);return this}};H.promise(sa);sa.success=sa.done;sa.error=sa.fail;sa.complete=M.add;sa.statusCode=function(y){if(y){var F;if(Ba<2)for(F in y)N[F]=[N[F],y[F]];else{F=y[sa.status];sa.then(F,F)}}return this};t.url=((g||t.url)+"").replace(ec,"").replace(ic,Sa[1]+"//");t.dataTypes=p.trim(t.dataType||"*").toLowerCase().split(jb);if(t.crossDomain==
null){g=yb.exec(t.url.toLowerCase());t.crossDomain=!!(g&&(g[1]!=Sa[1]||g[2]!=Sa[2]||(g[3]||(g[1]==="http:"?80:443))!=(Sa[3]||(Sa[1]==="http:"?80:443))))}if(t.data&&t.processData&&typeof t.data!=="string")t.data=p.param(t.data,t.traditional);B(bb,t,h,sa);if(Ba===2)return false;Aa=t.global;t.type=t.type.toUpperCase();t.hasContent=!hc.test(t.type);Aa&&p.active++===0&&p.event.trigger("ajaxStart");if(!t.hasContent){if(t.data){t.url+=(xb.test(t.url)?"&":"?")+t.data;delete t.data}S=t.url;if(t.cache===false){g=
p.now();var Na=t.url.replace(lc,"$1_="+g);t.url=Na+(Na===t.url?(xb.test(t.url)?"&":"?")+"_="+g:"")}}if(t.data&&t.hasContent&&t.contentType!==false||h.contentType)sa.setRequestHeader("Content-Type",t.contentType);if(t.ifModified){S=S||t.url;p.lastModified[S]&&sa.setRequestHeader("If-Modified-Since",p.lastModified[S]);p.etag[S]&&sa.setRequestHeader("If-None-Match",p.etag[S])}sa.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+(t.dataTypes[0]!=="*"?", "+Bb+
"; q=0.01":""):t.accepts["*"]);for(Pa in t.headers)sa.setRequestHeader(Pa,t.headers[Pa]);if(t.beforeSend&&(t.beforeSend.call(v,sa,t)===false||Ba===2)){sa.abort();return false}for(Pa in{success:1,error:1,complete:1})sa[Pa](t[Pa]);if(ra=B(Ab,t,h,sa)){sa.readyState=1;Aa&&x.trigger("ajaxSend",[sa,t]);if(t.async&&t.timeout>0)za=setTimeout(function(){sa.abort("timeout")},t.timeout);try{Ba=1;ra.send(ea,r)}catch(Ja){if(Ba<2)r(-1,Ja);else throw Ja;}}else r(-1,"No Transport");return sa},param:function(g,h){var r=
[],t=function(x,H){H=p.isFunction(H)?H():H;r[r.length]=encodeURIComponent(x)+"="+encodeURIComponent(H)};if(h===d)h=p.ajaxSettings.traditional;if(p.isArray(g)||g.jquery&&!p.isPlainObject(g))p.each(g,function(){t(this.name,this.value)});else for(var v in g)J(v,g[v],h,t);return r.join("&").replace(dc,"+")}});p.extend({active:0,lastModified:{},etag:{}});var mc=p.now(),$a=/(\=)\?(&|$)|\?\?/i;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return p.expando+"_"+mc++}});p.ajaxPrefilter("json jsonp",
function(g,h,r){h=g.contentType==="application/x-www-form-urlencoded"&&typeof g.data==="string";if(g.dataTypes[0]==="jsonp"||g.jsonp!==false&&($a.test(g.url)||h&&$a.test(g.data))){var t,v=g.jsonpCallback=p.isFunction(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,x=a[v],H=g.url,M=g.data,N="$1"+v+"$2";if(g.jsonp!==false){H=H.replace($a,N);if(g.url===H){if(h)M=M.replace($a,N);if(g.data===M)H+=(/\?/.test(H)?"&":"?")+g.jsonp+"="+v}}g.url=H;g.data=M;a[v]=function(S){t=[S]};r.always(function(){a[v]=
x;t&&p.isFunction(x)&&a[v](t[0])});g.converters["script json"]=function(){t||p.error(v+" was not called");return t[0]};g.dataTypes[0]="json";return"script"}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(g){p.globalEval(g);return g}}});p.ajaxPrefilter("script",function(g){if(g.cache===d)g.cache=false;if(g.crossDomain){g.type="GET";g.global=false}});
p.ajaxTransport("script",function(g){if(g.crossDomain){var h,r=U.head||U.getElementsByTagName("head")[0]||U.documentElement;return{send:function(t,v){h=U.createElement("script");h.async="async";if(g.scriptCharset)h.charset=g.scriptCharset;h.src=g.url;h.onload=h.onreadystatechange=function(x,H){if(H||!h.readyState||/loaded|complete/.test(h.readyState)){h.onload=h.onreadystatechange=null;r&&h.parentNode&&r.removeChild(h);h=d;H||v(200,"success")}};r.insertBefore(h,r.firstChild)},abort:function(){h&&
h.onload(0,1)}}}});var gb=a.ActiveXObject?function(){for(var g in Va)Va[g](0,1)}:false,nc=0,Va;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&X()||ka()}:X;(function(g){p.extend(p.support,{ajax:!!g,cors:!!g&&"withCredentials"in g})})(p.ajaxSettings.xhr());p.support.ajax&&p.ajaxTransport(function(g){if(!g.crossDomain||p.support.cors){var h;return{send:function(r,t){var v=g.xhr(),x,H;g.username?v.open(g.type,g.url,g.async,g.username,g.password):v.open(g.type,g.url,g.async);if(g.xhrFields)for(H in g.xhrFields)v[H]=
g.xhrFields[H];g.mimeType&&v.overrideMimeType&&v.overrideMimeType(g.mimeType);if(!g.crossDomain&&!r["X-Requested-With"])r["X-Requested-With"]="XMLHttpRequest";try{for(H in r)v.setRequestHeader(H,r[H])}catch(M){}v.send(g.hasContent&&g.data||null);h=function(N,S){var ea,W,ga,da,ra;try{if(h&&(S||v.readyState===4)){h=d;if(x){v.onreadystatechange=p.noop;gb&&delete Va[x]}if(S)v.readyState!==4&&v.abort();else{ea=v.status;ga=v.getAllResponseHeaders();da={};if((ra=v.responseXML)&&ra.documentElement)da.xml=
ra;da.text=v.responseText;try{W=v.statusText}catch(za){W=""}if(!ea&&g.isLocal&&!g.crossDomain)ea=da.text?200:404;else if(ea===1223)ea=204}}}catch(Ba){S||t(-1,Ba)}da&&t(ea,W,da,ga)};if(!g.async||v.readyState===4)h();else{x=++nc;if(gb){if(!Va){Va={};p(a).unload(gb)}Va[x]=h}v.onreadystatechange=h}},abort:function(){h&&h(0,1)}}}});var cb={},Ma,Ua,oc=/^(?:toggle|show|hide)$/,pc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ab,kb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft",
"marginRight","paddingLeft","paddingRight"],["opacity"]],Xa;p.fn.extend({show:function(g,h,r){if(g||g===0)return this.animate(R("show",3),g,h,r);else{r=0;for(var t=this.length;r<t;r++){g=this[r];if(g.style){h=g.style.display;if(!p._data(g,"olddisplay")&&h==="none")h=g.style.display="";h===""&&p.css(g,"display")==="none"&&p._data(g,"olddisplay",ba(g.nodeName))}}for(r=0;r<t;r++){g=this[r];if(g.style){h=g.style.display;if(h===""||h==="none")g.style.display=p._data(g,"olddisplay")||""}}return this}},
hide:function(g,h,r){if(g||g===0)return this.animate(R("hide",3),g,h,r);else{r=0;for(var t=this.length;r<t;r++){g=this[r];if(g.style){h=p.css(g,"display");h!=="none"&&!p._data(g,"olddisplay")&&p._data(g,"olddisplay",h)}}for(r=0;r<t;r++)if(this[r].style)this[r].style.display="none";return this}},_toggle:p.fn.toggle,toggle:function(g,h,r){var t=typeof g==="boolean";if(p.isFunction(g)&&p.isFunction(h))this._toggle.apply(this,arguments);else g==null||t?this.each(function(){var v=t?g:p(this).is(":hidden");
p(this)[v?"show":"hide"]()}):this.animate(R("toggle",3),g,h,r);return this},fadeTo:function(g,h,r,t){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:h},g,r,t)},animate:function(g,h,r,t){function v(){x.queue===false&&p._mark(this);var H=p.extend({},x),M=this.nodeType===1,N=M&&p(this).is(":hidden"),S,ea,W,ga,da;H.animatedProperties={};for(W in g){S=p.camelCase(W);if(W!==S){g[S]=g[W];delete g[W]}ea=g[S];if(p.isArray(ea)){H.animatedProperties[S]=ea[1];ea=g[S]=ea[0]}else H.animatedProperties[S]=
H.specialEasing&&H.specialEasing[S]||H.easing||"swing";if(ea==="hide"&&N||ea==="show"&&!N)return H.complete.call(this);if(M&&(S==="height"||S==="width")){H.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(p.css(this,"display")==="inline"&&p.css(this,"float")==="none")if(!p.support.inlineBlockNeedsLayout||ba(this.nodeName)==="inline")this.style.display="inline-block";else this.style.zoom=1}}if(H.overflow!=null)this.style.overflow="hidden";for(W in g){M=new p.fx(this,H,W);
ea=g[W];if(oc.test(ea))if(S=p._data(this,"toggle"+W)||(ea==="toggle"?N?"show":"hide":0)){p._data(this,"toggle"+W,S==="show"?"hide":"show");M[S]()}else M[ea]();else{S=pc.exec(ea);ga=M.cur();if(S){ea=parseFloat(S[2]);da=S[3]||(p.cssNumber[W]?"":"px");if(da!=="px"){p.style(this,W,(ea||1)+da);ga=(ea||1)/M.cur()*ga;p.style(this,W,ga+da)}if(S[1])ea=(S[1]==="-="?-1:1)*ea+ga;M.custom(ga,ea,da)}else M.custom(ga,ea,"")}}return true}var x=p.speed(h,r,t);if(p.isEmptyObject(g))return this.each(x.complete,[false]);
g=p.extend({},g);return x.queue===false?this.each(v):this.queue(x.queue,v)},stop:function(g,h,r){if(typeof g!=="string"){r=h;h=g;g=d}if(h&&g!==false)this.queue(g||"fx",[]);return this.each(function(){function t(N,S,ea){S=S[ea];p.removeData(N,ea,true);S.stop(r)}var v,x=false,H=p.timers,M=p._data(this);r||p._unmark(true,this);if(g==null)for(v in M)M[v]&&M[v].stop&&v.indexOf(".run")===v.length-4&&t(this,M,v);else if(M[v=g+".run"]&&M[v].stop)t(this,M,v);for(v=H.length;v--;)if(H[v].elem===this&&(g==null||
H[v].queue===g)){r?H[v](true):H[v].saveState();x=true;H.splice(v,1)}r&&x||p.dequeue(this,g)})}});p.each({slideDown:R("show",1),slideUp:R("hide",1),slideToggle:R("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,h){p.fn[g]=function(r,t,v){return this.animate(h,r,t,v)}});p.extend({speed:function(g,h,r){var t=g&&typeof g==="object"?p.extend({},g):{complete:r||!r&&h||p.isFunction(g)&&g,duration:g,easing:r&&h||h&&!p.isFunction(h)&&h};t.duration=p.fx.off?
0:typeof t.duration==="number"?t.duration:t.duration in p.fx.speeds?p.fx.speeds[t.duration]:p.fx.speeds._default;if(t.queue==null||t.queue===true)t.queue="fx";t.old=t.complete;t.complete=function(v){p.isFunction(t.old)&&t.old.call(this);if(t.queue)p.dequeue(this,t.queue);else v!==false&&p._unmark(this)};return t},easing:{linear:function(g,h,r,t){return r+t*g},swing:function(g,h,r,t){return(-Math.cos(g*Math.PI)/2+0.5)*t+r}},timers:[],fx:function(g,h,r){this.options=h;this.elem=g;this.prop=r;h.orig=
h.orig||{}}});p.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(p.fx.step[this.prop]||p.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var g,h=p.css(this.elem,this.prop);return isNaN(g=parseFloat(h))?!h||h==="auto"?0:h:g},custom:function(g,h,r){function t(H){return v.step(H)}var v=this,x=p.fx;this.startTime=Xa||oa();this.end=h;this.now=this.start=
g;this.pos=this.state=0;this.unit=r||this.unit||(p.cssNumber[this.prop]?"":"px");t.queue=this.options.queue;t.elem=this.elem;t.saveState=function(){v.options.hide&&p._data(v.elem,"fxshow"+v.prop)===d&&p._data(v.elem,"fxshow"+v.prop,v.start)};if(t()&&p.timers.push(t)&&!ab)ab=setInterval(x.tick,x.interval)},show:function(){var g=p._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=g||p.style(this.elem,this.prop);this.options.show=true;g!==d?this.custom(this.cur(),g):this.custom(this.prop===
"width"||this.prop==="height"?1:0,this.cur());p(this.elem).show()},hide:function(){this.options.orig[this.prop]=p._data(this.elem,"fxshow"+this.prop)||p.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(g){var h,r=Xa||oa(),t=true,v=this.elem,x=this.options;if(g||r>=x.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();x.animatedProperties[this.prop]=true;for(h in x.animatedProperties)if(x.animatedProperties[h]!==true)t=false;if(t){x.overflow!=
null&&!p.support.shrinkWrapBlocks&&p.each(["","X","Y"],function(H,M){v.style["overflow"+M]=x.overflow[H]});x.hide&&p(v).hide();if(x.hide||x.show)for(h in x.animatedProperties){p.style(v,h,x.orig[h]);p.removeData(v,"fxshow"+h,true);p.removeData(v,"toggle"+h,true)}if(g=x.complete){x.complete=false;g.call(v)}}return false}else{if(x.duration==Infinity)this.now=r;else{g=r-this.startTime;this.state=g/x.duration;this.pos=p.easing[x.animatedProperties[this.prop]](this.state,g,0,1,x.duration);this.now=this.start+
(this.end-this.start)*this.pos}this.update()}return true}};p.extend(p.fx,{tick:function(){for(var g,h=p.timers,r=0;r<h.length;r++){g=h[r];!g()&&h[r]===g&&h.splice(r--,1)}h.length||p.fx.stop()},interval:13,stop:function(){clearInterval(ab);ab=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(g){p.style(g.elem,"opacity",g.now)},_default:function(g){if(g.elem.style&&g.elem.style[g.prop]!=null)g.elem.style[g.prop]=g.now+g.unit;else g.elem[g.prop]=g.now}}});p.each(["width","height"],
function(g,h){p.fx.step[h]=function(r){p.style(r.elem,h,Math.max(0,r.now)+r.unit)}});if(p.expr&&p.expr.filters)p.expr.filters.animated=function(g){return p.grep(p.timers,function(h){return g===h.elem}).length};var qc=/^t(?:able|d|h)$/i,Cb=/^(?:body|html)$/i;p.fn.offset="getBoundingClientRect"in U.documentElement?function(g){var h=this[0],r;if(g)return this.each(function(H){p.offset.setOffset(this,g,H)});if(!h||!h.ownerDocument)return null;if(h===h.ownerDocument.body)return p.offset.bodyOffset(h);
try{r=h.getBoundingClientRect()}catch(t){}var v=h.ownerDocument,x=v.documentElement;if(!r||!p.contains(x,h))return r?{top:r.top,left:r.left}:{top:0,left:0};h=v.body;v=ma(v);return{top:r.top+(v.pageYOffset||p.support.boxModel&&x.scrollTop||h.scrollTop)-(x.clientTop||h.clientTop||0),left:r.left+(v.pageXOffset||p.support.boxModel&&x.scrollLeft||h.scrollLeft)-(x.clientLeft||h.clientLeft||0)}}:function(g){var h=this[0];if(g)return this.each(function(ea){p.offset.setOffset(this,g,ea)});if(!h||!h.ownerDocument)return null;
if(h===h.ownerDocument.body)return p.offset.bodyOffset(h);var r,t=h.offsetParent,v=h,x=h.ownerDocument,H=x.documentElement,M=x.body;r=(x=x.defaultView)?x.getComputedStyle(h,null):h.currentStyle;for(var N=h.offsetTop,S=h.offsetLeft;(h=h.parentNode)&&h!==M&&h!==H;){if(p.support.fixedPosition&&r.position==="fixed")break;r=x?x.getComputedStyle(h,null):h.currentStyle;N-=h.scrollTop;S-=h.scrollLeft;if(h===t){N+=h.offsetTop;S+=h.offsetLeft;if(p.support.doesNotAddBorder&&!(p.support.doesAddBorderForTableAndCells&&
qc.test(h.nodeName))){N+=parseFloat(r.borderTopWidth)||0;S+=parseFloat(r.borderLeftWidth)||0}v=t;t=h.offsetParent}if(p.support.subtractsBorderForOverflowNotVisible&&r.overflow!=="visible"){N+=parseFloat(r.borderTopWidth)||0;S+=parseFloat(r.borderLeftWidth)||0}r=r}if(r.position==="relative"||r.position==="static"){N+=M.offsetTop;S+=M.offsetLeft}if(p.support.fixedPosition&&r.position==="fixed"){N+=Math.max(H.scrollTop,M.scrollTop);S+=Math.max(H.scrollLeft,M.scrollLeft)}return{top:N,left:S}};p.offset=
{bodyOffset:function(g){var h=g.offsetTop,r=g.offsetLeft;if(p.support.doesNotIncludeMarginInBodyOffset){h+=parseFloat(p.css(g,"marginTop"))||0;r+=parseFloat(p.css(g,"marginLeft"))||0}return{top:h,left:r}},setOffset:function(g,h,r){var t=p.css(g,"position");if(t==="static")g.style.position="relative";var v=p(g),x=v.offset(),H=p.css(g,"top"),M=p.css(g,"left"),N={},S={};if((t==="absolute"||t==="fixed")&&p.inArray("auto",[H,M])>-1){S=v.position();t=S.top;M=S.left}else{t=parseFloat(H)||0;M=parseFloat(M)||
0}if(p.isFunction(h))h=h.call(g,r,x);if(h.top!=null)N.top=h.top-x.top+t;if(h.left!=null)N.left=h.left-x.left+M;"using"in h?h.using.call(g,N):v.css(N)}};p.fn.extend({position:function(){if(!this[0])return null;var g=this[0],h=this.offsetParent(),r=this.offset(),t=Cb.test(h[0].nodeName)?{top:0,left:0}:h.offset();r.top-=parseFloat(p.css(g,"marginTop"))||0;r.left-=parseFloat(p.css(g,"marginLeft"))||0;t.top+=parseFloat(p.css(h[0],"borderTopWidth"))||0;t.left+=parseFloat(p.css(h[0],"borderLeftWidth"))||
0;return{top:r.top-t.top,left:r.left-t.left}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent||U.body;g&&!Cb.test(g.nodeName)&&p.css(g,"position")==="static";)g=g.offsetParent;return g})}});p.each(["Left","Top"],function(g,h){var r="scroll"+h;p.fn[r]=function(t){var v,x;if(t===d){v=this[0];if(!v)return null;return(x=ma(v))?"pageXOffset"in x?x[g?"pageYOffset":"pageXOffset"]:p.support.boxModel&&x.document.documentElement[r]||x.document.body[r]:v[r]}return this.each(function(){if(x=
ma(this))x.scrollTo(!g?t:p(x).scrollLeft(),g?t:p(x).scrollTop());else this[r]=t})}});p.each(["Height","Width"],function(g,h){var r=h.toLowerCase();p.fn["inner"+h]=function(){var t=this[0];return t?t.style?parseFloat(p.css(t,r,"padding")):this[r]():null};p.fn["outer"+h]=function(t){var v=this[0];return v?v.style?parseFloat(p.css(v,r,t?"margin":"border")):this[r]():null};p.fn[r]=function(t){var v=this[0];if(!v)return t==null?null:this;if(p.isFunction(t))return this.each(function(M){var N=p(this);N[r](t.call(this,
M,N[r]()))});if(p.isWindow(v)){var x=v.document.documentElement["client"+h],H=v.document.body;return v.document.compatMode==="CSS1Compat"&&x||H&&H["client"+h]||x}else if(v.nodeType===9)return Math.max(v.documentElement["client"+h],v.body["scroll"+h],v.documentElement["scroll"+h],v.body["offset"+h],v.documentElement["offset"+h]);else if(t===d){v=p.css(v,r);x=parseFloat(v);return p.isNumeric(x)?x:v}else return this.css(r,typeof t==="string"?t:t+"px")}});a.jQuery=a.$=p;typeof define==="function"&&define.amd&&
define.amd.jQuery&&define("jquery",[],function(){return p})})(window);steal.loaded("jquery/jquery.js");window.Storage=window.localStorage;var storage=function(){try{localStorage.setItem("testLocalStorage","testLocalStorage");return true}catch(a){return false}}();
storage||function(){var a=function(d){function e(u,o,w){var z;if(w){z=new Date;z.setTime(z.getTime()+w*24*60*60*1E3);w="; expires="+z.toGMTString()}else w="";document.cookie=u+"="+o+w+"; path=/"}function f(u){u=u+"=";var o=document.cookie.split(";"),w,z;for(w=0;w<o.length;w++){for(z=o[w];z.charAt(0)==" ";)z=z.substring(1,z.length);if(z.indexOf(u)==0)return z.substring(u.length,z.length)}return null}function c(u){u=JSON.stringify(u);if(d=="session")window.name=u;else e("localStorage",u,365)}function k(){if(d==
"session")window.name="";else e("localStorage","",365)}function n(){var u=d=="session"?window.name:f("localStorage");return u?JSON.parse(u):{}}var j=n();return{length:0,clear:function(){j={};this.length=0;k()},getItem:function(u){return j[u]===undefined?null:j[u]},key:function(u){var o=0;for(var w in j)if(o==u)return w;else o++;return null},removeItem:function(u){delete j[u];this.length--;c(j)},setItem:function(u,o){j[u]=o+"";this.length++;c(j)}}};window.Storage=new a("local");window.sessionStorage=
new a("session")}();
(function(){if(!("JSON"in window&&JSON.stringify&&JSON.parse)){if(!this.JSON)this.JSON={};(function(){function a(o){return o<10?"0"+o:o}function d(o){c.lastIndex=0;return c.test(o)?'"'+o.replace(c,function(w){var z=j[w];return typeof z==="string"?z:"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function e(o,w){var z,A,L=k,E,Q=w[o];if(Q&&typeof Q==="object"&&typeof Q.toJSON==="function")Q=Q.toJSON(o);if(typeof u==="function")Q=u.call(w,o,Q);switch(typeof Q){case "string":return d(Q);case "number":return isFinite(Q)?
String(Q):"null";case "boolean":case "null":return String(Q);case "object":if(!Q)return"null";k+=n;E=[];if(Object.prototype.toString.apply(Q)==="[object Array]"){A=Q.length;for(o=0;o<A;o+=1)E[o]=e(o,Q)||"null";w=E.length===0?"[]":k?"[\n"+k+E.join(",\n"+k)+"\n"+L+"]":"["+E.join(",")+"]";k=L;return w}if(u&&typeof u==="object"){A=u.length;for(o=0;o<A;o+=1){z=u[o];if(typeof z==="string")if(w=e(z,Q))E.push(d(z)+(k?": ":":")+w)}}else for(z in Q)if(Object.hasOwnProperty.call(Q,z))if(w=e(z,Q))E.push(d(z)+
(k?": ":":")+w);w=E.length===0?"{}":k?"{\n"+k+E.join(",\n"+k)+"\n"+L+"}":"{"+E.join(",")+"}";k=L;return w}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,n,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof JSON.stringify!=="function")JSON.stringify=function(o,w,z){var A;n=k="";if(typeof z==="number")for(A=0;A<z;A+=1)n+=" ";else if(typeof z==="string")n=z;if((u=w)&&typeof w!=="function"&&(typeof w!=="object"||typeof w.length!=="number"))throw new Error("JSON.stringify");return e("",
{"":o})};if(typeof JSON.parse!=="function")JSON.parse=function(o,w){function z(A,L){var E,Q,G=A[L];if(G&&typeof G==="object")for(E in G)if(Object.hasOwnProperty.call(G,E)){Q=z(G,E);if(Q!==undefined)G[E]=Q;else delete G[E]}return w.call(A,L,G)}o=String(o);f.lastIndex=0;if(f.test(o))o=o.replace(f,function(A){return"\\u"+("0000"+A.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){o=eval("("+o+")");return typeof w==="function"?z({"":o},""):o}throw new SyntaxError("JSON.parse");}})()}})();function empty(a){if(!a)return false;var d;for(d=a.childNodes.length-1;d>=0;d--)a.removeChild(a.childNodes[d])}$.extend({linkUrl:function(a){if(a)return a.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$1" target="_blank">$1</a>')}});
$.extend({URLEncode:function(a){if(!a)return false;var d="",e=0;a=a.toString();for(var f=/(^[a-zA-Z0-9_.]*)/;e<a.length;){var c=f.exec(a.substr(e));if(c!=null&&c.length>1&&c[1]!=""){d+=c[1];e+=c[1].length}else{if(a[e]==" ")d+="+";else{c=a.charCodeAt(e).toString(16);d+="%"+(c.length<2?"0":"")+c.toUpperCase()}e++}}return d},URLDecode:function(a){a=a;for(var d,e=/(%[^%]{2})/;(m=e.exec(a))!=null&&m.length>1&&m[1]!="";){b=parseInt(m[1].substr(1),16);d=String.fromCharCode(b);a=a.replace(m[1],d)}return a}});
$.extend({encode64:function(a){var d="",e,f,c,k,n,j,u=0;for(a=function(o){o=o.replace(/\r\n/g,"\n");for(var w="",z=0;z<o.length;z++){var A=o.charCodeAt(z);if(A<128)w+=String.fromCharCode(A);else{if(A>127&&A<2048)w+=String.fromCharCode(A>>6|192);else{w+=String.fromCharCode(A>>12|224);w+=String.fromCharCode(A>>6&63|128)}w+=String.fromCharCode(A&63|128)}}return w}(a);u<a.length;){e=a.charCodeAt(u++);f=a.charCodeAt(u++);c=a.charCodeAt(u++);k=e>>2;e=(e&3)<<4|f>>4;n=(f&15)<<2|c>>6;j=c&63;if(isNaN(f))n=
j=64;else if(isNaN(c))j=64;d=d+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j)}return d}});
$.fn.serializeObject=function(){var a={},d=this.serializeArray();$.each(d,function(){if(a[this.name]!==undefined){a[this.name].push||(a[this.name]=[a[this.name]]);a[this.name].push(this.value||"")}else a[this.name]=this.value||""});return a};steal.loaded("webapp/core/utils.js");
var WebService={connectError:"<strong>Could not connect to FastND web service. </strong><br>Please try again in a few minutes. <br> Sorry for the delay in accessing our service. If the problem persists, please contact us.",auth:function(a){$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/user_sessions.json",type:"POST",data:{user_session:{login:a.username,password:a.password}},success:function(d){a.complete&&a.complete(d)},error:function(){$().toastmessage("showErrorToast","<strong>Invalid Username or Password</strong><br /> Please try again. ")},
complete:function(){$.mobile.hidePageLoadingMsg()}})},focus:function(a){var d=function(e,f){e=e.title.toLowerCase();f=f.title.toLowerCase();if(e<f)return-1;if(e>f)return 1;return 0};$.ajax({url:finforeBaseUrl+"/category_focus.json",type:"GET",success:function(e){e[0].profiles.sort(d);e[1].profiles.sort(d);e[2].profiles.sort(d);a.complete&&a.complete(e)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"});Loader.hide()}})},updateUser:function(a){Loader.show();
$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:a.data},success:function(d){finfore.data.user=d;finfore.storeData({user:d});a.complete&&a.complete(d)},error:function(){$().toastmessage("showToast",{text:"There was a problem updating your profile. Please try again later. ",type:"error",sticky:true})},complete:function(){Loader.hide()}})},refreshUser:function(a){Loader.show();$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"GET",success:function(d){finfore.data.user=
d;finfore.storeData({user:d});a.complete&&a.complete(d)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"})},complete:function(){Loader.hide()}})},updateCompanies:function(a){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:{user_company_tabs_attributes:a.userCompanyTabs}},success:function(){a.complete&&a.complete()}})},updateColumns:function(a){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+
".json",type:"PUT",data:{user:{feed_accounts_attributes:a.columns}},success:function(){a.complete&&a.complete()}})},getColumn:function(){}},Loader={$body:$("body"),show:function(){this.$body.addClass("ui-loading")},hide:function(){this.$body.removeClass("ui-loading")}},feedReader={},callbackCounter=-1;
feedReader.get=function(a){var d="select channel.title, channel.item.title, channel.item.link, channel.item.enclosure, channel.item.description, channel.item.date, channel.item.pubDate from xml where url in(";$.each(a.sources,function(f,c){if(f!==0)d+=",";d+="'"+c+"'"});d+=') | unique(field="channel.item.link") | sort(field="channel.item.date", descending="true") | sort(field="channel.item.pubDate", descending="true")  | truncate(count='+a.limit+")";var e="feedReaderCallback";if(a.callbackId)e+=a.callbackId;
else{callbackCounter++;e+=callbackCounter}window[e]=function(f){feedReaderCallback(f,a);delete window[e]};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:e,cache:true,data:{q:d,format:"json",_maxage:300,diagnostics:false}})};
function feedReaderCallback(a,d){var e=[],f="";if(a.query&&a.query.results&&a.query.results.rss){if(!$.isArray(a.query.results.rss))a.query.results.rss=[a.query.results.rss];e=$.map(a.query.results.rss,function(c){if(!c.channel.item)return null;if(c.channel.item.description)f=c.channel.item.description.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";else if(c.channel.item.summary)f=c.channel.item.summary.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";try{return{title:c.channel.item.title.replace(/(<([^>]+)>)/ig,
""),link:c.channel.item.link,description:f,pubDate:c.channel.item.pubDate?new Date(c.channel.item.pubDate):new Date(c.channel.item.date),source:c.channel.title,enclosure:c.channel.item.enclosure}}catch(k){return null}})}d.complete(e)}steal.loaded("webapp/core/api.js");
(function(a,d){if(a.cleanData){var e=a.cleanData;a.cleanData=function(c){for(var k=0,n;(n=c[k])!=null;k++)a(n).triggerHandler("remove");e(c)}}else{var f=a.fn.remove;a.fn.remove=function(c,k){return this.each(function(){if(!k)if(!c||a.filter(c,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return f.call(a(this),c,k)})}}a.widget=function(c,k,n){var j=c.split(".")[0],u;c=c.split(".")[1];u=j+"-"+c;if(!n){n=k;k=a.Widget}a.expr[":"][u]=function(o){return!!a.data(o,
c)};a[j]=a[j]||{};a[j][c]=function(o,w){arguments.length&&this._createWidget(o,w)};k=new k;k.options=a.extend(true,{},k.options);a[j][c].prototype=a.extend(true,k,{namespace:j,widgetName:c,widgetEventPrefix:a[j][c].prototype.widgetEventPrefix||c,widgetBaseClass:u},n);a.widget.bridge(c,a[j][c])};a.widget.bridge=function(c,k){a.fn[c]=function(n){var j=typeof n==="string",u=Array.prototype.slice.call(arguments,1),o=this;n=!j&&u.length?a.extend.apply(null,[true,n].concat(u)):n;if(j&&n.charAt(0)==="_")return o;
j?this.each(function(){var w=a.data(this,c);if(!w)throw"cannot call methods on "+c+" prior to initialization; attempted to call method '"+n+"'";if(!a.isFunction(w[n]))throw"no such method '"+n+"' for "+c+" widget instance";var z=w[n].apply(w,u);if(z!==w&&z!==d){o=z;return false}}):this.each(function(){var w=a.data(this,c);w?w.option(n||{})._init():a.data(this,c,new k(n,this))});return o}};a.Widget=function(c,k){arguments.length&&this._createWidget(c,k)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",
options:{disabled:false},_createWidget:function(c,k){a.data(k,this.widgetName,this);this.element=a(k);this.options=a.extend(true,{},this.options,this._getCreateOptions(),c);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){var c={};if(a.metadata)c=a.metadata.get(element)[this.widgetName];return c},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);
this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,k){var n=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c==="string"){if(k===d)return this.options[c];n={};n[c]=k}this._setOptions(n);return this},_setOptions:function(c){var k=this;a.each(c,function(n,j){k._setOption(n,j)});return this},_setOption:function(c,k){this.options[c]=k;if(c===
"disabled")this.widget()[k?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",k);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(c,k,n){var j=this.options[c];k=a.Event(k);k.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();n=n||{};if(k.originalEvent){c=a.event.props.length;for(var u;c;){u=a.event.props[--c];k[u]=k.originalEvent[u]}}this.element.trigger(k,
n);return!(a.isFunction(j)&&j.call(this.element[0],k,n)===false||k.isDefaultPrevented())}}})(jQuery);
(function(a,d){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var e=this.element,f={};a.each(this.options,function(c){var k=e.jqmData(c.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}));if(k!==d)f[c]=k});return f},enhanceWithin:function(e){var f=a.mobile.closestPageData(a(e));f=f&&f.keepNativeSelector()||"";a(this.options.initSelector,e).not(f)[this.widgetName]()}})})(jQuery);
(function(a){a(window);var d=a("html");a.mobile.media=function(){var e={},f=a("<div id='jquery-mediatest'>"),c=a("<body>").append(f);return function(k){if(!(k in e)){var n=document.createElement("style"),j="@media "+k+" { #jquery-mediatest { position:absolute; } }";n.type="text/css";if(n.styleSheet)n.styleSheet.cssText=j;else n.appendChild(document.createTextNode(j));d.prepend(c).prepend(n);e[k]=f.css("position")==="absolute";c.add(n).remove()}return e[k]}}()})(jQuery);
(function(a,d){function e(w){var z=w.charAt(0).toUpperCase()+w.substr(1);w=(w+" "+n.join(z+" ")+z).split(" ");for(var A in w)if(k[w[A]]!==d)return true}function f(){var w=location.protocol+"//"+location.host+location.pathname+"ui-dir/",z=a("head base"),A=null,L="",E;if(z.length)L=z.attr("href");else z=A=a("<base>",{href:w}).appendTo("head");E=a("<a href='testurl' />").prependTo(c)[0].href;z[0].href=L||location.pathname;A&&A.remove();return E.indexOf(w)===0}var c=a("<body>").prependTo("html"),k=c[0].style,
n=["Webkit","Moz","O"],j="palmGetResource"in window,u=window.operamini&&{}.toString.call(window.operamini)==="[object OperaMini]",o=window.blackberry;a.mobile.browser={};a.mobile.browser.ie=function(){for(var w=3,z=document.createElement("div"),A=z.all||[];z.innerHTML="<!--[if gt IE "+ ++w+"]><br><![endif]--\>",A[0];);return w>4?w:!w}();a.extend(a.support,{orientation:"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,
pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),boxShadow:!!e("boxShadow")&&!o,scrollTop:("pageXOffset"in window||"scrollTop"in document.documentElement||"scrollTop"in c[0])&&!j&&!u,dynamicBaseTag:f()});c.remove();j=function(){var w=window.navigator.userAgent;return w.indexOf("Nokia")>-1&&(w.indexOf("Symbian/3")>-1||w.indexOf("Series60/5")>-1)&&w.indexOf("AppleWebKit")>-1&&w.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();
a.mobile.ajaxBlacklist=window.blackberry&&!window.WebKitPoint||u||j;j&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);
(function(a,d,e,f){function c(ha){for(;ha&&typeof ha.originalEvent!=="undefined";)ha=ha.originalEvent;return ha}function k(ha,na){var qa=ha.type,xa,Da,Fa;ha=a.Event(ha);ha.type=na;xa=ha.originalEvent;Da=a.event.props;if(xa)for(Fa=Da.length;Fa;){na=Da[--Fa];ha[na]=xa[na]}if(qa.search(/mouse(down|up)|click/)>-1&&!ha.which)ha.which=1;if(qa.search(/^touch/)!==-1){na=c(xa);qa=na.touches;na=na.changedTouches;if(qa=qa&&qa.length?qa[0]:na&&na.length?na[0]:f){xa=0;for(len=Z.length;xa<len;xa++){na=Z[xa];ha[na]=
qa[na]}}}return ha}function n(ha){for(var na={},qa,xa;ha;){qa=a.data(ha,J);for(xa in qa)if(qa[xa])na[xa]=na.hasVirtualBinding=true;ha=ha.parentNode}return na}function j(ha,na){for(var qa;ha;){if((qa=a.data(ha,J))&&(!na||qa[na]))return ha;ha=ha.parentNode}return null}function u(){U=false}function o(){U=true}function w(){ya=0;ba.length=0;ma=false;o()}function z(){u()}function A(){L();ka=setTimeout(function(){ka=0;w()},a.vmouse.resetTimerDuration)}function L(){if(ka){clearTimeout(ka);ka=0}}function E(ha,
na,qa){var xa;if(qa&&qa[ha]||!qa&&j(na.target,ha)){xa=k(na,ha);a(na.target).trigger(xa)}return xa}function Q(ha){var na=a.data(ha.target,P);if(!ma&&(!ya||ya!==na))if(na=E("v"+ha.type,ha)){na.isDefaultPrevented()&&ha.preventDefault();na.isPropagationStopped()&&ha.stopPropagation();na.isImmediatePropagationStopped()&&ha.stopImmediatePropagation()}}function G(ha){var na=c(ha).touches,qa;if(na&&na.length===1){qa=ha.target;na=n(qa);if(na.hasVirtualBinding){ya=p++;a.data(qa,P,ya);L();z();R=false;qa=c(ha).touches[0];
oa=qa.pageX;I=qa.pageY;E("vmouseover",ha,na);E("vmousedown",ha,na)}}}function D(ha){if(!U){R||E("vmousecancel",ha,n(ha.target));R=true;A()}}function C(ha){if(!U){var na=c(ha).touches[0],qa=R,xa=a.vmouse.moveDistanceThreshold;R=R||Math.abs(na.pageX-oa)>xa||Math.abs(na.pageY-I)>xa;flags=n(ha.target);R&&!qa&&E("vmousecancel",ha,flags);E("vmousemove",ha,flags);A()}}function s(ha){if(!U){o();var na=n(ha.target),qa;E("vmouseup",ha,na);if(!R)if((qa=E("vclick",ha,na))&&qa.isDefaultPrevented()){qa=c(ha).changedTouches[0];
ba.push({touchID:ya,x:qa.clientX,y:qa.clientY});ma=true}E("vmouseout",ha,na);R=false;A()}}function q(ha){ha=a.data(ha,J);var na;if(ha)for(na in ha)if(ha[na])return true;return false}function B(){}function K(ha){var na=ha.substr(1);return{setup:function(){q(this)||a.data(this,J,{});a.data(this,J)[ha]=true;X[ha]=(X[ha]||0)+1;X[ha]===1&&pa.bind(na,Q);a(this).bind(na,B);if(ua){X.touchstart=(X.touchstart||0)+1;X.touchstart===1&&pa.bind("touchstart",G).bind("touchend",s).bind("touchmove",C).bind("scroll",
D)}},teardown:function(){--X[ha];X[ha]||pa.unbind(na,Q);if(ua){--X.touchstart;X.touchstart||pa.unbind("touchstart",G).unbind("touchmove",C).unbind("touchend",s).unbind("scroll",D)}var qa=a(this),xa=a.data(this,J);if(xa)xa[ha]=false;qa.unbind(na,B);q(this)||qa.removeData(J)}}}var J="virtualMouseBindings",P="virtualTouchID";d="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var Z="clientX clientY pageX pageY screenX screenY".split(" "),X={},ka=0,oa=0,I=0,R=false,
ba=[],ma=false,U=false,ua="addEventListener"in e,pa=a(e),p=1,ya=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var Ga=0;Ga<d.length;Ga++)a.event.special[d[Ga]]=K(d[Ga]);ua&&e.addEventListener("click",function(ha){var na=ba.length,qa=ha.target,xa,Da,Fa,Ha,Ka;if(na){xa=ha.clientX;Da=ha.clientY;threshold=a.vmouse.clickDistanceThreshold;for(Fa=qa;Fa;){for(Ha=0;Ha<na;Ha++){Ka=ba[Ha];if(Fa===qa&&Math.abs(Ka.x-xa)<threshold&&Math.abs(Ka.y-Da)<threshold||a.data(Fa,
P)===Ka.touchID){ha.preventDefault();ha.stopPropagation();return}}Fa=Fa.parentNode}}},true)})(jQuery,window,document);
(function(a,d,e){function f(u,o,w){var z=w.type;w.type=o;a.event.handle.call(u,w);w.type=z}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(u,o){a.fn[o]=function(w){return w?this.bind(o,w):this.trigger(o)};a.attrFn[o]=true});var c=a.support.touch,k=c?"touchstart":"mousedown",n=c?"touchend":"mouseup",j=c?"touchmove":"mousemove";a.event.special.scrollstart={enabled:true,setup:function(){function u(A,
L){w=L;f(o,w?"scrollstart":"scrollstop",A)}var o=this,w,z;a(o).bind("touchmove scroll",function(A){if(a.event.special.scrollstart.enabled){w||u(A,true);clearTimeout(z);z=setTimeout(function(){u(A,false)},50)}})}};a.event.special.tap={setup:function(){var u=this,o=a(u);o.bind("vmousedown",function(w){function z(){clearTimeout(Q)}function A(){z();o.unbind("vclick",L).unbind("vmouseup",z).unbind("vmousecancel",A)}function L(G){A();E==G.target&&f(u,"tap",G)}if(w.which&&w.which!==1)return false;var E=
w.target,Q;o.bind("vmousecancel",A).bind("vmouseup",z).bind("vclick",L);Q=setTimeout(function(){f(u,"taphold",a.Event("taphold"))},750)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var u=a(this);u.bind(k,function(o){function w(E){if(A){var Q=E.originalEvent.touches?E.originalEvent.touches[0]:E;L={time:(new Date).getTime(),coords:[Q.pageX,Q.pageY]};Math.abs(A.coords[0]-L.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&
E.preventDefault()}}var z=o.originalEvent.touches?o.originalEvent.touches[0]:o,A={time:(new Date).getTime(),coords:[z.pageX,z.pageY],origin:a(o.target)},L;u.bind(j,w).one(n,function(){u.unbind(j,w);if(A&&L)if(L.time-A.time<a.event.special.swipe.durationThreshold&&Math.abs(A.coords[0]-L.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(A.coords[1]-L.coords[1])<a.event.special.swipe.verticalDistanceThreshold)A.origin.trigger("swipe").trigger(A.coords[0]>L.coords[0]?"swipeleft":
"swiperight");A=L=e})})}};(function(u,o){function w(){var D=A();if(D!==L){L=D;z.trigger("orientationchange")}}var z=u(o),A,L,E,Q,G={"0":true,"180":true};if(u.support.orientation){E=u.mobile.media("all and (orientation: landscape)");Q=G[o.orientation];if(E&&Q||!E&&!Q)G={"-90":true,"90":true}}u.event.special.orientationchange={setup:function(){if(u.support.orientation&&u.mobile.orientationChangeEnabled)return false;L=A();z.bind("throttledresize",w)},teardown:function(){if(u.support.orientation&&u.mobile.orientationChangeEnabled)return false;
z.unbind("throttledresize",w)},add:function(D){var C=D.handler;D.handler=function(s){s.orientation=A();return C.apply(this,arguments)}}};u.event.special.orientationchange.orientation=A=function(){var D=true;D=document.documentElement;return(D=u.support.orientation?G[o.orientation]:D&&D.clientWidth/D.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,d);(function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",u)},teardown:function(){a(this).unbind("resize",u)}};var u=function(){z=
(new Date).getTime();A=z-o;if(A>=250){o=z;a(this).trigger("throttledresize")}else{w&&clearTimeout(w);w=setTimeout(u,250-A)}},o=0,w,z,A})();a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(u,o){a.event.special[u]={setup:function(){a(this).bind(o,a.noop)}}})})(jQuery,this);
(function(a,d,e){function f(w){w=w||location.href;return"#"+w.replace(/^[^#]*#?(.*)$/,"$1")}var c="hashchange",k=document,n,j=a.event.special,u=k.documentMode,o="on"+c in d&&(u===e||u>7);a.fn[c]=function(w){return w?this.bind(c,w):this.trigger(c)};a.fn[c].delay=50;j[c]=a.extend(j[c],{setup:function(){if(o)return false;a(n.start)},teardown:function(){if(o)return false;a(n.stop)}});n=function(){function w(){var D=f(),C=G(L);if(D!==L){Q(L=D,C);a(d).trigger(c)}else if(C!==L)location.href=location.href.replace(/#.*/,
"")+C;A=setTimeout(w,a.fn[c].delay)}var z={},A,L=f(),E=function(D){return D},Q=E,G=E;z.start=function(){A||w()};z.stop=function(){A&&clearTimeout(A);A=e};a.browser.msie&&!o&&function(){var D,C;z.start=function(){if(!D){C=(C=a.fn[c].src)&&C+f();D=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){C||Q(f());w()}).attr("src",C||"javascript:0").insertAfter("body")[0].contentWindow;k.onpropertychange=function(){try{if(event.propertyName==="title")D.document.title=k.title}catch(s){}}}};
z.stop=E;G=function(){return f(D.location.href)};Q=function(s,q){var B=D.document,K=a.fn[c].domain;if(s!==q){B.title=k.title;B.open();K&&B.write('<script>document.domain="'+K+'"<\/script>');B.close();D.location.hash=s}}}();return z}()})(jQuery,this);
(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){this._trigger("beforecreate");this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme)},keepNativeSelector:function(){var d=this.options;if(d.keepNative&&a.trim(d.keepNative)&&d.keepNative!==d.keepNativeDefault)return[d.keepNative,d.keepNativeDefault].join(", ");return d.keepNativeDefault}})})(jQuery);
(function(a,d){var e={};a.extend(a.mobile,{ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"slide",minScrollBack:250,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",autoInitializePage:true,pushStateEnabled:true,orientationChangeEnabled:true,gradeA:function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=
7},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(k){if(a.type(k)!=="number")k=a.mobile.defaultHomeScroll;a.event.special.scrollstart.enabled=false;
setTimeout(function(){d.scrollTo(0,k);a(document).trigger("silentscroll",{x:0,y:k})},20);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:e,nsNormalize:function(k){if(k)return e[k]||(e[k]=a.camelCase(a.mobile.ns+k))},getInheritedTheme:function(k,n){k=k[0];for(var j="",u=/ui-(bar|body)-([a-z])\b/,o,w;k;){o=k.className||"";if((w=u.exec(o))&&(j=w[2]))break;k=k.parentNode}return j||n||"a"},closestPageData:function(k){return k.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")}});
a.fn.jqmData=function(k,n){var j;if(typeof k!="undefined")j=this.data(k?a.mobile.nsNormalize(k):k,n);return j};a.jqmData=function(k,n,j){var u;if(typeof n!="undefined")u=a.data(k,n?a.mobile.nsNormalize(n):n,j);return u};a.fn.jqmRemoveData=function(k){return this.removeData(a.mobile.nsNormalize(k))};a.jqmRemoveData=function(k,n){return a.removeData(k,a.mobile.nsNormalize(n))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=function(k){k=a(k);(k.jqmData("dependents")||
a()).remove();k.remove()};a.fn.addDependents=function(k){a.addDependents(a(this),k)};a.addDependents=function(k,n){var j=a(k).jqmData("dependents")||a();a(k).jqmData("dependents",a.merge(j,n))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};var f=a.find,c=/:jqmData\(([^)]*)\)/g;a.find=function(k,n,j,u){k=k.replace(c,"[data-"+(a.mobile.ns||"")+"$1]");return f.call(this,k,n,j,u)};a.extend(a.find,f);a.find.matches=function(k,n){return a.find(k,null,null,n)};a.find.matchesSelector=
function(k,n){return a.find(n,null,null,[k]).length>0}})(jQuery,this);
(function(a,d){function e(I){var R=I.find(".ui-title:eq(0)");R.length?R.focus():I.focus()}function f(I){if(Q&&(!Q.closest(".ui-page-active").length||I))Q.removeClass(a.mobile.activeBtnClass);Q=null}function c(){C=false;D.length>0&&a.mobile.changePage.apply(null,D.pop())}function k(I,R,ba,ma){var U=a.mobile.urlHistory.getActive(),ua=a.support.touchOverflow&&a.mobile.touchOverflowEnabled,pa=U.lastScroll||(ua?0:a.mobile.defaultHomeScroll);U=n();window.scrollTo(0,a.mobile.defaultHomeScroll);R&&R.data("page")._trigger("beforehide",
null,{nextPage:I});ua||I.height(U+pa);I.data("page")._trigger("beforeshow",null,{prevPage:R||a("")});a.mobile.hidePageLoadingMsg();if(ua&&pa){I.addClass("ui-mobile-pre-transition");e(I);I.is(".ui-native-fixed")?I.find(".ui-content").scrollTop(pa):I.scrollTop(pa)}ba=(a.mobile.transitionHandlers[ba||"none"]||a.mobile.defaultTransitionHandler)(ba,ma,I,R);ba.done(function(){if(!ua){I.height("");e(I)}ua||a.mobile.silentScroll(pa);if(R){ua||R.height("");R.data("page")._trigger("hide",null,{nextPage:I})}I.data("page")._trigger("show",
null,{prevPage:R||a("")})});return ba}function n(){var I=a.event.special.orientationchange.orientation()==="portrait",R=I?screen.availHeight:screen.availWidth;I=Math.max(I?480:320,a(window).height());return Math.min(R,I)}function j(){a.support.touchOverflow&&a.mobile.touchOverflowEnabled||a("."+a.mobile.activePageClass).css("min-height",n())}function u(I,R){R&&I.attr("data-"+a.mobile.ns+"role",R);I.page()}function o(I){for(;I;){if(typeof I.nodeName==="string"&&I.nodeName.toLowerCase()=="a")break;
I=I.parentNode}return I}function w(I){I=a(I).closest(".ui-page").jqmData("url");var R=K.hrefNoHash;if(!I||!E.isPath(I))I=R;return E.makeUrlAbsolute(I,R)}var z=a(window),A=a("html"),L=a("head"),E={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(I){if(a.type(I)==="object")return I;I=E.urlParseRE.exec(I||"")||[];return{href:I[0]||"",hrefNoHash:I[1]||
"",hrefNoSearch:I[2]||"",domain:I[3]||"",protocol:I[4]||"",doubleSlash:I[5]||"",authority:I[6]||"",username:I[8]||"",password:I[9]||"",host:I[10]||"",hostname:I[11]||"",port:I[12]||"",pathname:I[13]||"",directory:I[14]||"",filename:I[15]||"",search:I[16]||"",hash:I[17]||""}},makePathAbsolute:function(I,R){if(I&&I.charAt(0)==="/")return I;I=I||"";R=(R=R?R.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?R.split("/"):[];I=I.split("/");for(var ba=0;ba<I.length;ba++){var ma=I[ba];switch(ma){case ".":break;case "..":R.length&&
R.pop();break;default:R.push(ma);break}}return"/"+R.join("/")},isSameDomain:function(I,R){return E.parseUrl(I).domain===E.parseUrl(R).domain},isRelativeUrl:function(I){return E.parseUrl(I).protocol===""},isAbsoluteUrl:function(I){return E.parseUrl(I).protocol!==""},makeUrlAbsolute:function(I,R){if(!E.isRelativeUrl(I))return I;I=E.parseUrl(I);R=E.parseUrl(R);var ba=I.protocol||R.protocol,ma=I.protocol?I.doubleSlash:I.doubleSlash||R.doubleSlash,U=I.authority||R.authority,ua=I.pathname!=="",pa=E.makePathAbsolute(I.pathname||
R.filename,R.pathname);return ba+ma+U+pa+(I.search||!ua&&R.search||"")+I.hash},addSearchParams:function(I,R){I=E.parseUrl(I);R=typeof R==="object"?a.param(R):R;var ba=I.search||"?";return I.hrefNoSearch+ba+(ba.charAt(ba.length-1)!=="?"?"&":"")+R+(I.hash||"")},convertUrlToDataUrl:function(I){var R=E.parseUrl(I);if(E.isEmbeddedPage(R))return R.hash.split(s)[0].replace(/^#/,"");else if(E.isSameDomain(R,K))return R.hrefNoHash.replace(K.domain,"");return I},get:function(I){if(I===d)I=location.hash;return E.stripHash(I).replace(/[^\/]*\.[^\/*]+$/,
"")},getFilePath:function(I){var R="&"+a.mobile.subPageUrlKey;return I&&I.split(R)[0].split(s)[0]},set:function(I){location.hash=I},isPath:function(I){return/\//.test(I)},clean:function(I){return I.replace(K.domain,"")},stripHash:function(I){return I.replace(/^#/,"")},cleanHash:function(I){return E.stripHash(I.replace(/\?.*$/,"").replace(s,""))},isExternal:function(I){I=E.parseUrl(I);return I.protocol&&I.domain!==B.domain?true:false},hasProtocol:function(I){return/^(:?\w+:)/.test(I)},isFirstPageUrl:function(I){I=
E.parseUrl(E.makeUrlAbsolute(I,K));var R=a.mobile.firstPage;R=R&&R[0]?R[0].id:d;return(I.hrefNoHash===B.hrefNoHash||J&&I.hrefNoHash===K.hrefNoHash)&&(!I.hash||I.hash==="#"||R&&I.hash.replace(/^#/,"")===R)},isEmbeddedPage:function(I){I=E.parseUrl(I);if(I.protocol!=="")return I.hash&&(I.hrefNoHash===B.hrefNoHash||J&&I.hrefNoHash===K.hrefNoHash);return/^#/.test(I.href)},isPermittedCrossDomainRequest:function(I,R){return a.mobile.allowCrossDomainPages&&I.protocol==="file:"&&R.search(/^https?:/)!=-1}},
Q=null,G={stack:[],activeIndex:0,getActive:function(){return G.stack[G.activeIndex]},getPrev:function(){return G.stack[G.activeIndex-1]},getNext:function(){return G.stack[G.activeIndex+1]},addNew:function(I,R,ba,ma,U){G.getNext()&&G.clearForward();G.stack.push({url:I,transition:R,title:ba,pageUrl:ma,role:U});G.activeIndex=G.stack.length-1},clearForward:function(){G.stack=G.stack.slice(0,G.activeIndex+1)},directHashChange:function(I){var R,ba,ma;this.getActive();a.each(G.stack,function(U,ua){if(I.currentUrl===
ua.url){R=U<G.activeIndex;ba=!R;ma=U}});this.activeIndex=ma!==d?ma:this.activeIndex;if(R)(I.either||I.isBack)(true);else if(ba)(I.either||I.isForward)(false)},ignoreNextHashChange:false},D=[],C=false,s="&ui-state=dialog",q=L.children("base"),B=E.parseUrl(location.href),K=q.length?E.parseUrl(E.makeUrlAbsolute(q.attr("href"),B.href)):B,J=B.hrefNoHash!==K.hrefNoHash,P=a.support.dynamicBaseTag?{element:q.length?q:a("<base>",{href:K.hrefNoHash}).prependTo(L),set:function(I){P.element.attr("href",E.makeUrlAbsolute(I,
K))},reset:function(){P.element.attr("href",K.hrefNoHash)}}:d,Z=true,X,ka,oa;X=function(){var I=z;if(a.support.touchOverflow&&a.mobile.touchOverflowEnabled){I=a(".ui-page-active");I=I.is(".ui-native-fixed")?I.find(".ui-content"):I}return I};ka=function(I){if(Z){var R=a.mobile.urlHistory.getActive();if(R){I=I&&I.scrollTop();R.lastScroll=I<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:I}}};oa=function(){setTimeout(ka,100,a(this))};z.bind(a.support.pushState?"popstate":"hashchange",function(){Z=
false});z.one(a.support.pushState?"popstate":"hashchange",function(){Z=true});z.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){var I=X();Z=true;I.unbind("scrollstop",oa);I.bind("scrollstop",oa)})});X().bind("scrollstop",oa);a.mobile.getScreenHeight=n;a.fn.animationComplete=function(I){if(a.support.cssTransitions)return a(this).one("webkitAnimationEnd",I);else{setTimeout(I,0);return a(this)}};a.mobile.path=E;a.mobile.base=P;a.mobile.urlHistory=G;a.mobile.dialogHashKey=
s;a.mobile.noneTransitionHandler=function(I,R,ba,ma){ma&&ma.removeClass(a.mobile.activePageClass);ba.addClass(a.mobile.activePageClass);return a.Deferred().resolve(I,R,ba,ma).promise()};a.mobile.defaultTransitionHandler=a.mobile.noneTransitionHandler;a.mobile.transitionHandlers={none:a.mobile.defaultTransitionHandler};a.mobile.allowCrossDomainPages=false;a.mobile.getDocumentUrl=function(I){return I?a.extend({},B):B.href};a.mobile.getDocumentBase=function(I){return I?a.extend({},K):K.href};a.mobile._bindPageRemove=
function(){var I=a(this);!I.data("page").options.domCache&&I.is(":jqmData(external-page='true')")&&I.bind("pagehide.remove",function(){var R=a(this),ba=new a.Event("pageremove");R.trigger(ba);ba.isDefaultPrevented()||R.removeWithDependents()})};a.mobile.loadPage=function(I,R){var ba=a.Deferred(),ma=a.extend({},a.mobile.loadPage.defaults,R),U=null,ua=null,pa=E.makeUrlAbsolute(I,function(){return a.mobile.activePage&&w(a.mobile.activePage)||K.hrefNoHash}());if(ma.data&&ma.type==="get"){pa=E.addSearchParams(pa,
ma.data);ma.data=d}if(ma.data&&ma.type==="post")ma.reloadPage=true;var p=E.getFilePath(pa),ya=E.convertUrlToDataUrl(pa);ma.pageContainer=ma.pageContainer||a.mobile.pageContainer;U=ma.pageContainer.children(":jqmData(url='"+ya+"')");if(U.length===0&&ya&&!E.isPath(ya))U=ma.pageContainer.children("#"+ya).attr("data-"+a.mobile.ns+"url",ya);if(U.length===0)if(a.mobile.firstPage&&E.isFirstPageUrl(p)){if(a.mobile.firstPage.parent().length)U=a(a.mobile.firstPage)}else if(E.isEmbeddedPage(p)){ba.reject(pa,
R);return ba.promise()}P&&P.reset();if(U.length){if(!ma.reloadPage){u(U,ma.role);ba.resolve(pa,R,U);return ba.promise()}ua=U}var Ga=ma.pageContainer,ha=new a.Event("pagebeforeload"),na={url:I,absUrl:pa,dataUrl:ya,deferred:ba,options:ma};Ga.trigger(ha,na);if(ha.isDefaultPrevented())return ba.promise();if(ma.showLoadMsg)var qa=setTimeout(function(){a.mobile.showPageLoadingMsg()},ma.loadMsgDelay),xa=function(){clearTimeout(qa);a.mobile.hidePageLoadingMsg()};a.mobile.allowCrossDomainPages||E.isSameDomain(B,
pa)?a.ajax({url:p,type:ma.type,data:ma.data,dataType:"html",success:function(Da,Fa,Ha){var Ka=a("<div></div>"),Oa=Da.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,Ya=new RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),La=new RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(Ya.test(Da)&&RegExp.$1&&La.test(RegExp.$1)&&RegExp.$1)I=p=E.getFilePath(RegExp.$1);P&&P.set(p);Ka.get(0).innerHTML=Da;U=Ka.find(":jqmData(role='page'), :jqmData(role='dialog')").first();U.length||(U=
a("<div data-"+a.mobile.ns+"role='page'>"+Da.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));if(Oa&&!U.jqmData("title")){if(~Oa.indexOf("&"))Oa=a("<div>"+Oa+"</div>").text();U.jqmData("title",Oa)}if(!a.support.dynamicBaseTag){var Za=E.get(p);U.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var Wa=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",Qa=a(this).attr(Wa);Qa=Qa.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(Qa)||
a(this).attr(Wa,Za+Qa)})}U.attr("data-"+a.mobile.ns+"url",E.convertUrlToDataUrl(p)).attr("data-"+a.mobile.ns+"external-page",true).appendTo(ma.pageContainer);U.one("pagecreate",a.mobile._bindPageRemove);u(U,ma.role);if(pa.indexOf("&"+a.mobile.subPageUrlKey)>-1)U=ma.pageContainer.children(":jqmData(url='"+ya+"')");ma.showLoadMsg&&xa();na.xhr=Ha;na.textStatus=Fa;na.page=U;ma.pageContainer.trigger("pageload",na);ba.resolve(pa,R,U,ua)},error:function(Da,Fa,Ha){P&&P.set(E.get());na.xhr=Da;na.textStatus=
Fa;na.errorThrown=Ha;Da=new a.Event("pageloadfailed");ma.pageContainer.trigger(Da,na);if(!Da.isDefaultPrevented()){if(ma.showLoadMsg){xa();a("<div class='ui-loader ui-overlay-shadow ui-body-e ui-corner-all'><h1>"+a.mobile.pageLoadErrorMessage+"</h1></div>").css({display:"block",opacity:0.96,top:z.scrollTop()+100}).appendTo(ma.pageContainer).delay(800).fadeOut(400,function(){a(this).remove()})}ba.reject(pa,R)}}}):ba.reject(pa,R);return ba.promise()};a.mobile.loadPage.defaults={type:"get",data:d,reloadPage:false,
role:d,showLoadMsg:false,pageContainer:d,loadMsgDelay:50};a.mobile.changePage=function(I,R){if(C)D.unshift(arguments);else{var ba=a.extend({},a.mobile.changePage.defaults,R);ba.pageContainer=ba.pageContainer||a.mobile.pageContainer;ba.fromPage=ba.fromPage||a.mobile.activePage;var ma=ba.pageContainer,U=new a.Event("pagebeforechange"),ua={toPage:I,options:ba};ma.trigger(U,ua);if(!U.isDefaultPrevented()){I=ua.toPage;C=true;if(typeof I=="string")a.mobile.loadPage(I,ba).done(function(Fa,Ha,Ka,Oa){C=false;
Ha.duplicateCachedPage=Oa;a.mobile.changePage(Ka,Ha)}).fail(function(){C=false;f(true);c();ba.pageContainer.trigger("pagechangefailed",ua)});else{if(I[0]===a.mobile.firstPage[0]&&!ba.dataUrl)ba.dataUrl=B.hrefNoHash;U=ba.fromPage;var pa=ba.dataUrl&&E.convertUrlToDataUrl(ba.dataUrl)||I.jqmData("url"),p=pa;E.getFilePath(pa);var ya=G.getActive(),Ga=G.activeIndex===0,ha=0,na=document.title,qa=ba.role==="dialog"||I.jqmData("role")==="dialog";if(U&&U[0]===I[0]&&!ba.allowSamePageTransition){C=false;ma.trigger("pagechange",
ua)}else{u(I,ba.role);ba.fromHashChange&&G.directHashChange({currentUrl:pa,isBack:function(){ha=-1},isForward:function(){ha=1}});try{document.activeElement&&document.activeElement.nodeName.toLowerCase()!="body"?a(document.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(xa){}if(qa&&ya)pa=(ya.url||"")+s;if(ba.changeHash!==false&&pa){G.ignoreNextHashChange=true;E.set(pa)}var Da=!ya?na:I.jqmData("title")||I.children(":jqmData(role='header')").find(".ui-title").getEncodedText();
if(Da&&na==document.title)na=Da;I.jqmData("title")||I.jqmData("title",na);ba.transition=ba.transition||(ha&&!Ga?ya.transition:d)||(qa?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);ha||G.addNew(pa,ba.transition,na,p,ba.role);document.title=G.getActive().title;a.mobile.activePage=I;ba.reverse=ba.reverse||ha<0;k(I,U,ba.transition,ba.reverse).done(function(){f();ba.duplicateCachedPage&&ba.duplicateCachedPage.remove();A.removeClass("ui-mobile-rendering");c();ma.trigger("pagechange",
ua)})}}}}};a.mobile.changePage.defaults={transition:d,reverse:false,changeHash:true,fromHashChange:false,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:true,dataUrl:d,fromPage:d,allowSamePageTransition:false};a.mobile._registerInternalEvents=function(){a(document).delegate("form","submit",function(I){var R=a(this);if(!(!a.mobile.ajaxEnabled||R.is(":jqmData(ajax='false')"))){var ba=R.attr("method"),ma=R.attr("target"),U=R.attr("action");if(!U){U=w(R);if(U===K.hrefNoHash)U=B.hrefNoSearch}U=
E.makeUrlAbsolute(U,w(R));if(!(E.isExternal(U)&&!E.isPermittedCrossDomainRequest(B,U)||ma)){a.mobile.changePage(U,{type:ba&&ba.length&&ba.toLowerCase()||"get",data:R.serialize(),transition:R.jqmData("transition"),direction:R.jqmData("direction"),reloadPage:true});I.preventDefault()}}});a(document).bind("vclick",function(I){if(!(I.which>1||!a.mobile.linkBindingEnabled))if(I=o(I.target))if(E.parseUrl(I.getAttribute("href")||"#").hash!=="#"){f(true);Q=a(I).closest(".ui-btn").not(".ui-disabled");Q.addClass(a.mobile.activeBtnClass);
a("."+a.mobile.activePageClass+" .ui-btn").not(I).blur()}});a(document).bind("click",function(I){if(a.mobile.linkBindingEnabled){var R=o(I.target);if(!(!R||I.which>1)){var ba=a(R),ma=function(){window.setTimeout(function(){f(true)},200)};if(ba.is(":jqmData(rel='back')")){window.history.back();return false}var U=w(ba);R=E.makeUrlAbsolute(ba.attr("href")||"#",U);if(!a.mobile.ajaxEnabled&&!E.isEmbeddedPage(R))ma();else{if(R.search("#")!=-1)if(R=R.replace(/[^#]*#/,""))R=E.isPath(R)?E.makeUrlAbsolute(R,
U):E.makeUrlAbsolute("#"+R,B.hrefNoHash);else{I.preventDefault();return}if(ba.is("[rel='external']")||ba.is(":jqmData(ajax='false')")||ba.is("[target]")||E.isExternal(R)&&!E.isPermittedCrossDomainRequest(B,R))ma();else{ma=ba.jqmData("transition");U=(U=ba.jqmData("direction"))&&U==="reverse"||ba.jqmData("back");ba=ba.attr("data-"+a.mobile.ns+"rel")||d;a.mobile.changePage(R,{transition:ma,reverse:U,role:ba});I.preventDefault()}}}}});a(document).delegate(".ui-page","pageshow.prefetch",function(){var I=
[];a(this).find("a:jqmData(prefetch)").each(function(){var R=a(this),ba=R.attr("href");if(ba&&a.inArray(ba,I)===-1){I.push(ba);a.mobile.loadPage(ba,{role:R.attr("data-"+a.mobile.ns+"rel")})}})});a.mobile._handleHashChange=function(I){var R=E.stripHash(I),ba={transition:a.mobile.urlHistory.stack.length===0?"none":d,changeHash:false,fromHashChange:true};if(!a.mobile.hashListeningEnabled||G.ignoreNextHashChange)G.ignoreNextHashChange=false;else{if(G.stack.length>1&&R.indexOf(s)>-1)if(a.mobile.activePage.is(".ui-dialog"))G.directHashChange({currentUrl:R,
either:function(ma){var U=a.mobile.urlHistory.getActive();R=U.pageUrl;a.extend(ba,{role:U.role,transition:U.transition,reverse:ma})}});else{G.directHashChange({currentUrl:R,isBack:function(){window.history.back()},isForward:function(){window.history.forward()}});return}if(R){R=typeof R==="string"&&!E.isPath(R)?E.makeUrlAbsolute("#"+R,K):R;a.mobile.changePage(R,ba)}else a.mobile.changePage(a.mobile.firstPage,ba)}};z.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)});a(document).bind("pageshow",
j);a(window).bind("throttledresize",j)}})(jQuery);
(function(a,d){var e={},f=a(d),c=a.mobile.path.parseUrl(location.href);a.extend(e,{initialFilePath:function(){return c.pathname+c.search}(),initialHref:c.hrefNoHash,hashchangeFired:false,state:function(){return{hash:location.hash||"#"+e.initialFilePath,title:document.title,initialHref:e.initialHref}},resetUIKeys:function(k){var n="&"+a.mobile.subPageUrlKey,j=k.indexOf(a.mobile.dialogHashKey);if(j>-1)k=k.slice(0,j)+"#"+k.slice(j);else if(k.indexOf(n)>-1)k=k.split(n).join("#"+n);return k},nextHashChangePrevented:function(k){a.mobile.urlHistory.ignoreNextHashChange=
k;e.onHashChangeDisabled=k},onHashChange:function(){if(!e.onHashChangeDisabled){var k,n;k=location.hash;var j=a.mobile.path.isPath(k),u=j?location.href:a.mobile.getDocumentUrl();k=j?k.replace("#",""):k;n=e.state();k=a.mobile.path.makeUrlAbsolute(k,u);if(j)k=e.resetUIKeys(k);history.replaceState(n,document.title,k)}},onPopState:function(k){var n=k.originalEvent.state;if(n){e.nextHashChangePrevented(true);setTimeout(function(){e.nextHashChangePrevented(false);a.mobile._handleHashChange(n.hash)},100)}},
init:function(){f.bind("hashchange",e.onHashChange);f.bind("popstate",e.onPopState);location.hash===""&&history.replaceState(e.state(),document.title,location.href)}});a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&e.init()})})(jQuery,this);
(function(a){function d(e,f,c,k){var n=new a.Deferred,j=f?" reverse":"",u="ui-mobile-viewport-transitioning viewport-"+e;c.animationComplete(function(){c.add(k).removeClass("out in reverse "+e);k&&k[0]!==c[0]&&k.removeClass(a.mobile.activePageClass);c.parent().removeClass(u);n.resolve(e,f,c,k)});c.parent().addClass(u);k&&k.addClass(e+" out"+j);c.addClass(a.mobile.activePageClass+" "+e+" in"+j);return n.promise()}a.mobile.css3TransitionHandler=d;if(a.mobile.defaultTransitionHandler===a.mobile.noneTransitionHandler)a.mobile.defaultTransitionHandler=
d})(jQuery,this);
(function(a){a.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};a(document).bind("pagecreate create",function(d){var e=a.mobile.closestPageData(a(d.target));if(e){options=e.options;a(d.target).find("input").not(e.keepNativeSelector()).each(function(){var f=a(this),c=this.getAttribute("type"),k=options.degradeInputs[c]||"text";if(options.degradeInputs[c]){var n=
a("<div>").html(f.clone()).html(),j=n.indexOf(" type=")>-1;f.replaceWith(n.replace(j?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+k+'" data-'+a.mobile.ns+'type="'+c+'"'+(j?"":">")))}})}})})(jQuery);
(function(a,d){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var e=this,f=this.element,c=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");f.addClass("ui-overlay-"+this.options.overlayTheme);f.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(c).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");
c.bind("click",function(){e.close()});f.bind("vclick submit",function(k){k=a(k.target).closest(k.type==="vclick"?"a":"form");var n;if(k.length&&!k.jqmData("transition")){n=a.mobile.urlHistory.getActive()||{};k.attr("data-"+a.mobile.ns+"transition",n.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)})},close:function(){d.history.back()}});a(document).delegate(a.mobile.dialog.prototype.options.initSelector,
"pagecreate",function(){a(this).dialog()})})(jQuery,this);
(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=false;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme="a";a.mobile.page.prototype.options.contentTheme=null;a(document).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var d=a(this),e=d.data("page").options,f=d.jqmData("role"),c=e.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",
this).each(function(){var k=a(this),n=k.jqmData("role"),j=k.jqmData("theme"),u=j||e.contentTheme||f==="dialog"&&c,o;k.addClass("ui-"+n);if(n==="header"||n==="footer"){var w=j||(n==="header"?e.headerTheme:e.footerTheme)||c;k.addClass("ui-bar-"+w).attr("role",n==="header"?"banner":"contentinfo");j=k.children("a");u=j.hasClass("ui-btn-left");o=j.hasClass("ui-btn-right");u=u||j.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;o||j.eq(1).addClass("ui-btn-right");if(e.addBackBtn&&n==="header"&&
a(".ui-page").length>1&&k.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!u)a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+e.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",e.backBtnTheme||w).prependTo(k);k.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({tabindex:"0",role:"heading","aria-level":"1"})}else if(n==="content"){u&&k.addClass("ui-body-"+u);k.attr("role","main")}})})})(jQuery);
(function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",initSelector:":jqmData(role='collapsible')"},_create:function(){var d=this.element,e=this.options,f=d.addClass("ui-collapsible"),c=d.children(e.heading).first(),k=f.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),
n=d.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");if(c.is("legend")){c=a("<div role='heading'>"+c.html()+"</div>").insertBefore(c);c.next().remove()}if(n.length){if(!e.theme)e.theme=n.jqmData("theme");if(!e.contentTheme)e.contentTheme=n.jqmData("content-theme")}k.addClass(e.contentTheme?"ui-body-"+e.contentTheme:"");c.insertBefore(k).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,
corners:false,iconPos:"left",icon:"plus",theme:e.theme}).add(".ui-btn-inner").addClass("ui-corner-top ui-corner-bottom");f.bind("expand collapse",function(j){if(!j.isDefaultPrevented()){j.preventDefault();var u=a(this);j=j.type==="collapse";var o=e.contentTheme;c.toggleClass("ui-collapsible-heading-collapsed",j).find(".ui-collapsible-heading-status").text(j?e.expandCueText:e.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!j).toggleClass("ui-icon-plus",j);u.toggleClass("ui-collapsible-collapsed",
j);k.toggleClass("ui-collapsible-content-collapsed",j).attr("aria-hidden",j);if(o&&(!n.length||f.jqmData("collapsible-last"))){c.find("a").first().add(c.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",j);k.toggleClass("ui-corner-bottom",!j)}k.trigger("updatelayout")}}).trigger(e.collapsed?"collapse":"expand");c.bind("click",function(j){var u=c.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";f.trigger(u);j.preventDefault()})}});a(document).bind("pagecreate create",function(d){a(a.mobile.collapsible.prototype.options.initSelector,
d.target).collapsible()})})(jQuery);
(function(a){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var d=this.element.addClass("ui-collapsible-set"),e=this.options,f=d.children(":jqmData(role='collapsible')");if(!e.theme)e.theme=d.jqmData("theme");if(!e.contentTheme)e.contentTheme=d.jqmData("content-theme");if(!d.jqmData("collapsiblebound")){d.jqmData("collapsiblebound",true).bind("expand collapse",function(c){var k=c.type==="collapse";c=a(c.target).closest(".ui-collapsible");
var n=c.data("collapsible");if(n.options.contentTheme&&c.jqmData("collapsible-last")){c.find(n.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",k);c.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!k)}}).bind("expand",function(c){a(c.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")});f.each(function(){a(this).find(a.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});
f.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top");f.last().jqmData("collapsible-last",true).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom")}}});a(document).bind("pagecreate create",function(d){a(a.mobile.collapsibleset.prototype.options.initSelector,d.target).collapsibleset()})})(jQuery);
(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};a(document).bind("pagecreate create",function(d){a(":jqmData(role='fieldcontain')",d.target).fieldcontain()})})(jQuery);
(function(a){a.fn.grid=function(d){return this.each(function(){var e=a(this),f=a.extend({grid:null},d),c=e.children(),k={solo:1,a:2,b:3,c:4,d:5};f=f.grid;if(!f)if(c.length<=5)for(var n in k){if(k[n]===c.length)f=n}else f="a";k=k[f];e.addClass("ui-grid-"+f);c.filter(":nth-child("+k+"n+1)").addClass("ui-block-a");k>1&&c.filter(":nth-child("+k+"n+2)").addClass("ui-block-b");k>2&&c.filter(":nth-child(3n+3)").addClass("ui-block-c");k>3&&c.filter(":nth-child(4n+4)").addClass("ui-block-d");k>4&&c.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);
(function(a,d){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var e=this.element,f=e.find("a"),c=f.filter(":jqmData(icon)").length?this.options.iconpos:d;e.addClass("ui-navbar").attr("role","navigation").find("ul").grid({grid:this.options.grid});c||e.addClass("ui-navbar-noicons");f.buttonMarkup({corners:false,shadow:false,iconpos:c});e.delegate("a","vclick",function(k){if(!a(k.target).hasClass("ui-disabled")){f.not(".ui-state-persist").removeClass(a.mobile.activeBtnClass);
a(this).addClass(a.mobile.activeBtnClass)}})}});a(document).bind("pagecreate create",function(e){a(a.mobile.navbar.prototype.options.initSelector,e.target).navbar()})})(jQuery);
(function(a){var d={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var e=this;e.element.addClass(function(f,c){return c+" ui-listview "+(e.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"")});e.refresh(true)},_removeCorners:function(e,f){e=e.add(e.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));if(f==="top")e.removeClass("ui-corner-top ui-corner-tr ui-corner-tl");
else f==="bottom"?e.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):e.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(e){var f,c;if(this.options.inset){f=this.element.children("li");c=e?f.not(".ui-screen-hidden"):f.filter(":visible");this._removeCorners(f);f=c.first().addClass("ui-corner-top");f.add(f.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl");
c=c.last().addClass("ui-corner-bottom");c.add(c.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")}e||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(e,f,c,k){var n={};for(n[c]=n[k]=true;e;){if(n[e.nodeName])return e;e=e[f]}return null},_getChildrenByTagName:function(e,f,c){var k=[],n={};n[f]=n[c]=true;for(e=e.firstChild;e;){n[e.nodeName]&&k.push(e);e=e.nextSibling}return a(k)},_addThumbClasses:function(e){var f,
c,k=e.length;for(f=0;f<k;f++){c=a(this._findFirstElementByTagName(e[f].firstChild,"nextSibling","img","IMG"));if(c.length){c.addClass("ui-li-thumb");a(this._findFirstElementByTagName(c[0].parentNode,"parentNode","li","LI")).addClass(c.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")}}},refresh:function(e){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var f=this.options,c=this.element,k=c.jqmData("dividertheme")||f.dividerTheme,n=c.jqmData("splittheme"),j=c.jqmData("spliticon"),
u=this._getChildrenByTagName(c[0],"li","LI"),o=a.support.cssPseudoElement||!a.nodeName(c[0],"ol")?0:1,w={},z,A,L,E,Q;o&&c.find(".ui-li-dec").remove();if(!f.theme)f.theme=a.mobile.getInheritedTheme(this.element,"c");for(var G=0,D=u.length;G<D;G++){z=u.eq(G);A="ui-li";if(e||!z.hasClass("ui-li")){L=z.jqmData("theme")||f.theme;E=this._getChildrenByTagName(z[0],"a","A");if(E.length){Q=z.jqmData("icon");z.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:E.length>1||Q===false?
false:Q||"arrow-r",theme:L});Q!=false&&E.length==1&&z.addClass("ui-li-has-arrow");E.first().addClass("ui-link-inherit");if(E.length>1){A+=" ui-li-has-alt";E=E.last();Q=n||E.jqmData("theme")||f.splitTheme;E.appendTo(z).attr("title",E.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:L,icon:false,iconpos:false}).find(".ui-btn-inner").append(a(document.createElement("span")).buttonMarkup({shadow:true,corners:true,theme:Q,iconpos:"notext",icon:j||E.jqmData("icon")||
f.splitIcon}))}}else if(z.jqmData("role")==="list-divider"){A+=" ui-li-divider ui-btn ui-bar-"+k;z.attr("role","heading");if(o)o=1}else A+=" ui-li-static ui-body-"+L}if(o&&A.indexOf("ui-li-divider")<0){L=z.is(".ui-li-static:first")?z:z.find(".ui-link-inherit");L.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+o++ +". </span>")}w[A]||(w[A]=[]);w[A].push(z[0])}for(A in w)a(w[A]).addClass(A).children(".ui-btn-inner").addClass(A);c.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var C=
a(this);C.prependTo(C.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(c.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(u);this._addThumbClasses(c.find(".ui-link-inherit"));this._refreshCorners(e)},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var e=this.element,f=e.closest(".ui-page"),c=f.jqmData("url"),k=c||f[0][a.expando],
n=e.attr("id"),j=this.options,u="data-"+a.mobile.ns,o=this,w=f.find(":jqmData(role='footer')").jqmData("id"),z;if(typeof d[k]==="undefined")d[k]=-1;n=n||++d[k];a(e.find("li>ul, li>ol").toArray().reverse()).each(function(A){var L=a(this),E=L.attr("id")||n+"-"+A;A=L.parent();var Q=a(L.prevAll().toArray().reverse());Q=Q.length?Q:a("<span>"+a.trim(A.contents()[0].nodeValue)+"</span>");var G=Q.first().getEncodedText();E=(c||"")+"&"+a.mobile.subPageUrlKey+"="+E;var D=L.jqmData("theme")||j.theme,C=L.jqmData("counttheme")||
e.jqmData("counttheme")||j.countTheme;z=true;L.detach().wrap("<div "+u+"role='page' "+u+"url='"+E+"' "+u+"theme='"+D+"' "+u+"count-theme='"+C+"'><div "+u+"role='content'></div></div>").parent().before("<div "+u+"role='header' "+u+"theme='"+j.headerTheme+"'><div class='ui-title'>"+G+"</div></div>").after(w?a("<div "+u+"role='footer' "+u+"id='"+w+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();L=A.find("a:first");L.length||(L=a("<a/>").html(Q||G).prependTo(A.empty()));L.attr("href","#"+E)}).listview();
z&&f.is(":jqmData(external-page='true')")&&f.data("page").options.domCache===false&&f.unbind("pagehide.remove").bind("pagehide.remove",function(A,L){if(A=L.nextPage){L=A.jqmData("url");if(L.indexOf(c+"&"+a.mobile.subPageUrlKey)!==0){o.childPages().remove();f.remove()}}})},childPages:function(){var e=this.parentPage.jqmData("url");return a(":jqmData(url^='"+e+"&"+a.mobile.subPageUrlKey+"')")}});a(document).bind("pagecreate create",function(e){a(a.mobile.listview.prototype.options.initSelector,e.target).listview()})})(jQuery);
(function(a){a.mobile.listview.prototype.options.filter=false;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";a.mobile.listview.prototype.options.filterCallback=function(d,e){return d.toLowerCase().indexOf(e)===-1};a(document).delegate(":jqmData(role='listview')","listviewcreate",function(){var d=a(this),e=d.data("listview");if(e.options.filter){var f=a("<form>",{"class":"ui-listview-filter ui-bar-"+e.options.filterTheme,
role:"search"});a("<input>",{placeholder:e.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var c=a(this),k=this.value.toLowerCase(),n=null;n=c.jqmData("lastval")+"";var j=false,u="";c.jqmData("lastval",k);n=k.length<n.length||k.indexOf(n)!==0?d.children():d.children(":not(.ui-screen-hidden)");if(k){for(var o=n.length-1;o>=0;o--){c=a(n[o]);u=c.jqmData("filtertext")||c.text();if(c.is("li:jqmData(role=list-divider)")){c.toggleClass("ui-filter-hidequeue",
!j);j=false}else if(e.options.filterCallback(u,k))c.toggleClass("ui-filter-hidequeue",true);else j=true}n.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);n.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else n.toggleClass("ui-screen-hidden",false);e._refreshCorners()}).appendTo(f).textinput();a(this).jqmData("inset")&&f.addClass("ui-listview-filter-inset");f.bind("submit",function(){return false}).insertBefore(d)}})})(jQuery);
(function(a){a(document).bind("pagecreate create",function(d){a(":jqmData(role='nojs')",d.target).addClass("ui-nojs")})})(jQuery);
(function(a,d){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var e=this,f=this.element,c=f.closest("form,fieldset,:jqmData(role='page')").find("label").filter("[for='"+f[0].id+"']"),k=f.attr("type"),n=k+"-on",j=k+"-off",u=f.parents(":jqmData(type='horizontal')").length?d:j;if(!(k!=="checkbox"&&k!=="radio")){a.extend(this,{label:c,inputtype:k,checkedClass:"ui-"+n+(u?"":" "+a.mobile.activeBtnClass),
uncheckedClass:"ui-"+j,checkedicon:"ui-icon-"+n,uncheckedicon:"ui-icon-"+j});if(!this.options.theme)this.options.theme=this.element.jqmData("theme");c.buttonMarkup({theme:this.options.theme,icon:u,shadow:false});f.add(c).wrapAll("<div class='ui-"+k+"'></div>");c.bind({vmouseover:function(o){a(this).parent().is(".ui-disabled")&&o.stopPropagation()},vclick:function(o){if(f.is(":disabled"))o.preventDefault();else{e._cacheVals();f.prop("checked",k==="radio"&&true||!f.prop("checked"));f.triggerHandler("click");
e._getInputSet().not(f).prop("checked",false);e._updateAll();return false}}});f.bind({vmousedown:function(){e._cacheVals()},vclick:function(){var o=a(this);if(o.is(":checked")){o.prop("checked",true);e._getInputSet().not(o).prop("checked",false)}else o.prop("checked",false);e._updateAll()},focus:function(){c.addClass("ui-focus")},blur:function(){c.removeClass("ui-focus")}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){var e=a(this);e.jqmData("cacheVal",e.is(":checked"))})},
_getInputSet:function(){if(this.inputtype=="checkbox")return this.element;return this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element.attr("name")+"'][type='"+this.inputtype+"']")},_updateAll:function(){var e=this;this._getInputSet().each(function(){var f=a(this);if(f.is(":checked")||e.inputtype==="checkbox")f.trigger("change")}).checkboxradio("refresh")},refresh:function(){var e=this.element,f=this.label,c=f.find(".ui-icon");if(a(e[0]).prop("checked")){f.addClass(this.checkedClass).removeClass(this.uncheckedClass);
c.addClass(this.checkedicon).removeClass(this.uncheckedicon)}else{f.removeClass(this.checkedClass).addClass(this.uncheckedClass);c.removeClass(this.checkedicon).addClass(this.uncheckedicon)}e.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(e){a.mobile.checkboxradio.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a,d){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:null,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']"},_create:function(){var e=this.element,f=this.options,c,k;if(e[0].tagName==="A")e.hasClass("ui-btn")||e.buttonMarkup();else{this.button=a("<div></div>").text(e.text()||e.val()).insertBefore(e).buttonMarkup({theme:f.theme,icon:f.icon,iconpos:f.iconpos,inline:f.inline,
corners:f.corners,shadow:f.shadow,iconshadow:f.iconshadow}).append(e.addClass("ui-btn-hidden"));f=e.attr("type");c=e.attr("name");f!=="button"&&f!=="reset"&&c&&e.bind("vclick",function(){if(k===d){k=a("<input>",{type:"hidden",name:e.attr("name"),value:e.attr("value")}).insertBefore(e);a(document).one("submit",function(){k.remove();k=d})}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",
false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var e=this.element;e.prop("disabled")?this.disable():this.enable();this.button.data("textWrapper").text(e.text()||e.val())}});a(document).bind("pagecreate create",function(e){a.mobile.button.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a,d){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')"},_create:function(){var e=this,f=this.element,c=a.mobile.getInheritedTheme(f,"c"),k=this.options.theme||c,n=this.options.trackTheme||c,j=f[0].nodeName.toLowerCase();c=j=="select"?"ui-slider-switch":"";var u=f.attr("id"),o=u+"-label";u=a("[for='"+u+"']").attr("id",o);var w=function(){return j=="input"?parseFloat(f.val()):
f[0].selectedIndex},z=j=="input"?parseFloat(f.attr("min")):0,A=j=="input"?parseFloat(f.attr("max")):f.find("option").length-1,L=window.parseFloat(f.attr("step")||1),E=a("<div class='ui-slider "+c+" ui-btn-down-"+n+" ui-btn-corner-all' role='application'></div>"),Q=a("<a href='#' class='ui-slider-handle'></a>").appendTo(E).buttonMarkup({corners:true,theme:k,shadow:true}).attr({role:"slider","aria-valuemin":z,"aria-valuemax":A,"aria-valuenow":w(),"aria-valuetext":w(),title:w(),"aria-labelledby":o});
a.extend(this,{slider:E,handle:Q,dragging:false,beforeStart:null,userModified:false,mouseMoved:false});if(j=="select"){E.wrapInner("<div class='ui-slider-inneroffset'></div>");Q.addClass("ui-slider-handle-snapping");f.find("option");f.find("option").each(function(G){var D=!G?"b":"a",C=!G?"right":"left";G=!G?" ui-btn-down-"+n:" "+a.mobile.activeBtnClass;a("<div class='ui-slider-labelbg ui-slider-labelbg-"+D+G+" ui-btn-corner-"+C+"'></div>").prependTo(E);a("<span class='ui-slider-label ui-slider-label-"+
D+G+" ui-btn-corner-"+C+"' role='img'>"+a(this).getEncodedText()+"</span>").prependTo(Q)})}u.addClass("ui-slider");f.addClass(j==="input"?"ui-slider-input":"ui-slider-switch").change(function(){e.mouseMoved||e.refresh(w(),true)}).keyup(function(){e.refresh(w(),true,true)}).blur(function(){e.refresh(w(),true)});a(document).bind("vmousemove",function(G){if(e.dragging){e.mouseMoved=true;j==="select"&&Q.removeClass("ui-slider-handle-snapping");e.refresh(G);e.userModified=e.beforeStart!==f[0].selectedIndex;
return false}});E.bind("vmousedown",function(G){e.dragging=true;e.userModified=false;e.mouseMoved=false;if(j==="select")e.beforeStart=f[0].selectedIndex;e.refresh(G);return false});E.add(document).bind("vmouseup",function(){if(e.dragging){e.dragging=false;if(j==="select"){Q.addClass("ui-slider-handle-snapping");if(e.mouseMoved)e.userModified?e.refresh(e.beforeStart==0?1:0):e.refresh(e.beforeStart);else e.refresh(e.beforeStart==0?1:0)}return e.mouseMoved=false}});E.insertAfter(f);this.handle.bind("vmousedown",
function(){a(this).focus()}).bind("vclick",false);this.handle.bind("keydown",function(G){var D=w();if(!e.options.disabled){switch(G.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:G.preventDefault();if(!e._keySliding){e._keySliding=true;a(this).addClass("ui-state-active")}break}switch(G.keyCode){case a.mobile.keyCode.HOME:e.refresh(z);
break;case a.mobile.keyCode.END:e.refresh(A);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:e.refresh(D+L);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:e.refresh(D-L);break}}}).keyup(function(){if(e._keySliding){e._keySliding=false;a(this).removeClass("ui-state-active")}});this.refresh(d,d,true)},refresh:function(e,f,c){if(this.options.disabled||this.element.attr("disabled"))this.disable();var k=this.element,
n=k[0].nodeName.toLowerCase(),j=n==="input"?parseFloat(k.attr("min")):0,u=n==="input"?parseFloat(k.attr("max")):k.find("option").length-1,o=n==="input"&&parseFloat(k.attr("step"))>0?parseFloat(k.attr("step")):1;if(typeof e==="object"){e=e;if(!this.dragging||e.pageX<this.slider.offset().left-8||e.pageX>this.slider.offset().left+this.slider.width()+8)return;e=Math.round((e.pageX-this.slider.offset().left)/this.slider.width()*100)}else{if(e==null)e=n==="input"?parseFloat(k.val()||0):k[0].selectedIndex;
e=(parseFloat(e)-j)/(u-j)*100}if(!isNaN(e)){if(e<0)e=0;if(e>100)e=100;var w=e/100*(u-j)+j,z=(w-j)%o;w=w-z;if(Math.abs(z)*2>=o)w+=z>0?o:-o;w=parseFloat(w.toFixed(5));if(w<j)w=j;if(w>u)w=u;this.handle.css("left",e+"%");this.handle.attr({"aria-valuenow":n==="input"?w:k.find("option").eq(w).attr("value"),"aria-valuetext":n==="input"?w:k.find("option").eq(w).getEncodedText(),title:n==="input"?w:k.find("option").eq(w).getEncodedText()});if(n==="select")w===0?this.slider.addClass("ui-slider-switch-a").removeClass("ui-slider-switch-b"):
this.slider.addClass("ui-slider-switch-b").removeClass("ui-slider-switch-a");if(!c){c=false;if(n==="input"){c=k.val()!==w;k.val(w)}else{c=k[0].selectedIndex!==w;k[0].selectedIndex=w}!f&&c&&k.trigger("change")}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",
true)}});a(document).bind("pagecreate create",function(e){a.mobile.slider.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])"},_create:function(){var d=this.element,
e=this.options.theme||a.mobile.getInheritedTheme(this.element,"c"),f=" ui-body-"+e,c,k;a("label[for='"+d.attr("id")+"']").addClass("ui-input-text");c=d.addClass("ui-input-text ui-body-"+e);if(typeof d[0].autocorrect!=="undefined"&&!a.support.touchOverflow){d[0].setAttribute("autocorrect","off");d[0].setAttribute("autocomplete","off")}if(d.is("[type='search'],:jqmData(type='search')")){c=d.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+f+"'></div>").parent();
k=a("<a href='#' class='ui-input-clear' title='clear text'>clear text</a>").tap(function(o){d.val("").focus();d.trigger("change");k.addClass("ui-input-clear-hidden");o.preventDefault()}).appendTo(c).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true});function n(){setTimeout(function(){k.toggleClass("ui-input-clear-hidden",!d.val())},0)}n();d.bind("paste cut keyup focus change blur",n)}else d.addClass("ui-corner-all ui-shadow-inset"+f);d.focus(function(){c.addClass("ui-focus")}).blur(function(){c.removeClass("ui-focus")});
if(d.is("textarea")){var j=function(){var o=d[0].scrollHeight;d[0].clientHeight<o&&d.height(o+15)},u;d.keyup(function(){clearTimeout(u);u=setTimeout(j,100)});a(document).one("pagechange",j);a.trim(d.val())&&a(window).load(j)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():
this.element).removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(d){a.mobile.textinput.prototype.enhanceWithin(d.target)})})(jQuery);
(function(a){var d=function(e){var f=e.selectID,c=e.label,k=e.select.closest(".ui-page"),n=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(k),j=e._selectOptions(),u=e.isMultiple=e.select[0].multiple,o=f+"-button",w=f+"-menu",z=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+"theme='"+e.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+e.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+c.getEncodedText()+"</div></div><div data-"+
a.mobile.ns+"role='content'></div></div>").appendTo(a.mobile.pageContainer).page(),A=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+e.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(n),L=a("<ul>",{"class":"ui-selectmenu-list",id:w,role:"listbox","aria-labelledby":o}).attr("data-"+a.mobile.ns+"theme",e.options.theme).appendTo(A),E=a("<div>",{"class":"ui-header ui-bar-"+e.options.theme}).prependTo(A),Q=a("<h1>",{"class":"ui-title"}).appendTo(E),
G=a("<a>",{text:e.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(E).buttonMarkup(),D=z.find(".ui-content"),C=z.find(".ui-header a");a.extend(e,{select:e.select,selectID:f,buttonId:o,menuId:w,thisPage:k,menuPage:z,label:c,screen:n,selectOptions:j,isMultiple:u,theme:e.options.theme,listbox:A,list:L,header:E,headerTitle:Q,headerClose:G,menuPageContent:D,menuPageClose:C,placeholder:"",build:function(){var s=
this;s.refresh();s.select.attr("tabindex","-1").focus(function(){a(this).blur();s.button.focus()});s.button.bind("vclick keydown",function(q){if(q.type=="vclick"||q.keyCode&&(q.keyCode===a.mobile.keyCode.ENTER||q.keyCode===a.mobile.keyCode.SPACE)){s.open();q.preventDefault()}});s.list.attr("role","listbox").delegate(".ui-li>a","focusin",function(){a(this).attr("tabindex","0")}).delegate(".ui-li>a","focusout",function(){a(this).attr("tabindex","-1")}).delegate("li:not(.ui-disabled, .ui-li-divider)",
"click",function(q){var B=s.select[0].selectedIndex,K=s.list.find("li:not(.ui-li-divider)").index(this),J=s._selectOptions().eq(K)[0];J.selected=s.isMultiple?!J.selected:true;s.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",J.selected).toggleClass("ui-icon-checkbox-off",!J.selected);if(s.isMultiple||B!==K)s.select.trigger("change");s.isMultiple||s.close();q.preventDefault()}).keydown(function(q){var B=a(q.target),K=B.closest("li");switch(q.keyCode){case 38:q=K.prev();if(q.length){B.blur().attr("tabindex",
"-1");q.find("a").first().focus()}return false;case 40:q=K.next();if(q.length){B.blur().attr("tabindex","-1");q.find("a").first().focus()}return false;case 13:case 32:B.trigger("click");return false}});s.menuPage.bind("pagehide",function(){s.list.appendTo(s.listbox);s._focusButton();a.mobile._bindPageRemove.call(s.thisPage)});s.screen.bind("vclick",function(){s.close()});s.headerClose.click(function(){if(s.menuType=="overlay"){s.close();return false}});s.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var s=
this.list.find("li");return this._selectOptions().text()!==s.text()},refresh:function(s){var q=this;this._selectOptions();this.selected();var B=this.selectedIndices();if(s||this._isRebuildRequired())q._buildList();q.setButtonText();q.setButtonCount();q.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",false).each(function(K){if(a.inArray(K,B)>-1){K=a(this);K.attr("aria-selected",true);q.isMultiple?K.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):
K.addClass(a.mobile.activeBtnClass)}})},close:function(){if(!(this.options.disabled||!this.isOpen)){var s=this;if(s.menuType=="page")window.history.back();else{s.screen.addClass("ui-screen-hidden");s.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in");s.list.appendTo(s.listbox);s._focusButton()}s.isOpen=false}},open:function(){function s(){q.list.find(a.mobile.activeBtnClass).focus()}if(!this.options.disabled){var q=this,B=q.list.parent().outerHeight(),K=q.list.parent().outerWidth(),
J=a(".ui-page-active"),P=a.support.touchOverflow&&a.mobile.touchOverflowEnabled;J=J.is(".ui-native-fixed")?J.find(".ui-content"):J;var Z=P?J.scrollTop():a(window).scrollTop(),X=q.button.offset().top,ka=a(window).height();P=a(window).width();q.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){q.button.removeClass(a.mobile.activeBtnClass)},300);if(B>ka-80||!a.support.scrollTop){q.thisPage.unbind("pagehide.remove");Z==0&&X>ka&&q.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",
X)});q.menuPage.one("pageshow",function(){a(window).one("silentscroll",function(){s()});q.isOpen=true});q.menuType="page";q.menuPageContent.append(q.list);q.menuPage.find("div .ui-title").text(q.label.text());a.mobile.changePage(q.menuPage,{transition:a.mobile.defaultDialogTransition})}else{q.menuType="overlay";q.screen.height(a(document).height()).removeClass("ui-screen-hidden");var oa=X-Z,I=Z+ka-X,R=B/2;J=parseFloat(q.list.parent().css("max-width"));B=oa>B/2&&I>B/2?X+q.button.outerHeight()/2-R:
oa>I?Z+ka-B-30:Z+30;if(K<J)J=(P-K)/2;else{J=q.button.offset().left+q.button.outerWidth()/2-K/2;if(J<30)J=30;else if(J+K>P)J=P-K-30}q.listbox.append(q.list).removeClass("ui-selectmenu-hidden").css({top:B,left:J}).addClass("in");s();q.isOpen=true}}},_buildList:function(){var s=this,q=this.options,B=this.placeholder,K=[],J=[],P=s.isMultiple?"checkbox-off":"false";s.list.empty().filter(".ui-listview").listview("destroy");s.select.find("option").each(function(Z){var X=a(this),ka=X.parent(),oa=X.getEncodedText(),
I="<a href='#'>"+oa+"</a>",R=[],ba=[];if(ka.is("optgroup")){ka=ka.attr("label");if(a.inArray(ka,K)===-1){J.push("<li data-"+a.mobile.ns+"role='list-divider'>"+ka+"</li>");K.push(ka)}}if(!this.getAttribute("value")||oa.length==0||X.jqmData("placeholder")){q.hidePlaceholderMenuItems&&R.push("ui-selectmenu-placeholder");B=s.placeholder=oa}if(this.disabled){R.push("ui-disabled");ba.push("aria-disabled='true'")}J.push("<li data-"+a.mobile.ns+"option-index='"+Z+"' data-"+a.mobile.ns+"icon='"+P+"' class='"+
R.join(" ")+"' "+ba.join(" ")+">"+I+"</li>")});s.list.html(J.join(" "));s.list.find("li").attr({role:"option",tabindex:"-1"}).first().attr("tabindex","0");this.isMultiple||this.headerClose.hide();!this.isMultiple&&!B.length?this.header.hide():this.headerTitle.text(this.placeholder);s.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a(document).delegate("select","selectmenubeforecreate",function(){var e=
a(this).data("selectmenu");e.options.nativeMenu||d(e)})})(jQuery);
(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:null,corners:true,shadow:true,iconshadow:true,menuPageTheme:"b",overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,initSelector:"select:not(:jqmData(role='slider'))"},_button:function(){return a("<div/>")},_setDisabled:function(d){this.element.attr("disabled",d);this.button.attr("aria-disabled",d);return this._setOption("disabled",d)},_focusButton:function(){var d=
this;setTimeout(function(){d.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){this.select=this.element.wrap("<div class='ui-select'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=
this._button();var d=this,e=this.options,f=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:e.theme,icon:e.icon,iconpos:e.iconpos,inline:e.inline,corners:e.corners,shadow:e.shadow,iconshadow:e.iconshadow});e.nativeMenu&&window.opera&&window.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(f.addClass("ui-li-has-count"));
if(e.disabled||this.element.attr("disabled"))this.disable();this.select.change(function(){d.refresh()});this.build()},build:function(){var d=this;this.select.appendTo(d.button).bind("vmousedown",function(){d.button.addClass(a.mobile.activeBtnClass)}).bind("focus vmouseover",function(){d.button.trigger("vmouseover")}).bind("vmousemove",function(){d.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){d.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",
function(){d.button.removeClass("ui-btn-down-"+d.options.theme)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var d=this;return this.selected().map(function(){return d._selectOptions().index(this)}).get()},setButtonText:function(){var d=this,e=this.selected();this.button.find(".ui-btn-text").text(function(){if(!d.isMultiple)return e.text();return e.length?e.map(function(){return a(this).text()}).get().join(", "):d.placeholder})},setButtonCount:function(){var d=
this.selected();if(this.isMultiple)this.buttonCount[d.length>1?"show":"hide"]().text(d.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(d){a.mobile.selectmenu.prototype.enhanceWithin(d.target)})})(jQuery);
(function(a,d){function e(c){for(var k;c;){if((k=typeof c.className==="string"&&c.className+" ")&&k.indexOf("ui-btn ")>-1&&k.indexOf("ui-disabled ")<0)break;c=c.parentNode}return c}a.fn.buttonMarkup=function(c){c=c||{};for(var k=0;k<this.length;k++){var n=this.eq(k),j=n[0],u=a.extend({},a.fn.buttonMarkup.defaults,{icon:c.icon!==d?c.icon:n.jqmData("icon"),iconpos:c.iconpos!==d?c.iconpos:n.jqmData("iconpos"),theme:c.theme!==d?c.theme:n.jqmData("theme"),inline:c.inline!==d?c.inline:n.jqmData("inline"),
shadow:c.shadow!==d?c.shadow:n.jqmData("shadow"),corners:c.corners!==d?c.corners:n.jqmData("corners"),iconshadow:c.iconshadow!==d?c.iconshadow:n.jqmData("iconshadow")},c),o="ui-btn-inner",w,z,A=document.createElement(u.wrapperEls),L=document.createElement(u.wrapperEls),E=u.icon?document.createElement("span"):null;if(!(j.tagName==="INPUT"&&n.jqmData("role")==="button"))if(j.tagName==="BUTTON")a(j.parentNode).hasClass("ui-btn")||a(j).button();else{f&&f();if(!u.theme)u.theme=a.mobile.getInheritedTheme(n,
"c");w="ui-btn ui-btn-up-"+u.theme;if(u.inline)w+=" ui-btn-inline";if(u.icon){u.icon="ui-icon-"+u.icon;u.iconpos=u.iconpos||"left";z="ui-icon "+u.icon;if(u.iconshadow)z+=" ui-icon-shadow"}if(u.iconpos){w+=" ui-btn-icon-"+u.iconpos;u.iconpos=="notext"&&!n.attr("title")&&n.attr("title",n.getEncodedText())}if(u.corners){w+=" ui-btn-corner-all";o+=" ui-btn-corner-all"}if(u.shadow)w+=" ui-shadow";j.setAttribute("data-"+a.mobile.ns+"theme",u.theme);n.addClass(w);A.className=o;L.className="ui-btn-text";
A.appendChild(L);if(E){E.className=z;A.appendChild(E)}for(;j.firstChild;)L.appendChild(j.firstChild);j.appendChild(A);a.data(j,"textWrapper",a(L))}}return this};a.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,inline:false,wrapperEls:"span"};var f=function(){a(document).bind({vmousedown:function(c){c=e(c.target);var k;if(c){c=a(c);k=c.attr("data-"+a.mobile.ns+"theme");c.removeClass("ui-btn-up-"+k).addClass("ui-btn-down-"+k)}},"vmousecancel vmouseup":function(c){c=e(c.target);var k;
if(c){c=a(c);k=c.attr("data-"+a.mobile.ns+"theme");c.removeClass("ui-btn-down-"+k).addClass("ui-btn-up-"+k)}},"vmouseover focus":function(c){c=e(c.target);var k;if(c){c=a(c);k=c.attr("data-"+a.mobile.ns+"theme");c.removeClass("ui-btn-up-"+k).addClass("ui-btn-hover-"+k)}},"vmouseout blur":function(c){c=e(c.target);var k;if(c){c=a(c);k=c.attr("data-"+a.mobile.ns+"theme");c.removeClass("ui-btn-hover-"+k+" ui-btn-down-"+k).addClass("ui-btn-up-"+k)}}});f=null};a(document).bind("pagecreate create",function(c){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",
c.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);
(function(a){a.fn.controlgroup=function(d){return this.each(function(){function e(j){j.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(n[0]).end().last().addClass(n[1]).addClass("ui-controlgroup-last")}var f=a(this),c=a.extend({direction:f.jqmData("type")||"vertical",shadow:false,excludeInvisible:true},d),k=f.children("legend"),n=c.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];f.find("input").first().attr("type");if(k.length){f.wrapInner("<div class='ui-controlgroup-controls'></div>");
a("<div role='heading' class='ui-controlgroup-label'>"+k.html()+"</div>").insertBefore(f.children(0));k.remove()}f.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+c.direction);e(f.find(".ui-btn"+(c.excludeInvisible?":visible":"")));e(f.find(".ui-btn-inner"));c.shadow&&f.addClass("ui-shadow")})};a(document).bind("pagecreate create",function(d){a(":jqmData(role='controlgroup')",d.target).controlgroup({excludeInvisible:false})})})(jQuery);(function(a){a(document).bind("pagecreate create",function(d){a(d.target).find("a").not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);
(function(a,d){a.fn.fixHeaderFooter=function(){if(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;return this.each(function(){var e=a(this);e.jqmData("fullscreen")&&e.addClass("ui-page-fullscreen");e.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade");e.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})};a.mobile.fixedToolbars=function(){function e(){if(!u&&j==="overlay"){n||
a.mobile.fixedToolbars.hide(true);a.mobile.fixedToolbars.startShowTimer()}}function f(A){var L=0,E,Q;if(A){Q=document.body;E=A.offsetParent;for(L=A.offsetTop;A&&A!=Q;){L+=A.scrollTop||0;if(A==E){L+=E.offsetTop;E=A.offsetParent}A=A.parentNode}}return L}function c(A){var L=a(window).scrollTop(),E=f(A[0]),Q=A.css("top")=="auto"?0:parseFloat(A.css("top")),G=window.innerHeight,D=A.outerHeight(),C=A.parents(".ui-page:not(.ui-page-fullscreen)").length;if(A.is(".ui-header-fixed")){Q=L-E+Q;if(Q<E)Q=0;return A.css("top",
C?Q:L)}else{Q=L+G-D-(E-Q);return A.css("top",C?Q:L+G-D)}}if(!(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)){var k,n,j="inline",u=false,o=null,w=false,z=true;a(function(){var A=a(document),L=a(window);A.bind("vmousedown",function(){if(z)o=j}).bind("vclick",function(E){if(z)if(!a(E.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length)if(!w){a.mobile.fixedToolbars.toggle(o);o=null}}).bind("silentscroll",e);(A.scrollTop()===
0?L:A).bind("scrollstart",function(){w=true;if(o===null)o=j;var E=o=="overlay";if(u=E||!!n){a.mobile.fixedToolbars.clearShowTimer();E&&a.mobile.fixedToolbars.hide(true)}}).bind("scrollstop",function(E){if(!a(E.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length){w=false;if(u){a.mobile.fixedToolbars.startShowTimer();u=false}o=null}});L.bind("resize updatelayout",e)});a(document).delegate(".ui-page","pagebeforeshow",function(A,L){A=a(A.target).find(":jqmData(role='footer')");
var E=A.data("id");L=(L=L.prevPage)&&L.find(":jqmData(role='footer')");L=L.length&&L.jqmData("id")===E;if(E&&L){k=A;c(k.removeClass("fade in out").appendTo(a.mobile.pageContainer))}}).delegate(".ui-page","pageshow",function(){var A=a(this);k&&k.length&&setTimeout(function(){c(k.appendTo(A).addClass("fade"));k=null},500);a.mobile.fixedToolbars.show(true,this)});a(document).delegate(".ui-collapsible-contain","collapse expand",e);return{show:function(A,L){a.mobile.fixedToolbars.clearShowTimer();j="overlay";
return(L?a(L):a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var E=a(this),Q=a(window).scrollTop(),G=f(E[0]),D=window.innerHeight,C=E.outerHeight();Q=E.is(".ui-header-fixed")&&Q<=G+C||E.is(".ui-footer-fixed")&&G<=Q+D;E.addClass("ui-fixed-overlay").removeClass("ui-fixed-inline");!Q&&!A&&E.animationComplete(function(){E.removeClass("in")}).addClass("in");c(E)})},hide:function(A){j="inline";
return(a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var L=a(this),E=L.css("top");E=E=="auto"?0:parseFloat(E);L.addClass("ui-fixed-inline").removeClass("ui-fixed-overlay");if(E<0||L.is(".ui-header-fixed")&&E!==0)if(A)L.css("top",0);else L.css("top")!=="auto"&&parseFloat(L.css("top"))!==0&&L.animationComplete(function(){L.removeClass("out reverse").css("top",0)}).addClass("out reverse")})},
startShowTimer:function(){a.mobile.fixedToolbars.clearShowTimer();var A=[].slice.call(arguments);n=setTimeout(function(){n=d;a.mobile.fixedToolbars.show.apply(null,A)},100)},clearShowTimer:function(){n&&clearTimeout(n);n=d},toggle:function(A){if(A)j=A;return j==="overlay"?a.mobile.fixedToolbars.hide():a.mobile.fixedToolbars.show()},setTouchToggleEnabled:function(A){z=A}}}}();a(document).bind("pagecreate create",function(e){a(":jqmData(position='fixed')",e.target).length&&a(e.target).each(function(){if(!a.support.scrollTop||
a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;var f=a(this);f.jqmData("fullscreen")&&f.addClass("ui-page-fullscreen");f.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade");f.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})})})(jQuery);
(function(a){a.mobile.touchOverflowEnabled=false;a.mobile.touchOverflowZoomEnabled=false;a(document).bind("pagecreate",function(d){if(a.support.touchOverflow&&a.mobile.touchOverflowEnabled){d=a(d.target);d.is(":jqmData(role='page')")&&d.each(function(){var e=a(this),f=e.find(":jqmData(role='header'), :jqmData(role='footer')").filter(":jqmData(position='fixed')"),c=e.jqmData("fullscreen"),k=f.length?e.find(".ui-content"):e;e.addClass("ui-mobile-touch-overflow");k.bind("scrollstop",function(){k.scrollTop()>
0&&window.scrollTo(0,a.mobile.defaultHomeScroll)});if(f.length){e.addClass("ui-native-fixed");if(c){e.addClass("ui-native-fullscreen");f.addClass("fade in");a(document).bind("vclick",function(){f.removeClass("ui-native-bars-hidden").toggleClass("in out").animationComplete(function(){a(this).not(".in").addClass("ui-native-bars-hidden")})})}}})}})})(jQuery);
(function(a,d){function e(){var n=a("meta[name='viewport']");n.length?n.attr("content",n.attr("content")+", user-scalable=no"):a("head").prepend("<meta>",{name:"viewport",content:"user-scalable=no"})}var f=a("html");a("head");var c=a(d);a(d.document).trigger("mobileinit");if(a.mobile.gradeA()){if(a.mobile.ajaxBlacklist)a.mobile.ajaxEnabled=false;f.addClass("ui-mobile ui-mobile-rendering");var k=a("<div class='ui-loader ui-body-a ui-corner-all'><span class='ui-icon ui-icon-loading spin'></span><h1></h1></div>");
a.extend(a.mobile,{showPageLoadingMsg:function(){if(a.mobile.loadingMessage){var n=a("."+a.mobile.activeBtnClass).first();k.find("h1").text(a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer).css({top:a.support.scrollTop&&c.scrollTop()+c.height()/2||n.length&&n.offset().top||100})}f.addClass("ui-loading")},hidePageLoadingMsg:function(){f.removeClass("ui-loading")},initializePage:function(){var n,j=a(":jqmData(role='page')");if(!j.length){n=a(":jqmData(role='dialog')");if(n.length){n.first().attr("data-"+
a.mobile.ns+"role","page");j=j.add(n.get().shift())}else j=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)}j.add(":jqmData(role='dialog')").each(function(){var u=a(this);u.jqmData("url")||u.attr("data-"+a.mobile.ns+"url",u.attr("id")||location.pathname+location.search)});a.mobile.firstPage=j.first();a.mobile.pageContainer=j.first().parent().addClass("ui-mobile-viewport");c.trigger("pagecontainercreate");a.mobile.showPageLoadingMsg();!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?
a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):c.trigger("hashchange",[true])}});a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&!a.mobile.touchOverflowZoomEnabled&&e();a.mobile._registerInternalEvents();a(function(){d.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||a(d).scrollTop()===1?0:1;a.mobile.autoInitializePage&&a.mobile.initializePage();c.load(a.mobile.silentScroll)})}})(jQuery,this);steal.loaded("webapp/lib/jquery.mobile.js");
var FlashDetect=new (function(){var a=this;a.installed=false;a.raw="";a.major=-1;a.minor=-1;a.revision=-1;a.revisionStr="";var d=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(j){return e(j)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(j){var u="6,0,21";try{j.AllowScriptAccess="always";u=e(j)}catch(o){}return u}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(j){return e(j)}}],e=function(j){var u=-1;try{u=j.GetVariable("$version")}catch(o){}return u},f=function(j){var u=
-1;try{u=new ActiveXObject(j)}catch(o){u={activeXError:true}}return u},c=function(j){var u=j.split(",");return{raw:j,major:parseInt(u[0].split(" ")[1],10),minor:parseInt(u[1],10),revision:parseInt(u[2],10),revisionStr:u[2]}},k=function(j){var u=j.split(/ +/),o=u[2].split(/\./);u=u[3];return{raw:j,major:parseInt(o[0],10),minor:parseInt(o[1],10),revisionStr:u,revision:n(u)}},n=function(j){return parseInt(j.replace(/[a-zA-Z]/g,""),10)||a.revision};a.majorAtLeast=function(j){return a.major>=j};a.minorAtLeast=
function(j){return a.minor>=j};a.revisionAtLeast=function(j){return a.revision>=j};a.versionAtLeast=function(){var j=[a.major,a.minor,a.revision],u=Math.min(j.length,arguments.length);for(i=0;i<u;i++)if(j[i]>=arguments[i]){if(!(i+1<u&&j[i]==arguments[i]))return true}else return false};a.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var j=navigator.mimeTypes;if(j&&j["application/x-shockwave-flash"]&&j["application/x-shockwave-flash"].enabledPlugin&&j["application/x-shockwave-flash"].enabledPlugin.description){j=
j["application/x-shockwave-flash"].enabledPlugin.description;var u=k(j);a.raw=u.raw;a.major=u.major;a.minor=u.minor;a.revisionStr=u.revisionStr;a.revision=u.revision;a.installed=true}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){j=-1;for(var o=0;o<d.length&&j==-1;o++){u=f(d[o].name);if(!u.activeXError){a.installed=true;j=d[o].version(u);if(j!=-1){u=c(j);a.raw=u.raw;a.major=u.major;a.minor=u.minor;a.revision=u.revision;a.revisionStr=u.revisionStr}}}}}()});
FlashDetect.JS_RELEASE="1.0.4";steal.loaded("webapp/lib/flash_detect_min.js");
(function(a,d){function e(c,k){var n=c.nodeName.toLowerCase();if("area"===n){k=c.parentNode;n=k.name;if(!c.href||!n||k.nodeName.toLowerCase()!=="map")return false;c=a("img[usemap=#"+n+"]")[0];return!!c&&f(c)}return(/input|select|textarea|button|object/.test(n)?!c.disabled:"a"==n?c.href||k:k)&&f(c)}function f(c){return!a(c).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.16",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(c,k){return typeof c==="number"?this.each(function(){var n=
this;setTimeout(function(){a(n).focus();k&&k.call(n)},c)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,
"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?a(document):c},zIndex:function(c){if(c!==d)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var k;c.length&&c[0]!==document;){k=c.css("position");if(k==="absolute"||k==="relative"||k==="fixed"){k=parseInt(c.css("zIndex"),10);if(!isNaN(k)&&k!==0)return k}c=c.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(c,k){function n(w,z,A,L){a.each(j,function(){z-=parseFloat(a.curCSS(w,"padding"+this,true))||0;if(A)z-=parseFloat(a.curCSS(w,"border"+this+"Width",true))||0;if(L)z-=parseFloat(a.curCSS(w,"margin"+this,true))||0});return z}var j=k==="Width"?["Left","Right"]:["Top","Bottom"],u=k.toLowerCase(),o={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,
outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+k]=function(w){if(w===d)return o["inner"+k].call(this);return this.each(function(){a(this).css(u,n(this,w)+"px")})};a.fn["outer"+k]=function(w,z){if(typeof w!=="number")return o["outer"+k].call(this,w);return this.each(function(){a(this).css(u,n(this,w,true,z)+"px")})}});a.extend(a.expr[":"],{data:function(c,k,n){return!!a.data(c,n[3])},focusable:function(c){return e(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var k=a.attr(c,
"tabindex"),n=isNaN(k);return(n||k>=0)&&e(c,!n)}});a(function(){var c=document.body,k=c.appendChild(k=document.createElement("div"));a.extend(k.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=k.offsetHeight===100;a.support.selectstart="onselectstart"in k;c.removeChild(k).style.display="none"});a.extend(a.ui,{plugin:{add:function(c,k,n){c=a.ui[c].prototype;for(var j in n){c.plugins[j]=c.plugins[j]||[];c.plugins[j].push([k,n[j]])}},call:function(c,k,n){if((k=c.plugins[k])&&
c.element[0].parentNode)for(var j=0;j<k.length;j++)c.options[k[j][0]]&&k[j][1].apply(c.element,n)}},contains:function(c,k){return document.compareDocumentPosition?c.compareDocumentPosition(k)&16:c!==k&&c.contains(k)},hasScroll:function(c,k){if(a(c).css("overflow")==="hidden")return false;k=k&&k==="left"?"scrollLeft":"scrollTop";var n=false;if(c[k]>0)return true;c[k]=1;n=c[k]>0;c[k]=0;return n},isOverAxis:function(c,k,n){return c>k&&c<k+n},isOver:function(c,k,n,j,u,o){return a.ui.isOverAxis(c,n,u)&&
a.ui.isOverAxis(k,j,o)}})}})(jQuery);
(function(a,d){if(a.cleanData){var e=a.cleanData;a.cleanData=function(c){for(var k=0,n;(n=c[k])!=null;k++)try{a(n).triggerHandler("remove")}catch(j){}e(c)}}else{var f=a.fn.remove;a.fn.remove=function(c,k){return this.each(function(){if(!k)if(!c||a.filter(c,[this]).length)a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(n){}});return f.call(a(this),c,k)})}}a.widget=function(c,k,n){var j=c.split(".")[0],u;c=c.split(".")[1];u=j+"-"+c;if(!n){n=k;k=a.Widget}a.expr[":"][u]=
function(o){return!!a.data(o,c)};a[j]=a[j]||{};a[j][c]=function(o,w){arguments.length&&this._createWidget(o,w)};k=new k;k.options=a.extend(true,{},k.options);a[j][c].prototype=a.extend(true,k,{namespace:j,widgetName:c,widgetEventPrefix:a[j][c].prototype.widgetEventPrefix||c,widgetBaseClass:u},n);a.widget.bridge(c,a[j][c])};a.widget.bridge=function(c,k){a.fn[c]=function(n){var j=typeof n==="string",u=Array.prototype.slice.call(arguments,1),o=this;n=!j&&u.length?a.extend.apply(null,[true,n].concat(u)):
n;if(j&&n.charAt(0)==="_")return o;j?this.each(function(){var w=a.data(this,c),z=w&&a.isFunction(w[n])?w[n].apply(w,u):w;if(z!==w&&z!==d){o=z;return false}}):this.each(function(){var w=a.data(this,c);w?w.option(n||{})._init():a.data(this,c,new k(n,this))});return o}};a.Widget=function(c,k){arguments.length&&this._createWidget(c,k)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(c,k){a.data(k,this.widgetName,this);this.element=a(k);this.options=
a.extend(true,{},this.options,this._getCreateOptions(),c);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,k){var n=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c==="string"){if(k===d)return this.options[c];n={};n[c]=k}this._setOptions(n);return this},_setOptions:function(c){var k=this;a.each(c,function(n,j){k._setOption(n,j)});return this},_setOption:function(c,k){this.options[c]=k;if(c==="disabled")this.widget()[k?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
k);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(c,k,n){var j=this.options[c];k=a.Event(k);k.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();n=n||{};if(k.originalEvent){c=a.event.props.length;for(var u;c;){u=a.event.props[--c];k[u]=k.originalEvent[u]}}this.element.trigger(k,n);return!(a.isFunction(j)&&j.call(this.element[0],k,n)===false||k.isDefaultPrevented())}}})(jQuery);
(function(a){var d=false;a(document).mouseup(function(){d=false});a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(f){return e._mouseDown(f)}).bind("click."+this.widgetName,function(f){if(true===a.data(f.target,e.widgetName+".preventClickEvent")){a.removeData(f.target,e.widgetName+".preventClickEvent");f.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(e){if(!d){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var f=this,c=e.which==1,k=typeof this.options.cancel=="string"&&e.target.nodeName?a(e.target).closest(this.options.cancel).length:false;if(!c||k||!this._mouseCapture(e))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=
this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();return true}}true===a.data(e.target,this.widgetName+".preventClickEvent")&&a.removeData(e.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(n){return f._mouseMove(n)};this._mouseUpDelegate=function(n){return f._mouseUp(n)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();return d=true}},_mouseMove:function(e){if(a.browser.msie&&
!(document.documentMode>=9)&&!e.button)return this._mouseUp(e);if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false)?this._mouseDrag(e):this._mouseUp(e);return!this._mouseStarted},_mouseUp:function(e){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;e.target==this._mouseDownEvent.target&&a.data(e.target,this.widgetName+".preventClickEvent",true);this._mouseStop(e)}return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(d){var e=
this.options;if(this.helper||e.disabled||a(d.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(d);if(!this.handle)return false;if(e.iframeFix)a(e.iframeFix===true?"iframe":e.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(d){var e=this.options;
this.helper=this._createHelper(d);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});
this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);e.containment&&this._setContainment();if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(d,true);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,d);return true},
_mouseDrag:function(d,e){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!e){e=this._uiHash();if(this._trigger("drag",d,e)===false){this._mouseUp({});return false}this.position=e.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,d);return false},_mouseStop:function(d){var e=
false;if(a.ui.ddmanager&&!this.options.dropBehaviour)e=a.ui.ddmanager.drop(this,d);if(this.dropped){e=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!e||this.options.revert=="valid"&&e||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,
10),function(){f._trigger("stop",d)!==false&&f._clear()})}else this._trigger("stop",d)!==false&&this._clear();return false},_mouseUp:function(d){this.options.iframeFix===true&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,d);return a.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(d){var e=!this.options.handle||
!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==d.target)e=true});return e},_createHelper:function(d){var e=this.options;d=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):e.helper=="clone"?this.element.clone().removeAttr("id"):this.element;d.parents("body").length||d.appendTo(e.appendTo=="parent"?this.element[0].parentNode:e.appendTo);d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&
d.css("position","absolute");return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string")d=d.split(" ");if(a.isArray(d))d={left:+d[0],top:+d[1]||0};if("left"in d)this.offset.click.left=d.left+this.margins.left;if("right"in d)this.offset.click.left=this.helperProportions.width-d.right+this.margins.left;if("top"in d)this.offset.click.top=d.top+this.margins.top;if("bottom"in d)this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.element.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;if(d.containment=="parent")d.containment=this.helper[0].parentNode;if(d.containment=="document"||d.containment=="window")this.containment=[d.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,
(d.containment=="document"?0:a(window).scrollLeft())+a(d.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d.containment=="document"?0:a(window).scrollTop())+(a(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(d.containment)&&d.containment.constructor!=Array){d=a(d.containment);var e=d[0];if(e){d.offset();var f=a(e).css("overflow")!=
"hidden";this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(f?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),
10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=d}}else if(d.containment.constructor==Array)this.containment=d.containment},_convertPositionTo:function(d,e){if(!e)e=this.position;d=d=="absolute"?1:-1;var f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(f[0].tagName);return{top:e.top+
this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:f.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:f.scrollLeft())*d)}},_generatePosition:function(d){var e=this.options,f=this.cssPosition=="absolute"&&
!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(f[0].tagName),k=d.pageX,n=d.pageY;if(this.originalPosition){var j;if(this.containment){if(this.relative_container){j=this.relative_container.offset();j=[this.containment[0]+j.left,this.containment[1]+j.top,this.containment[2]+j.left,this.containment[3]+j.top]}else j=this.containment;if(d.pageX-this.offset.click.left<j[0])k=j[0]+this.offset.click.left;
if(d.pageY-this.offset.click.top<j[1])n=j[1]+this.offset.click.top;if(d.pageX-this.offset.click.left>j[2])k=j[2]+this.offset.click.left;if(d.pageY-this.offset.click.top>j[3])n=j[3]+this.offset.click.top}if(e.grid){n=e.grid[1]?this.originalPageY+Math.round((n-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;n=j?!(n-this.offset.click.top<j[1]||n-this.offset.click.top>j[3])?n:!(n-this.offset.click.top<j[1])?n-e.grid[1]:n+e.grid[1]:n;k=e.grid[0]?this.originalPageX+Math.round((k-this.originalPageX)/
e.grid[0])*e.grid[0]:this.originalPageX;k=j?!(k-this.offset.click.left<j[0]||k-this.offset.click.left>j[2])?k:!(k-this.offset.click.left<j[0])?k-e.grid[0]:k+e.grid[0]:k}}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:f.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<
526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:f.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(d,e,f){f=f||this._uiHash();a.ui.plugin.call(this,d,[e,f]);if(d=="drag")this.positionAbs=this._convertPositionTo("absolute");return a.Widget.prototype._trigger.call(this,d,e,
f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.16"});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,e){var f=a(this).data("draggable"),c=f.options,k=a.extend({},e,{item:f.element});f.sortables=[];a(c.connectToSortable).each(function(){var n=a.data(this,"sortable");if(n&&!n.options.disabled){f.sortables.push({instance:n,shouldRevert:n.options.revert});
n.refreshPositions();n._trigger("activate",d,k)}})},stop:function(d,e){var f=a(this).data("draggable"),c=a.extend({},e,{item:f.element});a.each(f.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;f.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;f.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=
false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,e){var f=a(this).data("draggable"),c=this;a.each(f.sortables,function(){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);
this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return e.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;
f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}this.instance.currentItem&&this.instance._mouseDrag(d)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&
this.instance.placeholder.remove();f._trigger("fromSortable",d);f.dropped=false}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var d=a("body"),e=a(this).data("draggable").options;if(d.css("cursor"))e._cursor=d.css("cursor");d.css("cursor",e.cursor)},stop:function(){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){d=a(e.helper);e=a(this).data("draggable").options;if(d.css("opacity"))e._opacity=
d.css("opacity");d.css("opacity",e.opacity)},stop:function(d,e){d=a(this).data("draggable").options;d._opacity&&a(e.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var d=a(this).data("draggable");if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML")d.overflowOffset=d.scrollParent.offset()},drag:function(d){var e=a(this).data("draggable"),f=e.options,c=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!=
"x")if(e.overflowOffset.top+e.scrollParent[0].offsetHeight-d.pageY<f.scrollSensitivity)e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop+f.scrollSpeed;else if(d.pageY-e.overflowOffset.top<f.scrollSensitivity)e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop-f.scrollSpeed;if(!f.axis||f.axis!="y")if(e.overflowOffset.left+e.scrollParent[0].offsetWidth-d.pageX<f.scrollSensitivity)e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft+f.scrollSpeed;else if(d.pageX-e.overflowOffset.left<
f.scrollSensitivity)e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft-f.scrollSpeed}else{if(!f.axis||f.axis!="x")if(d.pageY-a(document).scrollTop()<f.scrollSensitivity)c=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed);else if(a(window).height()-(d.pageY-a(document).scrollTop())<f.scrollSensitivity)c=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed);if(!f.axis||f.axis!="y")if(d.pageX-a(document).scrollLeft()<f.scrollSensitivity)c=a(document).scrollLeft(a(document).scrollLeft()-
f.scrollSpeed);else if(a(window).width()-(d.pageX-a(document).scrollLeft())<f.scrollSensitivity)c=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}c!==false&&a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(e,d)}});a.ui.plugin.add("draggable","snap",{start:function(){var d=a(this).data("draggable"),e=d.options;d.snapElements=[];a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var f=a(this),c=f.offset();this!=d.element[0]&&d.snapElements.push({item:this,
width:f.outerWidth(),height:f.outerHeight(),top:c.top,left:c.left})})},drag:function(d,e){for(var f=a(this).data("draggable"),c=f.options,k=c.snapTolerance,n=e.offset.left,j=n+f.helperProportions.width,u=e.offset.top,o=u+f.helperProportions.height,w=f.snapElements.length-1;w>=0;w--){var z=f.snapElements[w].left,A=z+f.snapElements[w].width,L=f.snapElements[w].top,E=L+f.snapElements[w].height;if(z-k<n&&n<A+k&&L-k<u&&u<E+k||z-k<n&&n<A+k&&L-k<o&&o<E+k||z-k<j&&j<A+k&&L-k<u&&u<E+k||z-k<j&&j<A+k&&L-k<o&&
o<E+k){if(c.snapMode!="inner"){var Q=Math.abs(L-o)<=k,G=Math.abs(E-u)<=k,D=Math.abs(z-j)<=k,C=Math.abs(A-n)<=k;if(Q)e.position.top=f._convertPositionTo("relative",{top:L-f.helperProportions.height,left:0}).top-f.margins.top;if(G)e.position.top=f._convertPositionTo("relative",{top:E,left:0}).top-f.margins.top;if(D)e.position.left=f._convertPositionTo("relative",{top:0,left:z-f.helperProportions.width}).left-f.margins.left;if(C)e.position.left=f._convertPositionTo("relative",{top:0,left:A}).left-f.margins.left}var s=
Q||G||D||C;if(c.snapMode!="outer"){Q=Math.abs(L-u)<=k;G=Math.abs(E-o)<=k;D=Math.abs(z-n)<=k;C=Math.abs(A-j)<=k;if(Q)e.position.top=f._convertPositionTo("relative",{top:L,left:0}).top-f.margins.top;if(G)e.position.top=f._convertPositionTo("relative",{top:E-f.helperProportions.height,left:0}).top-f.margins.top;if(D)e.position.left=f._convertPositionTo("relative",{top:0,left:z}).left-f.margins.left;if(C)e.position.left=f._convertPositionTo("relative",{top:0,left:A-f.helperProportions.width}).left-f.margins.left}if(!f.snapElements[w].snapping&&
(Q||G||D||C||s))f.options.snap.snap&&f.options.snap.snap.call(f.element,d,a.extend(f._uiHash(),{snapItem:f.snapElements[w].item}));f.snapElements[w].snapping=Q||G||D||C||s}else{f.snapElements[w].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,d,a.extend(f._uiHash(),{snapItem:f.snapElements[w].item}));f.snapElements[w].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var d=a(this).data("draggable").options;d=a.makeArray(a(d.stack)).sort(function(f,c){return(parseInt(a(f).css("zIndex"),
10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(d.length){var e=parseInt(d[0].style.zIndex)||0;a(d).each(function(f){this.style.zIndex=e+f});this[0].style.zIndex=e+d.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){d=a(e.helper);e=a(this).data("draggable").options;if(d.css("zIndex"))e._zIndex=d.css("zIndex");d.css("zIndex",e.zIndex)},stop:function(d,e){d=a(this).data("draggable").options;d._zIndex&&a(e.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,e=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(e)?e:function(f){return f.is(e)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);
d.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var d=a.ui.ddmanager.droppables[this.options.scope],e=0;e<d.length;e++)d[e]==this&&d.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(d,e){if(d=="accept")this.accept=a.isFunction(e)?e:function(f){return f.is(e)};a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var e=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);e&&this._trigger("activate",d,this.ui(e))},_deactivate:function(d){var e=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);e&&this._trigger("deactivate",d,this.ui(e))},_over:function(d){var e=a.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",d,this.ui(e))}},_out:function(d){var e=a.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",d,this.ui(e))}},_drop:function(d,e){var f=e||a.ui.ddmanager.current;if(!f||(f.currentItem||f.element)[0]==this.element[0])return false;var c=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var k=
a.data(this,"droppable");if(k.options.greedy&&!k.options.disabled&&k.options.scope==f.options.scope&&k.accept.call(k.element[0],f.currentItem||f.element)&&a.ui.intersect(f,a.extend(k,{offset:k.element.offset()}),k.options.tolerance)){c=true;return false}});if(c)return false;if(this.accept.call(this.element[0],f.currentItem||f.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
d,this.ui(f));return this.element}return false},ui:function(d){return{draggable:d.currentItem||d.element,helper:d.helper,position:d.position,offset:d.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.16"});a.ui.intersect=function(d,e,f){if(!e.offset)return false;var c=(d.positionAbs||d.position.absolute).left,k=c+d.helperProportions.width,n=(d.positionAbs||d.position.absolute).top,j=n+d.helperProportions.height,u=e.offset.left,o=u+e.proportions.width,w=e.offset.top,z=w+e.proportions.height;switch(f){case "fit":return u<=
c&&k<=o&&w<=n&&j<=z;case "intersect":return u<c+d.helperProportions.width/2&&k-d.helperProportions.width/2<o&&w<n+d.helperProportions.height/2&&j-d.helperProportions.height/2<z;case "pointer":return a.ui.isOver((d.positionAbs||d.position.absolute).top+(d.clickOffset||d.offset.click).top,(d.positionAbs||d.position.absolute).left+(d.clickOffset||d.offset.click).left,w,u,e.proportions.height,e.proportions.width);case "touch":return(n>=w&&n<=z||j>=w&&j<=z||n<w&&j>z)&&(c>=u&&c<=o||k>=u&&k<=o||c<u&&k>o);
default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(d,e){var f=a.ui.ddmanager.droppables[d.options.scope]||[],c=e?e.type:null,k=(d.currentItem||d.element).find(":data(droppable)").andSelf(),n=0;a:for(;n<f.length;n++)if(!(f[n].options.disabled||d&&!f[n].accept.call(f[n].element[0],d.currentItem||d.element))){for(var j=0;j<k.length;j++)if(k[j]==f[n].element[0]){f[n].proportions.height=0;continue a}f[n].visible=f[n].element.css("display")!="none";if(f[n].visible){c==
"mousedown"&&f[n]._activate.call(f[n],e);f[n].offset=f[n].element.offset();f[n].proportions={width:f[n].element[0].offsetWidth,height:f[n].element[0].offsetHeight}}}},drop:function(d,e){var f=false;a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(d,this,this.options.tolerance))f=f||this._drop.call(this,e);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)){this.isout=
1;this.isover=0;this._deactivate.call(this,e)}}});return f},dragStart:function(d,e){d.element.parents(":not(body,html)").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,e)})},drag:function(d,e){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,e);a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var f=a.ui.intersect(d,this,this.options.tolerance);if(f=!f&&this.isover==
1?"isout":f&&this.isover==0?"isover":null){var c;if(this.options.greedy){var k=this.element.parents(":data(droppable):eq(0)");if(k.length){c=a.data(k[0],"droppable");c.greedyChild=f=="isover"?1:0}}if(c&&f=="isover"){c.isover=0;c.isout=1;c._out.call(c,e)}this[f]=1;this[f=="isout"?"isover":"isout"]=0;this[f=="isover"?"_over":"_out"].call(this,e);if(c&&f=="isout"){c.isout=0;c.isover=1;c._over.call(c,e)}}}})},dragStop:function(d,e){d.element.parents(":not(body,html)").unbind("scroll.droppable");d.options.refreshPositions||
a.ui.ddmanager.prepareOffsets(d,e)}}})(jQuery);
(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var d=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?d.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--)this.items[d].item.removeData("sortable-item");return this},_setOption:function(d,e){if(d===
"disabled"){this.options[d]=e;this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")}else a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(d,e){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(d);var f=null,c=this;a(d.target).parents().each(function(){if(a.data(this,"sortable-item")==c){f=a(this);return false}});if(a.data(d.target,"sortable-item")==c)f=a(d.target);if(!f)return false;if(this.options.handle&&
!e){var k=false;a(this.options.handle,f).find("*").andSelf().each(function(){if(this==d.target)k=true});if(!k)return false}this.currentItem=f;this._removeCurrentsFromItems();return true},_mouseStart:function(d,e,f){e=this.options;var c=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(d);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,
left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();if(e.cursor){if(a("body").css("cursor"))this._storedCursor=a("body").css("cursor");a("body").css("cursor",e.cursor)}if(e.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",e.opacity)}if(e.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",e.zIndex)}if(this.scrollParent[0]!=
document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",d,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!f)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",d,c._uiHash(this));if(a.ui.ddmanager)a.ui.ddmanager.current=this;a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(d);
return true},_mouseDrag:function(d){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var e=this.options,f=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-d.pageY<e.scrollSensitivity)this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+e.scrollSpeed;else if(d.pageY-this.overflowOffset.top<
e.scrollSensitivity)this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-e.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-d.pageX<e.scrollSensitivity)this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+e.scrollSpeed;else if(d.pageX-this.overflowOffset.left<e.scrollSensitivity)this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-e.scrollSpeed}else{if(d.pageY-a(document).scrollTop()<e.scrollSensitivity)f=a(document).scrollTop(a(document).scrollTop()-
e.scrollSpeed);else if(a(window).height()-(d.pageY-a(document).scrollTop())<e.scrollSensitivity)f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed);if(d.pageX-a(document).scrollLeft()<e.scrollSensitivity)f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed);else if(a(window).width()-(d.pageX-a(document).scrollLeft())<e.scrollSensitivity)f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed)}f!==false&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,
d)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(e=this.items.length-1;e>=0;e--){f=this.items[e];var c=f.item[0],k=this._intersectsWithPointer(f);if(k)if(c!=this.currentItem[0]&&this.placeholder[k==1?"next":"prev"]()[0]!=c&&!a.ui.contains(this.placeholder[0],c)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],
c):true)){this.direction=k==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f))this._rearrange(d,f);else break;this._trigger("change",d,this._uiHash());break}}this._contactContainers(d);a.ui.ddmanager&&a.ui.ddmanager.drag(this,d);this._trigger("sort",d,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(d,e){if(d){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,d);if(this.options.revert){var f=this;e=f.placeholder.offset();
f.reverting=true;a(this.helper).animate({left:e.left-this.offset.parent.left-f.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-f.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(d)})}else this._clear(d,e);return false}},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):
this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,d._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,d._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,
dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(d){var e=this._getItemsAsjQuery(d&&d.connected),f=[];d=d||{};a(e).each(function(){var c=(a(d.item||this).attr(d.attribute||"id")||"").match(d.expression||/(.+)[-=_](.+)/);if(c)f.push((d.key||c[1]+"[]")+"="+(d.key&&d.expression?c[1]:c[2]))});!f.length&&d.key&&f.push(d.key+"=");return f.join("&")},
toArray:function(d){var e=this._getItemsAsjQuery(d&&d.connected),f=[];d=d||{};e.each(function(){f.push(a(d.item||this).attr(d.attribute||"id")||"")});return f},_intersectsWith:function(d){var e=this.positionAbs.left,f=e+this.helperProportions.width,c=this.positionAbs.top,k=c+this.helperProportions.height,n=d.left,j=n+d.width,u=d.top,o=u+d.height,w=this.offset.click.top,z=this.offset.click.left;w=c+w>u&&c+w<o&&e+z>n&&e+z<j;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||
this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>d[this.floating?"width":"height"]?w:n<e+this.helperProportions.width/2&&f-this.helperProportions.width/2<j&&u<c+this.helperProportions.height/2&&k-this.helperProportions.height/2<o},_intersectsWithPointer:function(d){var e=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,d.height);d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width);e=e&&d;d=this._getDragVerticalDirection();
var f=this._getDragHorizontalDirection();if(!e)return false;return this.floating?f&&f=="right"||d=="down"?2:1:d&&(d=="down"?2:1)},_intersectsWithSides:function(d){var e=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top+d.height/2,d.height);d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left+d.width/2,d.width);var f=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return this.floating&&c?c=="right"&&d||c=="left"&&!d:f&&(f=="down"&&e||f=="up"&&!e)},
_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return d!=0&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return d!=0&&(d>0?"right":"left")},refresh:function(d){this._refreshItems(d);this.refreshPositions();return this},_connectWith:function(){var d=this.options;return d.connectWith.constructor==String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(d){var e=[],f=[],c=this._connectWith();
if(c&&d)for(d=c.length-1;d>=0;d--)for(var k=a(c[d]),n=k.length-1;n>=0;n--){var j=a.data(k[n],"sortable");if(j&&j!=this&&!j.options.disabled)f.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}f.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(d=f.length-1;d>=0;d--)f[d][0].each(function(){e.push(this)});return a(e)},_removeCurrentsFromItems:function(){for(var d=this.currentItem.find(":data(sortable-item)"),e=0;e<this.items.length;e++)for(var f=0;f<d.length;f++)d[f]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(d){this.items=[];this.containers=[this];var e=this.items,f=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],d,{item:this.currentItem}):a(this.options.items,this.element),
this]],c=this._connectWith();if(c)for(var k=c.length-1;k>=0;k--)for(var n=a(c[k]),j=n.length-1;j>=0;j--){var u=a.data(n[j],"sortable");if(u&&u!=this&&!u.options.disabled){f.push([a.isFunction(u.options.items)?u.options.items.call(u.element[0],d,{item:this.currentItem}):a(u.options.items,u.element),u]);this.containers.push(u)}}for(k=f.length-1;k>=0;k--){d=f[k][1];c=f[k][0];j=0;for(n=c.length;j<n;j++){u=a(c[j]);u.data("sortable-item",d);e.push({item:u,instance:d,width:0,height:0,left:0,top:0})}}},refreshPositions:function(d){if(this.offsetParent&&
this.helper)this.offset.parent=this._getParentOffset();for(var e=this.items.length-1;e>=0;e--){var f=this.items[e];if(!(f.instance!=this.currentContainer&&this.currentContainer&&f.item[0]!=this.currentItem[0])){var c=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item;if(!d){f.width=c.outerWidth();f.height=c.outerHeight()}c=c.offset();f.left=c.left;f.top=c.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=
this.containers.length-1;e>=0;e--){c=this.containers[e].element.offset();this.containers[e].containerCache.left=c.left;this.containers[e].containerCache.top=c.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}return this},_createPlaceholder:function(d){var e=d||this,f=e.options;if(!f.placeholder||f.placeholder.constructor==String){var c=f.placeholder;f.placeholder={element:function(){var k=
a(document.createElement(e.currentItem[0].nodeName)).addClass(c||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!c)k.style.visibility="hidden";return k},update:function(k,n){if(!(c&&!f.forcePlaceholderSize)){n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||
0,10))}}}}e.placeholder=a(f.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);f.placeholder.update(e,e.placeholder)},_contactContainers:function(d){for(var e=null,f=null,c=this.containers.length-1;c>=0;c--)if(!a.ui.contains(this.currentItem[0],this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(!(e&&a.ui.contains(this.containers[c].element[0],e.element[0]))){e=this.containers[c];f=c}}else if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",
d,this._uiHash(this));this.containers[c].containerCache.over=0}if(e)if(this.containers.length===1){this.containers[f]._trigger("over",d,this._uiHash(this));this.containers[f].containerCache.over=1}else if(this.currentContainer!=this.containers[f]){e=1E4;c=null;for(var k=this.positionAbs[this.containers[f].floating?"left":"top"],n=this.items.length-1;n>=0;n--)if(a.ui.contains(this.containers[f].element[0],this.items[n].item[0])){var j=this.items[n][this.containers[f].floating?"left":"top"];if(Math.abs(j-
k)<e){e=Math.abs(j-k);c=this.items[n]}}if(c||this.options.dropOnEmpty){this.currentContainer=this.containers[f];c?this._rearrange(d,c,null,true):this._rearrange(d,null,this.containers[f].element,true);this._trigger("change",d,this._uiHash());this.containers[f]._trigger("change",d,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[f]._trigger("over",d,this._uiHash(this));this.containers[f].containerCache.over=1}}},_createHelper:function(d){var e=
this.options;d=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d,this.currentItem])):e.helper=="clone"?this.currentItem.clone():this.currentItem;d.parents("body").length||a(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]);if(d[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(d[0].style.width==
""||e.forceHelperSize)d.width(this.currentItem.width());if(d[0].style.height==""||e.forceHelperSize)d.height(this.currentItem.height());return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string")d=d.split(" ");if(a.isArray(d))d={left:+d[0],top:+d[1]||0};if("left"in d)this.offset.click.left=d.left+this.margins.left;if("right"in d)this.offset.click.left=this.helperProportions.width-d.right+this.margins.left;if("top"in d)this.offset.click.top=d.top+this.margins.top;if("bottom"in d)this.offset.click.top=
this.helperProportions.height-d.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d=
{top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),
10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;if(d.containment=="parent")d.containment=this.helper[0].parentNode;if(d.containment=="document"||d.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(d.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,(a(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(d.containment)){var e=a(d.containment)[0];d=a(d.containment).offset();var f=a(e).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(e).css("borderTopWidth"),
10)||0)+(parseInt(a(e).css("paddingTop"),10)||0)-this.margins.top,d.left+(f?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(f?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,e){if(!e)e=
this.position;d=d=="absolute"?1:-1;var f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(f[0].tagName);return{top:e.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:f.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&
this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:f.scrollLeft())*d)}},_generatePosition:function(d){var e=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(f[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();
var k=d.pageX,n=d.pageY;if(this.originalPosition){if(this.containment){if(d.pageX-this.offset.click.left<this.containment[0])k=this.containment[0]+this.offset.click.left;if(d.pageY-this.offset.click.top<this.containment[1])n=this.containment[1]+this.offset.click.top;if(d.pageX-this.offset.click.left>this.containment[2])k=this.containment[2]+this.offset.click.left;if(d.pageY-this.offset.click.top>this.containment[3])n=this.containment[3]+this.offset.click.top}if(e.grid){n=this.originalPageY+Math.round((n-
this.originalPageY)/e.grid[1])*e.grid[1];n=this.containment?!(n-this.offset.click.top<this.containment[1]||n-this.offset.click.top>this.containment[3])?n:!(n-this.offset.click.top<this.containment[1])?n-e.grid[1]:n+e.grid[1]:n;k=this.originalPageX+Math.round((k-this.originalPageX)/e.grid[0])*e.grid[0];k=this.containment?!(k-this.offset.click.left<this.containment[0]||k-this.offset.click.left>this.containment[2])?k:!(k-this.offset.click.left<this.containment[0])?k-e.grid[0]:k+e.grid[0]:k}}return{top:n-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:f.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:f.scrollLeft())}},_rearrange:function(d,e,f,c){f?f[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],
this.direction=="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var k=this,n=this.counter;window.setTimeout(function(){n==k.counter&&k.refreshPositions(!c)},0)},_clear:function(d,e){this.reverting=false;var f=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS)if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static")this._storedCSS[c]=
"";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&f.push(function(k){this._trigger("receive",k,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!e)f.push(function(k){this._trigger("update",k,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){e||f.push(function(k){this._trigger("remove",
k,this._uiHash())});for(c=this.containers.length-1;c>=0;c--)if(a.ui.contains(this.containers[c].element[0],this.currentItem[0])&&!e){f.push(function(k){return function(n){k._trigger("receive",n,this._uiHash(this))}}.call(this,this.containers[c]));f.push(function(k){return function(n){k._trigger("update",n,this._uiHash(this))}}.call(this,this.containers[c]))}}for(c=this.containers.length-1;c>=0;c--){e||f.push(function(k){return function(n){k._trigger("deactivate",n,this._uiHash(this))}}.call(this,
this.containers[c]));if(this.containers[c].containerCache.over){f.push(function(k){return function(n){k._trigger("out",n,this._uiHash(this))}}.call(this,this.containers[c]));this.containers[c].containerCache.over=0}}this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",
d,this._uiHash());for(c=0;c<f.length;c++)f[c].call(this,d);this._trigger("stop",d,this._uiHash())}return false}e||this._trigger("beforeStop",d,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(c=0;c<f.length;c++)f[c].call(this,d);this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},
_uiHash:function(d){var e=d||this;return{helper:e.helper,placeholder:e.placeholder||a([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:d?d.element:null}}});a.extend(a.ui.sortable,{version:"1.8.16"})})(jQuery);steal.loaded("webapp/lib/jquery-ui/jquery-ui-1.8.16.custom.min.js");var mejs=mejs||{};mejs.version="2.1.9";mejs.meIndex=0;
mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg"]}]};
mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var d=document.createElement("div");d.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>';return d.firstChild.href},getScriptPath:function(a){for(var d=0,e,f="",c="",k,n=document.getElementsByTagName("script");d<n.length;d++){k=n[d].src;for(e=0;e<a.length;e++){c=a[e];if(k.indexOf(c)>-1){f=k.substring(0,
k.indexOf(c));break}}if(f!=="")break}return f},secondsToTimeCode:function(a,d){if(a=="Infinity")a=0;a=Math.round(a);var e,f=Math.floor(a/60);if(f>=60){e=Math.floor(f/60);f%=60}e=e===undefined?"00":e>=10?e:"0"+e;f=f>=10?f:"0"+f;a=Math.floor(a%60);a=a>=10?a:"0"+a;return(e>0||d===true?e+":":"")+f+":"+a},timeCodeToSeconds:function(a){a=a.split(":");return a[0]*60*60+a[1]*60+parseFloat(a[2].replace(",","."))}};
mejs.PluginDetector={hasPluginVersion:function(a,d){a=this.plugins[a];d[1]=d[1]||0;d[2]=d[2]||0;return a[0]>d[0]||a[0]==d[0]&&a[1]>d[1]||a[0]==d[0]&&a[1]==d[1]&&a[2]>=d[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,d,e,f,c){this.plugins[a]=this.detectPlugin(d,e,f,c)},detectPlugin:function(a,d,e,f){var c=[0,0,0],k;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[a]=="object"){if((e=this.nav.plugins[a].description)&&!(typeof this.nav.mimeTypes!=
"undefined"&&this.nav.mimeTypes[d]&&!this.nav.mimeTypes[d].enabledPlugin)){c=e.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(a=0;a<c.length;a++)c[a]=parseInt(c[a].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(k=new ActiveXObject(e))c=f(k)}catch(n){}return c}};
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var d=[];if(a=a.GetVariable("$version")){a=a.split(" ")[1].split(",");d=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]}return d});
mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var d=[0,0,0,0],e=function(f,c,k,n){for(;f.isVersionSupported(c[0]+"."+c[1]+"."+c[2]+"."+c[3]);)c[k]+=n;c[k]-=n};e(a,d,0,1);e(a,d,1,1);e(a,d,2,1E4);e(a,d,2,1E3);e(a,d,2,100);e(a,d,2,10);e(a,d,2,1);e(a,d,3,1);return d});
mejs.MediaFeatures={init:function(){var a=mejs.PluginDetector.nav,d=mejs.PluginDetector.ua.toLowerCase(),e,f=["source","track","audio","video"];this.isiPad=d.match(/ipad/i)!==null;this.isiPhone=d.match(/iphone/i)!==null;this.isAndroid=d.match(/android/i)!==null;this.isBustedAndroid=d.match(/android 2\.[12]/)!==null;this.isIE=a.appName.toLowerCase().indexOf("microsoft")!=-1;this.isChrome=d.match(/chrome/gi)!==null;this.isFirefox=d.match(/firefox/gi)!==null;for(a=0;a<f.length;a++)e=document.createElement(f[a]);
this.hasNativeFullScreen=typeof e.webkitRequestFullScreen!=="undefined";if(this.isChrome)this.hasNativeFullScreen=false;if(this.hasNativeFullScreen&&d.match(/mac os x 10_5/i))this.hasNativeFullScreen=false}};mejs.MediaFeatures.init();
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){if(typeof a=="string")this.src=a;else{var d,e;for(d=0;d<a.length;d++){e=a[d];if(this.canPlayType(e.type))this.src=e.src}}},setVideoSize:function(a,d){this.width=a;this.height=d}};mejs.PluginMediaElement=function(a,d,e){this.id=a;this.pluginType=d;this.src=e;this.events={}};
mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginApi.loadMedia();this.paused=false}},pause:function(){if(this.pluginApi!=null){this.pluginApi.pauseMedia();this.paused=
true}},stop:function(){if(this.pluginApi!=null){this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(a){var d,e,f,c=mejs.plugins[this.pluginType];for(d=0;d<c.length;d++){f=c[d];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,f.version))for(e=0;e<f.types.length;e++)if(a==f.types[e])return true}return false},setSrc:function(a){if(typeof a=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var d,e;for(d=0;d<a.length;d++){e=
a[d];if(this.canPlayType(e.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e.src));this.src=mejs.Utility.absolutizeUrl(a)}}}},setCurrentTime:function(a){if(this.pluginApi!=null){this.pluginApi.setCurrentTime(a);this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){this.pluginApi.setVolume(a);this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){this.pluginApi.setMuted(a);this.muted=a}},setVideoSize:function(a,d){if(this.pluginElement.style){this.pluginElement.style.width=
a+"px";this.pluginElement.style.height=d+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize(a,d)},setFullscreen:function(a){this.pluginApi!=null&&this.pluginApi.setFullscreen(a)},addEventListener:function(a,d){this.events[a]=this.events[a]||[];this.events[a].push(d)},removeEventListener:function(a,d){if(!a){this.events={};return true}var e=this.events[a];if(!e)return true;if(!d){this.events[a]=[];return true}for(i=0;i<e.length;i++)if(e[i]===d){this.events[a].splice(i,1);return true}return false},
dispatchEvent:function(a){var d,e,f=this.events[a];if(f){e=Array.prototype.slice.call(arguments,1);for(d=0;d<f.length;d++)f[d].apply(null,e)}}};
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,d,e){this.pluginMediaElements[a]=d;this.htmlMediaElements[a]=e},initPlugin:function(a){var d=this.pluginMediaElements[a],e=this.htmlMediaElements[a];switch(d.pluginType){case "flash":d.pluginElement=d.pluginApi=document.getElementById(a);break;case "silverlight":d.pluginElement=document.getElementById(d.id);d.pluginApi=d.pluginElement.Content.MediaElementJS;break}d.pluginApi!=null&&d.success&&d.success(d,
e)},fireEvent:function(a,d,e){var f,c;a=this.pluginMediaElements[a];a.ended=false;a.paused=true;d={type:d,target:a};for(f in e){a[f]=e[f];d[f]=e[f]}c=e.bufferedTime||0;d.target.buffered=d.buffered={start:function(){return 0},end:function(){return c},length:1};a.dispatchEvent(d.type,d)}};
mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,timerRate:250,success:function(){},error:function(){}};
mejs.MediaElement=function(a,d){return mejs.HtmlMediaElementShim.create(a,d)};
mejs.HtmlMediaElementShim={create:function(a,d){var e=mejs.MediaElementDefaults,f=typeof a=="string"?document.getElementById(a):a;a=f.tagName.toLowerCase()=="video";var c=typeof f.canPlayType!="undefined",k={method:"",url:""},n=f.getAttribute("poster"),j=f.getAttribute("autoplay"),u=f.getAttribute("preload"),o=f.getAttribute("controls"),w;for(w in d)e[w]=d[w];n=typeof n=="undefined"||n===null?"":n;u=typeof u=="undefined"||u===null||u==="false"?"none":u;j=!(typeof j=="undefined"||j===null||j==="false");
o=!(typeof o=="undefined"||o===null||o==="false");k=this.determinePlayback(f,e,a,c);if(k.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){f.src=k.url;f.addEventListener("click",function(){f.play()},true)}return this.updateNative(f,e,j,u,k)}else if(k.method!=="")return this.createPlugin(f,e,a,k.method,k.url!==null?mejs.Utility.absolutizeUrl(k.url):"",n,j,u,o);else this.createErrorMessage(f,e,k.url!==null?mejs.Utility.absolutizeUrl(k.url):"",n)},determinePlayback:function(a,d,e,f){var c=[],
k,n,j={method:"",url:""},u=a.getAttribute("src"),o,w;if(u=="undefined"||u==""||u===null)u=null;if(typeof d.type!="undefined"&&d.type!=="")c.push({type:d.type,url:u});else if(u!==null){n=this.checkType(u,a.getAttribute("type"),e);c.push({type:n,url:u})}else for(k=0;k<a.childNodes.length;k++){n=a.childNodes[k];if(n.nodeType==1&&n.tagName.toLowerCase()=="source"){u=n.getAttribute("src");n=this.checkType(u,n.getAttribute("type"),e);c.push({type:n,url:u})}}if(mejs.MediaFeatures.isBustedAndroid)a.canPlayType=
function(z){return z.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(f&&(d.mode==="auto"||d.mode==="native"))for(k=0;k<c.length;k++)if(a.canPlayType(c[k].type).replace(/no/,"")!==""||a.canPlayType(c[k].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){j.method="native";j.url=c[k].url;return j}if(d.mode==="auto"||d.mode==="shim")for(k=0;k<c.length;k++){n=c[k].type;for(a=0;a<d.plugins.length;a++){u=d.plugins[a];o=mejs.plugins[u];for(e=0;e<o.length;e++){w=o[e];if(mejs.PluginDetector.hasPluginVersion(u,
w.version))for(f=0;f<w.types.length;f++)if(n==w.types[f]){j.method=u;j.url=c[k].url;return j}}}}if(j.method==="")j.url=c[0].url;return j},checkType:function(a,d,e){if(a&&!d){a=a.substring(a.lastIndexOf(".")+1);return(e?"video":"audio")+"/"+a}else return d&&~d.indexOf(";")?d.substr(0,d.indexOf(";")):d},createErrorMessage:function(a,d,e,f){var c=document.createElement("div");c.className="me-cannotplay";try{c.style.width=a.width+"px";c.style.height=a.height+"px"}catch(k){}c.innerHTML=f!==""?'<a href="'+
e+'" target="_blank"><img src="'+f+'" /></a>':'<a href="'+e+'" target="_blank"><span>Download File</span></a>';a.parentNode.insertBefore(c,a);a.style.display="none";d.error(a)},createPlugin:function(a,d,e,f,c,k,n,j,u){var o=k=1,w="me_"+f+"_"+mejs.meIndex++,z=new mejs.PluginMediaElement(w,f,c),A=document.createElement("div"),L;for(L=a.parentNode;L!==null&&L.tagName.toLowerCase()!="body";){if(L.parentNode.tagName.toLowerCase()=="p"){L.parentNode.parentNode.insertBefore(L,L.parentNode);break}L=L.parentNode}if(e){k=
d.videoWidth>0?d.videoWidth:a.getAttribute("width")!==null?a.getAttribute("width"):d.defaultVideoWidth;o=d.videoHeight>0?d.videoHeight:a.getAttribute("height")!==null?a.getAttribute("height"):d.defaultVideoHeight}else if(d.enablePluginDebug){k=320;o=240}z.success=d.success;mejs.MediaPluginBridge.registerPluginElement(w,z,a);A.className="me-plugin";a.parentNode.insertBefore(A,a);e=["id="+w,"isvideo="+(e?"true":"false"),"autoplay="+(n?"true":"false"),"preload="+j,"width="+k,"startvolume="+d.startVolume,
"timerrate="+d.timerRate,"height="+o];if(c!==null)f=="flash"?e.push("file="+mejs.Utility.encodeUrl(c)):e.push("file="+c);d.enablePluginDebug&&e.push("debug=true");d.enablePluginSmoothing&&e.push("smoothing=true");u&&e.push("controls=true");switch(f){case "silverlight":A.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+w+'" name="'+w+'" width="'+k+'" height="'+o+'"><param name="initParams" value="'+e.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+
d.pluginPath+d.silverlightName+'" /></object>';break;case "flash":if(mejs.MediaFeatures.isIE){f=document.createElement("div");A.appendChild(f);f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+w+'" width="'+k+'" height="'+o+'"><param name="movie" value="'+d.pluginPath+d.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+e.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else A.innerHTML=
'<embed id="'+w+'" name="'+w+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+d.pluginPath+d.flashName+'" flashvars="'+e.join("&")+'" width="'+k+'" height="'+o+'"></embed>';break}a.style.display="none";return z},updateNative:function(a,d){for(var e in mejs.HtmlMediaElement)a[e]=mejs.HtmlMediaElement[e];d.success(a,a);
return a}};window.mejs=mejs;window.MediaElement=mejs.MediaElement;if(typeof jQuery!="undefined")mejs.$=jQuery;else if(typeof ender!="undefined")mejs.$=ender;
(function(a){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,audioWidth:400,audioHeight:30,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,alwaysShowControls:false,iPadUseNativeControls:true,features:["playpause","current","progress","duration","tracks","volume","fullscreen"]};mejs.mepIndex=0;mejs.MediaElementPlayer=function(d,e){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(d,e);var f=this;
f.options=a.extend({},mejs.MepDefaults,e);f.$media=f.$node=a(d);f.node=f.media=f.$media[0];if(typeof f.node.player!="undefined")return f.node.player;else f.node.player=f;f.isVideo=f.media.tagName.toLowerCase()==="video";f.init();return f};mejs.MediaElementPlayer.prototype={init:function(){var d=this,e=mejs.MediaFeatures,f=a.extend(true,{},d.options,{success:function(c,k){d.meReady(c,k)},error:function(c){d.handleError(c)}});if(e.isiPad&&d.options.iPadUseNativeControls||e.isiPhone){d.$media.attr("controls",
"controls");d.$media.removeAttr("poster");if(e.isiPad&&d.media.getAttribute("autoplay")!==null){d.media.load();d.media.play()}}else if(!(e.isAndroid&&d.isVideo)){d.$media.removeAttr("controls");d.id="mep_"+mejs.mepIndex++;d.container=a('<div id="'+d.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(d.$media[0].className).insertBefore(d.$media);
d.container.find(".mejs-mediaelement").append(d.$media);d.controls=d.container.find(".mejs-controls");d.layers=d.container.find(".mejs-layers");if(d.isVideo){d.width=d.options.videoWidth>0?d.options.videoWidth:d.$media[0].getAttribute("width")!==null?d.$media.attr("width"):d.options.defaultVideoWidth;d.height=d.options.videoHeight>0?d.options.videoHeight:d.$media[0].getAttribute("height")!==null?d.$media.attr("height"):d.options.defaultVideoHeight}else{d.width=d.options.audioWidth;d.height=d.options.audioHeight}d.setPlayerSize(d.width,
d.height);f.pluginWidth=d.height;f.pluginHeight=d.width}mejs.MediaElement(d.$media[0],f)},meReady:function(d,e){var f=this,c=mejs.MediaFeatures,k;if(!f.created){f.created=true;f.media=d;f.domNode=e;if(!c.isiPhone&&!c.isAndroid&&!(c.isiPad&&f.options.iPadUseNativeControls)){f.buildposter(f,f.controls,f.layers,f.media);f.buildoverlays(f,f.controls,f.layers,f.media);f.findTracks();for(k in f.options.features){d=f.options.features[k];if(f["build"+d])try{f["build"+d](f,f.controls,f.layers,f.media)}catch(n){}}f.container.trigger("controlsready");
f.setPlayerSize(f.width,f.height);f.setControlsSize();if(f.isVideo){f.container.bind("mouseenter",function(){if(!f.options.alwaysShowControls){f.controls.css("visibility","visible");f.controls.stop(true,true).fadeIn(200)}}).bind("mouseleave",function(){!f.media.paused&&!f.options.alwaysShowControls&&f.controls.stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})});f.domNode.getAttribute("autoplay")!==null&&!f.options.alwaysShowControls&&f.controls.css("visibility",
"hidden");f.options.enableAutosize&&f.media.addEventListener("loadedmetadata",function(j){if(f.options.videoHeight<=0&&f.domNode.getAttribute("height")===null&&!isNaN(j.target.videoHeight)){f.setPlayerSize(j.target.videoWidth,j.target.videoHeight);f.setControlsSize();f.media.setVideoSize(j.target.videoWidth,j.target.videoHeight)}},false)}f.media.addEventListener("ended",function(){f.media.setCurrentTime(0);f.media.pause();f.setProgressRail&&f.setProgressRail();f.setCurrentRail&&f.setCurrentRail();
if(f.options.loop)f.media.play();else f.options.alwaysShowControls||f.controls.css("visibility","visible")},true);f.media.addEventListener("loadedmetadata",function(){f.updateDuration&&f.updateDuration();f.updateCurrent&&f.updateCurrent();f.setControlsSize()},true);setTimeout(function(){f.setControlsSize();f.setPlayerSize(f.width,f.height)},50)}f.options.success&&f.options.success(f.media,f.domNode)}},handleError:function(d){this.options.error&&this.options.error(d)},setPlayerSize:function(d,e){var f=
this;f.width=parseInt(d,10);f.height=parseInt(e,10);f.container.width(f.width).height(f.height);f.layers.children(".mejs-layer").width(f.width).height(f.height)},setControlsSize:function(){var d=this,e=0,f=0,c=d.controls.find(".mejs-time-rail"),k=d.controls.find(".mejs-time-total");d.controls.find(".mejs-time-current");d.controls.find(".mejs-time-loaded");others=c.siblings();others.each(function(){if(a(this).css("position")!="absolute")e+=a(this).outerWidth(true)});f=d.controls.width()-e-(c.outerWidth(true)-
c.outerWidth(false));c.width(f);k.width(f-(k.outerWidth(true)-k.width()));d.setProgressRail&&d.setProgressRail();d.setCurrentRail&&d.setCurrentRail()},buildposter:function(d,e,f,c){var k=a('<div class="mejs-poster mejs-layer"><img /></div>').appendTo(f);e=d.$media.attr("poster");f=k.find("img").width(d.width).height(d.height);if(d.options.poster!="")f.attr("src",d.options.poster);else e!==""&&e!=null?f.attr("src",e):k.remove();c.addEventListener("play",function(){k.hide()},false)},buildoverlays:function(d,
e,f,c){if(d.isVideo){var k=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(f),n=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(f),j=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(f).click(function(){c.paused?c.play():c.pause()});c.addEventListener("play",function(){j.hide();n.hide()},false);c.addEventListener("pause",
function(){j.show()},false);c.addEventListener("loadstart",function(){mejs.MediaFeatures.isChrome&&c.getAttribute&&c.getAttribute("preload")==="none"||k.show()},false);c.addEventListener("canplay",function(){k.hide()},false);c.addEventListener("error",function(){k.hide();n.show();n.find("mejs-overlay-error").html("Error loading this resource")},false)}},findTracks:function(){var d=this,e=d.$media.find("track");d.tracks=[];e.each(function(){d.tracks.push({srclang:a(this).attr("srclang").toLowerCase(),
src:a(this).attr("src"),kind:a(this).attr("kind"),entries:[],isLoaded:false})})},changeSkin:function(d){this.container[0].className="mejs-container "+d;this.setPlayerSize();this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(d){this.media.setMuted(d)},setCurrentTime:function(d){this.media.setCurrentTime(d)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(d){this.media.setVolume(d)},
getVolume:function(){return this.media.volume},setSrc:function(d){this.media.setSrc(d)}};if(typeof jQuery!="undefined")jQuery.fn.mediaelementplayer=function(d){return this.each(function(){new mejs.MediaElementPlayer(this,d)})};window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildplaypause=function(d,e,f,c){var k=a('<div class="mejs-button mejs-playpause-button mejs-play" type="button"><button type="button"></button></div>').appendTo(e).click(function(n){n.preventDefault();c.paused?c.play():c.pause();return false});c.addEventListener("play",function(){k.removeClass("mejs-play").addClass("mejs-pause")},false);c.addEventListener("playing",function(){k.removeClass("mejs-play").addClass("mejs-pause")},false);c.addEventListener("pause",
function(){k.removeClass("mejs-pause").addClass("mejs-play")},false);c.addEventListener("paused",function(){k.removeClass("mejs-pause").addClass("mejs-play")},false)}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildstop=function(d,e,f,c){a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button"></button></div>').appendTo(e).click(function(){c.paused||c.pause();if(c.currentTime>0){c.setCurrentTime(0);e.find(".mejs-time-current").width("0px");e.find(".mejs-time-handle").css("left","0px");e.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));e.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));f.find(".mejs-poster").show()}})}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildprogress=function(d,e,f,c){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(e);f=this;var k=e.find(".mejs-time-total"),n=e.find(".mejs-time-loaded"),j=e.find(".mejs-time-current"),
u=e.find(".mejs-time-handle"),o=e.find(".mejs-time-float"),w=e.find(".mejs-time-float-current"),z=function(E){E=E.pageX;var Q=k.offset(),G=k.outerWidth(),D=0;D=0;if(E>Q.left&&E<=G+Q.left&&c.duration){D=(E-Q.left)/G;D=D<=0.02?0:D*c.duration;A&&c.setCurrentTime(D);o.css("left",E-Q.left);w.html(mejs.Utility.secondsToTimeCode(D))}},A=false,L=false;k.bind("mousedown",function(E){A=true;z(E);return false});e.find(".mejs-time-rail").bind("mouseenter",function(){L=true}).bind("mouseleave",function(){L=false});
a(document).bind("mouseup",function(){A=false}).bind("mousemove",function(E){if(A||L)z(E)});c.addEventListener("progress",function(E){d.setProgressRail(E);d.setCurrentRail(E)},false);c.addEventListener("timeupdate",function(E){d.setProgressRail(E);d.setCurrentRail(E)},false);f.loaded=n;f.total=k;f.current=j;f.handle=u};MediaElementPlayer.prototype.setProgressRail=function(d){var e=this,f=d!=undefined?d.target:e.media,c=null;if(f&&f.buffered&&f.buffered.length>0&&f.buffered.end&&f.duration)c=f.buffered.end(0)/
f.duration;else if(f&&f.bytesTotal!=undefined&&f.bytesTotal>0&&f.bufferedBytes!=undefined)c=f.bufferedBytes/f.bytesTotal;else if(d&&d.lengthComputable&&d.total!=0)c=d.loaded/d.total;if(c!==null){c=Math.min(1,Math.max(0,c));e.loaded&&e.total&&e.loaded.width(e.total.width()*c)}};MediaElementPlayer.prototype.setCurrentRail=function(){var d=this;if(d.media.currentTime!=undefined&&d.media.duration)if(d.total&&d.handle){var e=d.total.width()*d.media.currentTime/d.media.duration,f=e-d.handle.outerWidth(true)/
2;d.current.width(e);d.handle.css("left",f)}}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildcurrent=function(d,e,f,c){f=this;a('<div class="mejs-time"><span class="mejs-currenttime">'+(d.options.alwaysShowHours?"00:":"")+"00:00</span></div>").appendTo(e);f.currenttime=f.controls.find(".mejs-currenttime");c.addEventListener("timeupdate",function(){d.updateCurrent()},false)};MediaElementPlayer.prototype.buildduration=function(d,e,f,c){f=this;if(e.children().last().find(".mejs-currenttime").length>0)a(' <span> | </span> <span class="mejs-duration">'+
(d.options.alwaysShowHours?"00:":"")+"00:00</span>").appendTo(e.find(".mejs-time"));else{e.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(d.options.alwaysShowHours?"00:":"")+"00:00</span></div>").appendTo(e)}f.durationD=f.controls.find(".mejs-duration");c.addEventListener("timeupdate",function(){d.updateDuration()},false)};MediaElementPlayer.prototype.updateCurrent=function(){var d=this;if(d.currenttime)d.currenttime.html(mejs.Utility.secondsToTimeCode(d.media.currentTime|
0,d.options.alwaysShowHours||d.media.duration>3600))};MediaElementPlayer.prototype.updateDuration=function(){var d=this;d.media.duration&&d.durationD&&d.durationD.html(mejs.Utility.secondsToTimeCode(d.media.duration,d.options.alwaysShowHours))}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildvolume=function(d,e,f,c){var k=a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(e);e=k.find(".mejs-volume-slider");var n=k.find(".mejs-volume-total"),j=k.find(".mejs-volume-current"),u=k.find(".mejs-volume-handle"),o=function(A){A=n.height()-n.height()*
A;u.css("top",A-u.height()/2);j.height(n.height()-A+parseInt(n.css("top").replace(/px/,""),10));j.css("top",A)},w=function(A){var L=n.height(),E=n.offset(),Q=parseInt(n.css("top").replace(/px/,""),10);A=A.pageY-E.top;E=(L-A)/L;if(A<0)A=0;else if(A>L)A=L;u.css("top",A-u.height()/2+Q);j.height(L-A);j.css("top",A+Q);if(E==0){c.setMuted(true);k.removeClass("mejs-mute").addClass("mejs-unmute")}else{c.setMuted(false);k.removeClass("mejs-unmute").addClass("mejs-mute")}E=Math.max(0,E);E=Math.min(E,1);c.setVolume(E)},
z=false;e.bind("mousedown",function(A){w(A);z=true;return false});a(document).bind("mouseup",function(){z=false}).bind("mousemove",function(A){z&&w(A)});k.find("button").click(function(){if(c.muted){c.setMuted(false);k.removeClass("mejs-unmute").addClass("mejs-mute");o(1)}else{c.setMuted(true);k.removeClass("mejs-mute").addClass("mejs-unmute");o(0)}});c.addEventListener("volumechange",function(A){z||o(A.target.volume)},true);o(d.options.startVolume);c.pluginType==="native"&&c.setVolume(d.options.startVolume)}})(mejs.$);
(function(a){mejs.MediaElementDefaults.forcePluginFullScreen=false;MediaElementPlayer.prototype.isFullScreen=false;MediaElementPlayer.prototype.buildfullscreen=function(d,e,f,c){if(d.isVideo){mejs.MediaFeatures.hasNativeFullScreen&&d.container.bind("webkitfullscreenchange",function(){document.webkitIsFullScreen?d.setControlsSize():d.exitFullScreen()});var k=0,n=0,j=d.container,u=document.documentElement,o,w=a('<div class="mejs-button mejs-fullscreen-button"><button type="button"></button></div>').appendTo(e).click(function(){(mejs.MediaFeatures.hasNativeFullScreen?
document.webkitIsFullScreen:d.isFullScreen)?d.exitFullScreen():d.enterFullScreen()});d.enterFullScreen=function(){if(d.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||d.options.forcePluginFullScreen))c.setFullscreen(true);else{mejs.MediaFeatures.hasNativeFullScreen&&d.container[0].webkitRequestFullScreen();o=u.style.overflow;u.style.overflow="hidden";k=d.container.height();n=d.container.width();j.addClass("mejs-container-fullscreen").width("100%").height("100%").css("z-index",1E3);if(d.pluginType===
"native")d.$media.width("100%").height("100%");else{j.find("object embed").width("100%").height("100%");d.media.setVideoSize(a(window).width(),a(window).height())}f.children("div").width("100%").height("100%");w.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");d.setControlsSize();d.isFullScreen=true}};d.exitFullScreen=function(){if(d.pluginType!=="native"&&mejs.MediaFeatures.isFirefox)c.setFullscreen(false);else{mejs.MediaFeatures.hasNativeFullScreen&&document.webkitIsFullScreen&&document.webkitCancelFullScreen();
u.style.overflow=o;j.removeClass("mejs-container-fullscreen").width(n).height(k).css("z-index",1);if(d.pluginType==="native")d.$media.width(n).height(k);else{j.find("object embed").width(n).height(k);d.media.setVideoSize(n,k)}f.children("div").width(n).height(k);w.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");d.setControlsSize();d.isFullScreen=false}};a(window).bind("resize",function(){d.setControlsSize()});a(document).bind("keydown",function(z){d.isFullScreen&&z.keyCode==27&&d.exitFullScreen()})}}})(mejs.$);
(function(a){a.extend(mejs.MepDefaults,{startLanguage:"",translations:[],translationSelector:false,googleApiKey:""});a.extend(MediaElementPlayer.prototype,{buildtracks:function(d,e,f,c){if(d.isVideo)if(d.tracks.length!=0){var k,n="";d.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(f).hide();d.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(f).hide();d.captionsText=d.captions.find(".mejs-captions-text");
d.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" ></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+d.id+'_captions" id="'+d.id+'_captions_none" value="none" checked="checked" /><label for="'+d.id+'_captions_none">None</label></li></ul></div></button>').appendTo(e).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")d.selectedTrack=null;else for(k=0;k<d.tracks.length;k++)if(d.tracks[k].srclang==lang){d.selectedTrack=
d.tracks[k];d.captions.attr("lang",d.selectedTrack.srclang);d.displayCaptions();break}});d.options.alwaysShowControls?d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):d.container.bind("mouseenter",function(){d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){c.paused||d.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});d.trackToLoad=-1;d.selectedTrack=null;d.isLoadingTrack=
false;if(d.tracks.length>0&&d.options.translations.length>0)for(k=0;k<d.options.translations.length;k++)d.tracks.push({srclang:d.options.translations[k].toLowerCase(),src:null,kind:"subtitles",entries:[],isLoaded:false,isTranslation:true});for(k=0;k<d.tracks.length;k++)d.tracks[k].kind=="subtitles"&&d.addTrackButton(d.tracks[k].srclang,d.tracks[k].isTranslation);d.loadNextTrack();c.addEventListener("timeupdate",function(){d.displayCaptions()},false);c.addEventListener("loadedmetadata",function(){d.displayChapters()},
false);d.container.hover(function(){d.chapters.css("visibility","visible");d.chapters.fadeIn(200)},function(){c.paused||d.chapters.fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})});d.node.getAttribute("autoplay")!==null&&d.chapters.css("visibility","hidden");if(d.options.translationSelector){for(k in mejs.language.codes)n+='<option value="'+k+'">'+mejs.language.codes[k]+"</option>";d.container.find(".mejs-captions-selector ul").before(a('<select class="mejs-captions-translations"><option value="">--Add Translation--</option>'+
n+"</select>"));d.container.find(".mejs-captions-translations").change(function(){lang=a(this).val();if(lang!=""){d.tracks.push({srclang:lang,src:null,entries:[],isLoaded:false,isTranslation:true});if(!d.isLoadingTrack){d.trackToLoad--;d.addTrackButton(lang,true);d.options.startLanguage=lang;d.loadNextTrack()}}})}}},loadNextTrack:function(){var d=this;d.trackToLoad++;if(d.trackToLoad<d.tracks.length){d.isLoadingTrack=true;d.loadTrack(d.trackToLoad)}else d.isLoadingTrack=false},loadTrack:function(d){var e=
this,f=e.tracks[d],c=function(){f.isLoaded=true;e.enableTrackButton(f.srclang);e.loadNextTrack()};f.isTranslation?mejs.TrackFormatParser.translateTrackText(e.tracks[0].entries,e.tracks[0].srclang,f.srclang,e.options.googleApiKey,function(k){f.entries=k;c()}):a.ajax({url:f.src,success:function(k){f.entries=mejs.TrackFormatParser.parse(k);c();f.kind=="chapters"&&e.media.duration>0&&e.drawChapters(f)},error:function(){e.loadNextTrack()}})},enableTrackButton:function(d){var e=this;e.captionsButton.find("input[value="+
d+"]").prop("disabled",false).siblings("label").html(mejs.language.codes[d]||d);e.options.startLanguage==d&&a("#"+e.id+"_captions_"+d).click();e.adjustLanguageBox()},addTrackButton:function(d,e){var f=this,c=mejs.language.codes[d]||d;f.captionsButton.find("ul").append(a('<li><input type="radio" name="'+f.id+'_captions" id="'+f.id+"_captions_"+d+'" value="'+d+'" disabled="disabled" /><label for="'+f.id+"_captions_"+d+'">'+c+(e?" (translating)":" (loading)")+"</label></li>"));f.adjustLanguageBox();
f.container.find(".mejs-captions-translations option[value="+d+"]").remove()},adjustLanguageBox:function(){var d=this;d.captionsButton.find(".mejs-captions-selector").height(d.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+d.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var d=this,e,f=d.selectedTrack;if(f!=null&&f.isLoaded)for(e=0;e<f.entries.times.length;e++)if(d.media.currentTime>=f.entries.times[e].start&&
d.media.currentTime<=f.entries.times[e].stop){d.captionsText.html(f.entries.text[e]);d.captions.show();return}d.captions.hide()}},displayChapters:function(){var d=this,e;for(e=0;e<d.tracks.length;e++)if(d.tracks[e].kind=="chapters"&&d.tracks[e].isLoaded){d.drawChapters(d.tracks[e]);break}},drawChapters:function(d){var e=this,f,c,k=c=0;e.chapters.empty();for(f=0;f<d.entries.times.length;f++){c=d.entries.times[f].stop-d.entries.times[f].start;c=Math.floor(c/e.media.duration*100);if(c+k>100||f==d.entries.times.length-
1&&c+k<100)c=100-k;e.chapters.append(a('<div class="mejs-chapter" rel="'+d.entries.times[f].start+'" style="left: '+k.toString()+"%;width: "+c.toString()+'%;"><div class="mejs-chapter-block'+(f==d.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+d.entries.text[f]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(d.entries.times[f].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(d.entries.times[f].stop)+"</span></div></div>"));k+=c}e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(a(this).attr("rel")));
e.media.paused&&e.media.play()});e.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",
ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}(,[0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}(,[0-9]{3})?)(.*)$/,
split2:function(d,e){return d.split(e)},parse:function(d){var e=0;d=this.split2(d,/\r?\n/);for(var f={text:[],times:[]},c,k;e<d.length;e++)if(this.pattern_identifier.exec(d[e])){e++;if((c=this.pattern_timecode.exec(d[e]))&&e<d.length){e++;k=d[e];for(e++;d[e]!==""&&e<d.length;){k=k+"\n"+d[e];e++}f.text.push(k);f.times.push({start:mejs.Utility.timeCodeToSeconds(c[1]),stop:mejs.Utility.timeCodeToSeconds(c[3]),settings:c[5]})}}return f},translateTrackText:function(d,e,f,c,k){var n={text:[],times:[]},
j,u;this.translateText(d.text.join(" <a></a>"),e,f,c,function(o){j=o.split("<a></a>");for(u=0;u<d.text.length;u++){n.text[u]=j[u];n.times[u]={start:d.times[u].start,stop:d.times[u].stop,settings:d.times[u].settings}}k(n)})},translateText:function(d,e,f,c,k){for(var n,j=[],u,o="",w=function(){if(j.length>0){u=j.shift();mejs.TrackFormatParser.translateChunk(u,e,f,c,function(z){if(z!="undefined")o+=z;w()})}else k(o)};d.length>0;)if(d.length>1E3){n=d.lastIndexOf(".",1E3);j.push(d.substring(0,n));d=d.substring(n+
1)}else{j.push(d);d=""}w()},translateChunk:function(d,e,f,c,k){d={q:d,langpair:e+"|"+f,v:"1.0"};if(c!==""&&c!==null)d.key=c;a.ajax({url:"https://ajax.googleapis.com/ajax/services/language/translate",data:d,type:"GET",dataType:"jsonp",success:function(n){k(n.responseData.translatedText)},error:function(){k(null)}})}};if("x\n\ny".split(/\n/gi).length!=3)mejs.TrackFormatParser.split2=function(d,e){var f=[],c="",k;for(k=0;k<d.length;k++){c+=d.substring(k,k+1);if(e.test(c)){f.push(c.replace(e,""));c=""}}f.push(c);
return f}})(mejs.$);steal.loaded("webapp/lib/mediaelement/mediaelement-and-player.js");
(function(a){var d={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:5E3,text:"",sticky:false,type:"notice",position:"top-right",closeText:"",close:null},e={init:function(f){f&&a.extend(d,f)},showToast:function(f){var c={};a.extend(c,d,f);var k,n;f=!a(".toast-container").length?a("<div></div>").addClass("toast-container").addClass("toast-position-"+c.position).appendTo("body"):a(".toast-container");k=a("<div></div>").addClass("toast-item-wrapper");n=a("<div></div>").hide().addClass("toast-item toast-type-"+
c.type).appendTo(f).html("<p>"+c.text+"</p>").animate(c.inEffect,c.inEffectDuration).wrap(k);a("<div></div>").addClass("toast-item-close").prependTo(n).html(c.closeText).click(function(){a().toastmessage("removeToast",n,c)});a("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+c.type).prependTo(n);navigator.userAgent.match(/MSIE 6/i)&&f.css({top:document.documentElement.scrollTop});c.sticky||setTimeout(function(){a().toastmessage("removeToast",n,c)},c.stayTime);return n},showNoticeToast:function(f){f=
{text:f,type:"notice"};return a().toastmessage("showToast",f)},showSuccessToast:function(f){f={text:f,type:"success"};return a().toastmessage("showToast",f)},showErrorToast:function(f){f={text:f,type:"error"};return a().toastmessage("showToast",f)},showWarningToast:function(f){f={text:f,type:"warning"};return a().toastmessage("showToast",f)},removeToast:function(f,c){f.animate({opacity:"0"},600,function(){f.parent().animate({height:"0px"},300,function(){f.parent().remove()})});c&&c.close!==null&&
c.close()}};a.fn.toastmessage=function(f){if(e[f])return e[f].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof f==="object"||!f)return e.init.apply(this,arguments);else a.error("Method "+f+" does not exist on jQuery.toastmessage")}})(jQuery);steal.loaded("webapp/lib/toast/jquery.toastmessage.js");
(function(a){a.prompt=function(d,e){e=a.extend({},a.prompt.defaults,e);a.prompt.currentPrefix=e.prefix;var f=a.browser.msie&&a.browser.version<7,c=a(document.body),k=a(window);e.classes=a.trim(e.classes);if(e.classes!="")e.classes=" "+e.classes;var n='<div class="'+e.prefix+"box"+e.classes+'" id="'+e.prefix+'box">';if(e.useiframe&&(a("object, applet").length>0||f))n+='<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="'+e.prefix+'fade" id="'+e.prefix+'fade"></iframe>';
else{f&&a("select").css("visibility","hidden");n+='<div class="'+e.prefix+'fade" id="'+e.prefix+'fade"></div>'}n+='<div class="'+e.prefix+'" id="'+e.prefix+'"><div class="'+e.prefix+'container"><div class="';n+=e.prefix+'close ui-btn-left ui-btn ui-btn-up-a ui-btn-icon-notext ui-btn-corner-all ui-shadow"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">Close</span><span class="ui-icon ui-icon-delete ui-icon-shadow"></span></span></div><div id="'+e.prefix+'states" class="ui-content ui-body-c ui-corner-bottom ui-overlay-shadow ui-body-a"></div>';
n+="</div></div></div>";var j=a(n).appendTo(c),u=j.children("#"+e.prefix),o=j.children("#"+e.prefix+"fade");if(d.constructor==String)d={state0:{html:d,buttons:e.buttons,focus:e.focus,submit:e.submit}};var w="";a.each(d,function(G,D){D=a.extend({},a.prompt.defaults.state,D);d[G]=D;w+='<div id="'+e.prefix+"_state_"+G+'" class="'+e.prefix+'_state" style="display:none;"><div class="'+e.prefix+'message">'+D.html+'</div><div class="'+e.prefix+'buttons">';a.each(D.buttons,function(C,s){w+=typeof s=="object"?
'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+G+"_button"+s.title.replace(/[^a-z0-9]+/gi,"")+'" id="'+e.prefix+"_"+G+"_button"+s.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+s.value+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+s.title+"</span></span></button>":'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+G+"_button"+C+'" id="'+e.prefix+"_"+G+"_button"+C+'" value="'+
s+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+C+"</span></span></button>"});w+="</div></div>"});u.find("#"+e.prefix+"states").html(w).children("."+e.prefix+"_state:first").css("display","block");u.find("."+e.prefix+"buttons:empty").css("display","none");a.each(d,function(G,D){var C=u.find("#"+e.prefix+"_state_"+G);C.children("."+e.prefix+"buttons").children("button").click(function(){var s=C.children("."+e.prefix+"message"),q=D.buttons[a(this).text()];if(q==undefined)for(var B in D.buttons)if(D.buttons[B].title==
a(this).text())q=D.buttons[B].value;if(typeof q=="object")q=q.value;var K={};a.each(u.find("#"+e.prefix+"states :input").serializeArray(),function(J,P){if(K[P.name]===undefined)K[P.name]=P.value;else if(typeof K[P.name]==Array||typeof K[P.name]=="object")K[P.name].push(P.value);else K[P.name]=[K[P.name],P.value]});B=D.submit(q,s,K);if(B===undefined||B)Q(true,q,s,K)});C.find("."+e.prefix+"buttons button:eq("+D.focus+")").addClass(e.prefix+"defaultbutton")});var z=function(){j.css({top:k.scrollTop()})},
A=function(){if(e.persistent){var G=0;j.addClass(e.prefix+"warning");var D=setInterval(function(){j.toggleClass(e.prefix+"warning");if(G++>1){clearInterval(D);j.removeClass(e.prefix+"warning")}},100)}else Q()},L=function(G){var D=window.event?event.keyCode:G.keyCode;D==27&&A();if(D==9){var C=a(":input:enabled:visible",j),s=G.shiftKey&&G.target==C[0];if(!G.shiftKey&&G.target==C[C.length-1]||s){setTimeout(function(){if(C){var q=C[s===true?C.length-1:0];q&&q.focus()}},10);return false}}},E=function(){j.css({position:f?
"absolute":"fixed",height:k.height(),width:"100%",top:f?k.scrollTop():0,left:0,right:0,bottom:0});o.css({position:"absolute",height:k.height(),width:"100%",top:0,left:0,right:0,bottom:0});u.css({position:"absolute",top:e.top,left:"50%",marginLeft:u.outerWidth()/2*-1})},Q=function(G,D,C,s){u.remove();f&&c.unbind("scroll",z);k.unbind("resize",E);o.fadeOut(e.overlayspeed,function(){o.unbind("click",A);o.remove();G&&e.callback(D,C,s);j.unbind("keypress",L);j.remove();f&&!e.useiframe&&a("select").css("visibility",
"visible")})};E();(function(){o.css({zIndex:e.zIndex,display:"none",opacity:e.opacity});u.css({zIndex:e.zIndex+1,display:"none"});j.css({zIndex:e.zIndex})})();f&&k.scroll(z);o.click(A);k.resize(E);j.bind("keydown keypress",L);u.find("."+e.prefix+"close").click(Q);o.fadeIn(e.overlayspeed);u[e.show](e.promptspeed,e.loaded);u.find("#"+e.prefix+"states ."+e.prefix+"_state:first ."+e.prefix+"defaultbutton").focus();e.timeout>0&&setTimeout(a.prompt.close,e.timeout);return j};a.prompt.defaults={prefix:"jqi",
classes:"",buttons:{Ok:true},loaded:function(){},submit:function(){return true},callback:function(){},overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",focus:0,useiframe:false,top:"15%",persistent:true,timeout:0,state:{html:"",buttons:{Ok:true},focus:0,submit:function(){return true}}};a.prompt.currentPrefix=a.prompt.defaults.prefix;a.prompt.setDefaults=function(d){a.prompt.defaults=a.extend({},a.prompt.defaults,d)};a.prompt.setStateDefaults=function(d){a.prompt.defaults.state=a.extend({},a.prompt.defaults.state,
d)};a.prompt.getStateContent=function(d){return a("#"+a.prompt.currentPrefix+"_state_"+d)};a.prompt.getCurrentState=function(){return a("."+a.prompt.currentPrefix+"_state:visible")};a.prompt.getCurrentStateName=function(){return a.prompt.getCurrentState().attr("id").replace(a.prompt.currentPrefix+"_state_","")};a.prompt.goToState=function(d,e){a("."+a.prompt.currentPrefix+"_state").slideUp("slow");a("#"+a.prompt.currentPrefix+"_state_"+d).slideDown("slow",function(){a(this).find("."+a.prompt.currentPrefix+
"defaultbutton").focus();typeof e=="function"&&e()})};a.prompt.nextState=function(d){var e=a("."+a.prompt.currentPrefix+"_state:visible").next();a("."+a.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+a.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};a.prompt.prevState=function(d){var e=a("."+a.prompt.currentPrefix+"_state:visible").prev();a("."+a.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+
a.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};a.prompt.close=function(){a("#"+a.prompt.currentPrefix+"box").fadeOut("fast",function(){a(this).remove()})};a.fn.prompt=function(d){if(d==undefined)d={};if(d.withDataAndEvents==undefined)d.withDataAndEvents=false;a.prompt(a(this).clone(d.withDataAndEvents).html(),d)}})(jQuery);steal.loaded("webapp/lib/jquery-impromptu.3.1.js");
(function(){var a=Math,d=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",e="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,f="ontouchstart"in window,c=d+"Transform"in document.documentElement.style,k=/android/gi.test(navigator.appVersion),n=/iphone|ipad/gi.test(navigator.appVersion),j=/playbook/gi.test(navigator.appVersion),u=n||j,o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(s){return setTimeout(s,1)}}(),w=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),z="onorientationchange"in window?"orientationchange":"resize",A=f?"touchstart":"mousedown",L=f?"touchmove":"mousemove",E=f?"touchend":"mouseup",Q=f?"touchcancel":"mouseup",
G=d=="Moz"?"DOMMouseScroll":"mousewheel",D="translate"+(e?"3d(":"("),C=e?",0)":")";j=function(s,q){var B=this,K=document,J;B.wrapper=typeof s=="object"?s:K.getElementById(s);B.wrapper.style.overflow="hidden";B.scroller=B.wrapper.children[0];B.options={hScroll:true,vScroll:true,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,hScrollbar:true,vScrollbar:true,fixedScrollbar:k,hideScrollbar:n,fadeScrollbar:n&&e,scrollbarClass:"",
zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(P){P.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(J in q)B.options[J]=q[J];B.options.useTransform=c?B.options.useTransform:false;B.options.hScrollbar=B.options.hScroll&&B.options.hScrollbar;B.options.vScrollbar=
B.options.vScroll&&B.options.vScrollbar;B.options.zoom=B.options.useTransform&&B.options.zoom;B.options.useTransition=u&&B.options.useTransition;B.scroller.style[d+"TransitionProperty"]=B.options.useTransform?"-"+d.toLowerCase()+"-transform":"top left";B.scroller.style[d+"TransitionDuration"]="0";B.scroller.style[d+"TransformOrigin"]="0 0";if(B.options.useTransition)B.scroller.style[d+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)";if(B.options.useTransform)B.scroller.style[d+"Transform"]=
D+"0,0"+C;else B.scroller.style.cssText+=";position:absolute;top:0;left:0";if(B.options.useTransition)B.options.fixedScrollbar=true;B.refresh();B._bind(z,window);B._bind(A);if(!f){B._bind("mouseout",B.wrapper);B._bind(G)}if(B.options.checkDOMChanges)B.checkDOMTime=setInterval(function(){B._checkDOMChanges()},500)};j.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(s){var q=this;switch(s.type){case A:if(!f&&
s.button!==0)return;q._start(s);break;case L:q._move(s);break;case E:case Q:q._end(s);break;case z:q._resize();break;case G:q._wheel(s);break;case "mouseout":q._mouseout(s);break;case "webkitTransitionEnd":q._transitionEnd(s);break}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(s){var q=this,B=document,K;if(q[s+"Scrollbar"]){if(!q[s+
"ScrollbarWrapper"]){K=B.createElement("div");if(q.options.scrollbarClass)K.className=q.options.scrollbarClass+s.toUpperCase();else K.style.cssText="position:absolute;z-index:100;"+(s=="h"?"height:7px;bottom:1px;left:2px;right:"+(q.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(q.hScrollbar?"7":"2")+"px;top:2px;right:1px");K.style.cssText+=";pointer-events:none;-"+d+"-transition-property:opacity;-"+d+"-transition-duration:"+(q.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(q.options.hideScrollbar?
"0":"1");q.wrapper.appendChild(K);q[s+"ScrollbarWrapper"]=K;K=B.createElement("div");if(!q.options.scrollbarClass)K.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+d+"-background-clip:padding-box;-"+d+"-box-sizing:border-box;"+(s=="h"?"height:100%":"width:100%")+";-"+d+"-border-radius:3px;border-radius:3px";K.style.cssText+=";pointer-events:none;-"+d+"-transition-property:-"+d+"-transform;-"+d+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+
d+"-transition-duration:0;-"+d+"-transform:"+D+"0,0"+C;if(q.options.useTransition)K.style.cssText+=";-"+d+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";q[s+"ScrollbarWrapper"].appendChild(K);q[s+"ScrollbarIndicator"]=K}if(s=="h"){q.hScrollbarSize=q.hScrollbarWrapper.clientWidth;q.hScrollbarIndicatorSize=a.max(a.round(q.hScrollbarSize*q.hScrollbarSize/q.scrollerW),8);q.hScrollbarIndicator.style.width=q.hScrollbarIndicatorSize+"px";q.hScrollbarMaxScroll=q.hScrollbarSize-q.hScrollbarIndicatorSize;
q.hScrollbarProp=q.hScrollbarMaxScroll/q.maxScrollX}else{q.vScrollbarSize=q.vScrollbarWrapper.clientHeight;q.vScrollbarIndicatorSize=a.max(a.round(q.vScrollbarSize*q.vScrollbarSize/q.scrollerH),8);q.vScrollbarIndicator.style.height=q.vScrollbarIndicatorSize+"px";q.vScrollbarMaxScroll=q.vScrollbarSize-q.vScrollbarIndicatorSize;q.vScrollbarProp=q.vScrollbarMaxScroll/q.maxScrollY}q._scrollbarPos(s,true)}else if(q[s+"ScrollbarWrapper"]){if(c)q[s+"ScrollbarIndicator"].style[d+"Transform"]="";q[s+"ScrollbarWrapper"].parentNode.removeChild(q[s+
"ScrollbarWrapper"]);q[s+"ScrollbarWrapper"]=null;q[s+"ScrollbarIndicator"]=null}},_resize:function(){var s=this;setTimeout(function(){s.refresh()},k?200:0)},_pos:function(s,q){s=this.hScroll?s:0;q=this.vScroll?q:0;if(this.options.useTransform)this.scroller.style[d+"Transform"]=D+s+"px,"+q+"px"+C+" scale("+this.scale+")";else{s=a.round(s);q=a.round(q);this.scroller.style.left=s+"px";this.scroller.style.top=q+"px"}this.x=s;this.y=q;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(s,
q){var B=this,K=s=="h"?B.x:B.y;if(B[s+"Scrollbar"]){K=B[s+"ScrollbarProp"]*K;if(K<0){if(!B.options.fixedScrollbar){K=B[s+"ScrollbarIndicatorSize"]+a.round(K*3);if(K<8)K=8;B[s+"ScrollbarIndicator"].style[s=="h"?"width":"height"]=K+"px"}K=0}else if(K>B[s+"ScrollbarMaxScroll"])if(B.options.fixedScrollbar)K=B[s+"ScrollbarMaxScroll"];else{K=B[s+"ScrollbarIndicatorSize"]-a.round((K-B[s+"ScrollbarMaxScroll"])*3);if(K<8)K=8;B[s+"ScrollbarIndicator"].style[s=="h"?"width":"height"]=K+"px";K=B[s+"ScrollbarMaxScroll"]+
(B[s+"ScrollbarIndicatorSize"]-K)}B[s+"ScrollbarWrapper"].style[d+"TransitionDelay"]="0";B[s+"ScrollbarWrapper"].style.opacity=q&&B.options.hideScrollbar?"0":"1";B[s+"ScrollbarIndicator"].style[d+"Transform"]=D+(s=="h"?K+"px,0":"0,"+K+"px")+C}},_start:function(s){var q=this,B=f?s.touches[0]:s,K,J;if(q.enabled){q.options.onBeforeScrollStart&&q.options.onBeforeScrollStart.call(q,s);if(q.options.useTransition||q.options.zoom)q._transitionTime(0);q.moved=false;q.animating=false;q.zoomed=false;q.distX=
0;q.distY=0;q.absDistX=0;q.absDistY=0;q.dirX=0;q.dirY=0;if(q.options.zoom&&f&&s.touches.length>1){J=a.abs(s.touches[0].pageX-s.touches[1].pageX);K=a.abs(s.touches[0].pageY-s.touches[1].pageY);q.touchesDistStart=a.sqrt(J*J+K*K);q.originX=a.abs(s.touches[0].pageX+s.touches[1].pageX-q.wrapperOffsetLeft*2)/2-q.x;q.originY=a.abs(s.touches[0].pageY+s.touches[1].pageY-q.wrapperOffsetTop*2)/2-q.y;q.options.onZoomStart&&q.options.onZoomStart.call(q,s)}if(q.options.momentum){if(q.options.useTransform){K=getComputedStyle(q.scroller,
null)[d+"Transform"].replace(/[^0-9-.,]/g,"").split(",");J=K[4]*1;K=K[5]*1}else{J=getComputedStyle(q.scroller,null).left.replace(/[^0-9-]/g,"")*1;K=getComputedStyle(q.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(J!=q.x||K!=q.y){q.options.useTransition?q._unbind("webkitTransitionEnd"):w(q.aniTime);q.steps=[];q._pos(J,K)}}q.absStartX=q.x;q.absStartY=q.y;q.startX=q.x;q.startY=q.y;q.pointX=B.pageX;q.pointY=B.pageY;q.startTime=s.timeStamp||(new Date).getTime();q.options.onScrollStart&&q.options.onScrollStart.call(q,
s);q._bind(L);q._bind(E);q._bind(Q)}},_move:function(s){var q=this,B=f?s.touches[0]:s,K=B.pageX-q.pointX,J=B.pageY-q.pointY,P=q.x+K,Z=q.y+J,X=s.timeStamp||(new Date).getTime();q.options.onBeforeScrollMove&&q.options.onBeforeScrollMove.call(q,s);if(q.options.zoom&&f&&s.touches.length>1){P=a.abs(s.touches[0].pageX-s.touches[1].pageX);Z=a.abs(s.touches[0].pageY-s.touches[1].pageY);q.touchesDist=a.sqrt(P*P+Z*Z);q.zoomed=true;B=1/q.touchesDistStart*q.touchesDist*this.scale;if(B<q.options.zoomMin)B=0.5*
q.options.zoomMin*Math.pow(2,B/q.options.zoomMin);else if(B>q.options.zoomMax)B=2*q.options.zoomMax*Math.pow(0.5,q.options.zoomMax/B);q.lastScale=B/this.scale;P=this.originX-this.originX*q.lastScale+this.x;Z=this.originY-this.originY*q.lastScale+this.y;this.scroller.style[d+"Transform"]=D+P+"px,"+Z+"px"+C+" scale("+B+")";q.options.onZoom&&q.options.onZoom.call(q,s)}else{q.pointX=B.pageX;q.pointY=B.pageY;if(P>0||P<q.maxScrollX)P=q.options.bounce?q.x+K/2:P>=0||q.maxScrollX>=0?0:q.maxScrollX;if(Z>q.minScrollY||
Z<q.maxScrollY)Z=q.options.bounce?q.y+J/2:Z>=q.minScrollY||q.maxScrollY>=0?q.minScrollY:q.maxScrollY;if(q.absDistX<6&&q.absDistY<6){q.distX+=K;q.distY+=J;q.absDistX=a.abs(q.distX);q.absDistY=a.abs(q.distY)}else{if(q.options.lockDirection)if(q.absDistX>q.absDistY+5){Z=q.y;J=0}else if(q.absDistY>q.absDistX+5){P=q.x;K=0}q.moved=true;q._pos(P,Z);q.dirX=K>0?-1:K<0?1:0;q.dirY=J>0?-1:J<0?1:0;if(X-q.startTime>300){q.startTime=X;q.startX=q.x;q.startY=q.y}q.options.onScrollMove&&q.options.onScrollMove.call(q,
s)}}},_end:function(s){if(!(f&&s.touches.length!=0)){var q=this,B=f?s.changedTouches[0]:s,K,J,P={dist:0,time:0},Z={dist:0,time:0},X=(s.timeStamp||(new Date).getTime())-q.startTime,ka=q.x,oa=q.y;q._unbind(L);q._unbind(E);q._unbind(Q);q.options.onBeforeScrollEnd&&q.options.onBeforeScrollEnd.call(q,s);if(q.zoomed){ka=q.scale*q.lastScale;ka=Math.max(q.options.zoomMin,ka);ka=Math.min(q.options.zoomMax,ka);q.lastScale=ka/q.scale;q.scale=ka;q.x=q.originX-q.originX*q.lastScale+q.x;q.y=q.originY-q.originY*
q.lastScale+q.y;q.scroller.style[d+"TransitionDuration"]="200ms";q.scroller.style[d+"Transform"]=D+q.x+"px,"+q.y+"px"+C+" scale("+q.scale+")";q.zoomed=false;q.refresh();q.options.onZoomEnd&&q.options.onZoomEnd.call(q,s)}else{if(q.moved){if(X<300&&q.options.momentum){P=ka?q._momentum(ka-q.startX,X,-q.x,q.scrollerW-q.wrapperW+q.x,q.options.bounce?q.wrapperW:0):P;Z=oa?q._momentum(oa-q.startY,X,-q.y,q.maxScrollY<0?q.scrollerH-q.wrapperH+q.y-q.minScrollY:0,q.options.bounce?q.wrapperH:0):Z;ka=q.x+P.dist;
oa=q.y+Z.dist;if(q.x>0&&ka>0||q.x<q.maxScrollX&&ka<q.maxScrollX)P={dist:0,time:0};if(q.y>q.minScrollY&&oa>q.minScrollY||q.y<q.maxScrollY&&oa<q.maxScrollY)Z={dist:0,time:0}}if(P.dist||Z.dist){X=a.max(a.max(P.time,Z.time),10);if(q.options.snap){P=ka-q.absStartX;Z=oa-q.absStartY;if(a.abs(P)<q.options.snapThreshold&&a.abs(Z)<q.options.snapThreshold)q.scrollTo(q.absStartX,q.absStartY,200);else{snap=q._snap(ka,oa);ka=snap.x;oa=snap.y;X=a.max(snap.time,X)}}q.scrollTo(ka,oa,X)}else if(q.options.snap){P=ka-
q.absStartX;Z=oa-q.absStartY;if(a.abs(P)<q.options.snapThreshold&&a.abs(Z)<q.options.snapThreshold)q.scrollTo(q.absStartX,q.absStartY,200);else{snap=q._snap(q.x,q.y);if(snap.x!=q.x||snap.y!=q.y)q.scrollTo(snap.x,snap.y,snap.time)}}else q._resetPos(200)}else{if(f)if(q.doubleTapTimer&&q.options.zoom){clearTimeout(q.doubleTapTimer);q.doubleTapTimer=null;q.options.onZoomStart&&q.options.onZoomStart.call(q,s);q.zoom(q.pointX,q.pointY,q.scale==1?q.options.doubleTapZoom:1);q.options.onZoomEnd&&setTimeout(function(){q.options.onZoomEnd.call(q,
s)},200)}else q.doubleTapTimer=setTimeout(function(){q.doubleTapTimer=null;for(K=B.target;K.nodeType!=1;)K=K.parentNode;if(K.tagName!="SELECT"&&K.tagName!="INPUT"&&K.tagName!="TEXTAREA"){J=document.createEvent("MouseEvents");J.initMouseEvent("click",true,true,s.view,1,B.screenX,B.screenY,B.clientX,B.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,0,null);J._fake=true;K.dispatchEvent(J)}},q.options.zoom?250:0);q._resetPos(200)}q.options.onTouchEnd&&q.options.onTouchEnd.call(q,s)}}},_resetPos:function(s){var q=
this,B=q.x>=0?0:q.x<q.maxScrollX?q.maxScrollX:q.x,K=q.y>=q.minScrollY||q.maxScrollY>0?q.minScrollY:q.y<q.maxScrollY?q.maxScrollY:q.y;if(B==q.x&&K==q.y){if(q.moved){q.moved=false;q.options.onScrollEnd&&q.options.onScrollEnd.call(q)}if(q.hScrollbar&&q.options.hideScrollbar){if(d=="webkit")q.hScrollbarWrapper.style[d+"TransitionDelay"]="300ms";q.hScrollbarWrapper.style.opacity="0"}if(q.vScrollbar&&q.options.hideScrollbar){if(d=="webkit")q.vScrollbarWrapper.style[d+"TransitionDelay"]="300ms";q.vScrollbarWrapper.style.opacity=
"0"}}else q.scrollTo(B,K,s||0)},_wheel:function(s){var q=this,B,K;if("wheelDeltaX"in s){B=s.wheelDeltaX/12;K=s.wheelDeltaY/12}else B="detail"in s?(K=-s.detail*3):(K=-s.wheelDelta);if(q.options.wheelAction=="zoom"){K=q.scale*Math.pow(2,1/3*(K?K/Math.abs(K):0));if(K<q.options.zoomMin)K=q.options.zoomMin;if(K>q.options.zoomMax)K=q.options.zoomMax;if(K!=q.scale){!q.wheelZoomCount&&q.options.onZoomStart&&q.options.onZoomStart.call(q,s);q.wheelZoomCount++;q.zoom(s.pageX,s.pageY,K,400);setTimeout(function(){q.wheelZoomCount--;
!q.wheelZoomCount&&q.options.onZoomEnd&&q.options.onZoomEnd.call(q,s)},400)}}else{B=q.x+B;K=q.y+K;if(B>0)B=0;else if(B<q.maxScrollX)B=q.maxScrollX;if(K>q.minScrollY)K=q.minScrollY;else if(K<q.maxScrollY)K=q.maxScrollY;q.scrollTo(B,K,0)}},_mouseout:function(s){var q=s.relatedTarget;if(q)for(;q=q.parentNode;)if(q==this.wrapper)return;this._end(s)},_transitionEnd:function(s){var q=this;if(s.target==q.scroller){q._unbind("webkitTransitionEnd");q._startAni()}},_startAni:function(){var s=this,q=s.x,B=s.y,
K=(new Date).getTime(),J,P;if(!s.animating)if(s.steps.length){J=s.steps.shift();if(J.x==q&&J.y==B)J.time=0;s.animating=true;s.moved=true;if(s.options.useTransition){s._transitionTime(J.time);s._pos(J.x,J.y);s.animating=false;J.time?s._bind("webkitTransitionEnd"):s._resetPos(0)}else(function Z(){var X=(new Date).getTime();if(X>=K+J.time){s._pos(J.x,J.y);s.animating=false;s.options.onAnimationEnd&&s.options.onAnimationEnd.call(s);s._startAni()}else{X=(X-K)/J.time-1;P=a.sqrt(1-X*X);X=(J.x-q)*P+q;s._pos(X,
(J.y-B)*P+B);if(s.animating)s.aniTime=o(Z)}})()}else s._resetPos(400)},_transitionTime:function(s){s+="ms";this.scroller.style[d+"TransitionDuration"]=s;if(this.hScrollbar)this.hScrollbarIndicator.style[d+"TransitionDuration"]=s;if(this.vScrollbar)this.vScrollbarIndicator.style[d+"TransitionDuration"]=s},_momentum:function(s,q,B,K,J){q=a.abs(s)/q;var P=q*q/0.0012,Z=0;Z=0;if(s>0&&P>B){Z=J/(6/(P/q*6.0E-4));B+=Z;q=q*B/P;P=B}else if(s<0&&P>K){Z=J/(6/(P/q*6.0E-4));K+=Z;q=q*K/P;P=K}P*=s<0?-1:1;Z=q/6.0E-4;
return{dist:P,time:a.round(Z)}},_offset:function(s){for(var q=-s.offsetLeft,B=-s.offsetTop;s=s.offsetParent;){q-=s.offsetLeft;B-=s.offsetTop}if(s!=this.wrapper){q*=this.scale;B*=this.scale}return{left:q,top:B}},_snap:function(s,q){var B=this,K,J,P;P=B.pagesX.length-1;K=0;for(J=B.pagesX.length;K<J;K++)if(s>=B.pagesX[K]){P=K;break}P==B.currPageX&&P>0&&B.dirX<0&&P--;s=B.pagesX[P];J=(J=a.abs(s-B.pagesX[B.currPageX]))?a.abs(B.x-s)/J*500:0;B.currPageX=P;P=B.pagesY.length-1;for(K=0;K<P;K++)if(q>=B.pagesY[K]){P=
K;break}P==B.currPageY&&P>0&&B.dirY<0&&P--;q=B.pagesY[P];K=(K=a.abs(q-B.pagesY[B.currPageY]))?a.abs(B.y-q)/K*500:0;B.currPageY=P;B=a.round(a.max(J,K))||200;return{x:s,y:q,time:B}},_bind:function(s,q,B){(q||this.scroller).addEventListener(s,this,!!B)},_unbind:function(s,q,B){(q||this.scroller).removeEventListener(s,this,!!B)},destroy:function(){var s=this;s.scroller.style[d+"Transform"]="";s.hScrollbar=false;s.vScrollbar=false;s._scrollbar("h");s._scrollbar("v");s._unbind(z,window);s._unbind(A);s._unbind(L);
s._unbind(E);s._unbind(Q);if(s.options.hasTouch){s._unbind("mouseout",s.wrapper);s._unbind(G)}s.options.useTransition&&s._unbind("webkitTransitionEnd");s.options.checkDOMChanges&&clearInterval(s.checkDOMTime);s.options.onDestroy&&s.options.onDestroy.call(s)},refresh:function(){var s=this,q,B=0,K=0;if(s.scale<s.options.zoomMin)s.scale=s.options.zoomMin;s.wrapperW=s.wrapper.clientWidth||1;s.wrapperH=s.wrapper.clientHeight||1;s.minScrollY=-s.options.topOffset||0;s.scrollerW=a.round(s.scroller.offsetWidth*
s.scale);s.scrollerH=a.round((s.scroller.offsetHeight+s.minScrollY)*s.scale);s.maxScrollX=s.wrapperW-s.scrollerW;s.maxScrollY=s.wrapperH-s.scrollerH+s.minScrollY;s.dirX=0;s.dirY=0;s.options.onRefresh&&s.options.onRefresh.call(s);s.hScroll=s.options.hScroll&&s.maxScrollX<0;s.vScroll=s.options.vScroll&&(!s.options.bounceLock&&!s.hScroll||s.scrollerH>s.wrapperH);s.hScrollbar=s.hScroll&&s.options.hScrollbar;s.vScrollbar=s.vScroll&&s.options.vScrollbar&&s.scrollerH>s.wrapperH;q=s._offset(s.wrapper);s.wrapperOffsetLeft=
-q.left;s.wrapperOffsetTop=-q.top;if(typeof s.options.snap=="string"){s.pagesX=[];s.pagesY=[];els=s.scroller.querySelectorAll(s.options.snap);i=0;for(l=els.length;i<l;i++){B=s._offset(els[i]);B.left+=s.wrapperOffsetLeft;B.top+=s.wrapperOffsetTop;s.pagesX[i]=B.left<s.maxScrollX?s.maxScrollX:B.left*s.scale;s.pagesY[i]=B.top<s.maxScrollY?s.maxScrollY:B.top*s.scale}}else if(s.options.snap){for(s.pagesX=[];B>=s.maxScrollX;){s.pagesX[K]=B;B-=s.wrapperW;K++}if(s.maxScrollX%s.wrapperW)s.pagesX[s.pagesX.length]=
s.maxScrollX-s.pagesX[s.pagesX.length-1]+s.pagesX[s.pagesX.length-1];K=B=0;for(s.pagesY=[];B>=s.maxScrollY;){s.pagesY[K]=B;B-=s.wrapperH;K++}if(s.maxScrollY%s.wrapperH)s.pagesY[s.pagesY.length]=s.maxScrollY-s.pagesY[s.pagesY.length-1]+s.pagesY[s.pagesY.length-1]}s._scrollbar("h");s._scrollbar("v");if(!s.zoomed){s.scroller.style[d+"TransitionDuration"]="0";s._resetPos(200)}},scrollTo:function(s,q,B,K){var J=this,P=s;J.stop();P.length||(P=[{x:s,y:q,time:B,relative:K}]);s=0;for(q=P.length;s<q;s++){if(P[s].relative){P[s].x=
J.x-P[s].x;P[s].y=J.y-P[s].y}J.steps.push({x:P[s].x,y:P[s].y,time:P[s].time||0})}J._startAni()},scrollToElement:function(s,q){var B=this;if(s=s.nodeType?s:B.scroller.querySelector(s)){s=B._offset(s);s.left+=B.wrapperOffsetLeft;s.top+=B.wrapperOffsetTop;s.left=s.left>0?0:s.left<B.maxScrollX?B.maxScrollX:s.left;s.top=s.top>B.minScrollY?B.minScrollY:s.top<B.maxScrollY?B.maxScrollY:s.top;q=q===undefined?a.max(a.abs(s.left)*2,a.abs(s.top)*2):q;B.scrollTo(s.left,s.top,q)}},scrollToPage:function(s,q,B){var K=
this;if(K.options.snap){s=s=="next"?K.currPageX+1:s=="prev"?K.currPageX-1:s;q=q=="next"?K.currPageY+1:q=="prev"?K.currPageY-1:q;s=s<0?0:s>K.pagesX.length-1?K.pagesX.length-1:s;q=q<0?0:q>K.pagesY.length-1?K.pagesY.length-1:q;K.currPageX=s;K.currPageY=q;s=K.pagesX[s];q=K.pagesY[q]}else{s=-K.wrapperW*s;q=-K.wrapperH*q;if(s<K.maxScrollX)s=K.maxScrollX;if(q<K.maxScrollY)q=K.maxScrollY}K.scrollTo(s,q,B||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(L);this._unbind(E);
this._unbind(Q)},enable:function(){this.enabled=true},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):w(this.aniTime);this.steps=[];this.animating=this.moved=false},zoom:function(s,q,B,K){var J=this,P=B/J.scale;if(J.options.useTransform){J.zoomed=true;K=K===undefined?200:K;s=s-J.wrapperOffsetLeft-J.x;q=q-J.wrapperOffsetTop-J.y;J.x=s-s*P+J.x;J.y=q-q*P+J.y;J.scale=B;J.refresh();J.x=J.x>0?0:J.x<J.maxScrollX?J.maxScrollX:J.x;J.y=J.y>J.minScrollY?J.minScrollY:J.y<J.maxScrollY?
J.maxScrollY:J.y;J.scroller.style[d+"TransitionDuration"]=K+"ms";J.scroller.style[d+"Transform"]=D+J.x+"px,"+J.y+"px"+C+" scale("+B+")";J.zoomed=false}},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};if(typeof exports!=="undefined")exports.iScroll=j;else window.iScroll=j})();steal.loaded("webapp/lib/iscroll.js");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_desktop_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="desktop" data-role="page">   ');if(typeof blankState!=="undefined"&&blankState!=null&&(typeof blankState==="function"?blankState.call(f):blankState))c.push('   <div id="blank-state-overlay"></div>   ');c.push('      <div data-role="header">    ');if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||
user.is_public)==="function"?(!user||user.is_public).call(f):!user||user.is_public)){c.push('     <div id="signin-actions" data-role="controlgroup" data-type="horizontal">      <a id="login-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="b">Login</a>      <a id="signup-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="a">Register</a>      ');if(typeof!tablet!=="undefined"&&!tablet!=null&&(typeof!tablet==="function"?(!tablet).call(f):
!tablet))c.push('       <a id="find-company-button" data-role="button" data-theme="a">Lookup a Company</a>      ');c.push("     </div>    ")}c.push('        <div class="desktop-title">     <h1>FastND</h1>       ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(f):user&&!user.is_public)){c.push('      <p id="welcome-message">Hi, <strong>');if(typeof user.full_name!=="undefined"&&user.full_name!=
null)c.push(e.encode(typeof user.full_name==="function"?user.full_name.call(f):user.full_name));c.push("</strong></p>     ")}c.push("    </div>        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(f):user&&!user.is_public)){c.push('     <div id="header-buttons">          ');if(typeof tablet!=="undefined"&&tablet!=null&&(typeof tablet==="function"?tablet.call(f):tablet))c.push('       <a ontouchstart="" class="add-company-button">Profile</a>      ');
c.push('            <a ontouchstart="" id="profile-button" data-tooltip="User Profile">Profile</a>      <a ontouchstart="" id="manage-button" data-tooltip="Manage Columns" class="disabled">Manage Columns</a>      <a ontouchstart="" class="help-button" data-tooltip="Get Help">Help</a>      <a ontouchstart="" class="logout-button" data-tooltip="Log out of Finfore">Logout</a>     </div>    ')}else{c.push('     <div id="public-account-selectors">      ');if(typeof tablet!=="undefined"&&tablet!=null&&
(typeof tablet==="function"?tablet.call(f):tablet))c.push('       <a id="find-company-button" data-role="button" data-icon="search">Lookup a Company</a>      ');c.push("            ");if(typeof!tablet!=="undefined"&&!tablet!=null&&(typeof!tablet==="function"?(!tablet).call(f):!tablet)){c.push('       <p>Try out some of our public accounts by selecting your areas of focus</p>       <form>        <div data-role="fieldcontain">         <label for="profession">');if(typeof focus.professional.title!==
"undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(f):focus.professional.title));c.push('</label>         <select name="user[profession]" id="profession">          ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(f):focus.professional.profiles,function(n,j){with(this){c.push("           ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(f):(currentFocusId=j._id)));c.push('           <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(f):
selectedFocus.professional,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>          ")}});c.push('         </select>        </div>        <div data-role="fieldcontain">         <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(f):focus.industrial.title));c.push('</label>         <select name="user[industry]" id="industry">          ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(f):focus.industrial.profiles,function(n,j){with(this){c.push("           ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(f):(currentFocusId=j._id)));c.push('           <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(f):
selectedFocus.industrial,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>          ")}});c.push('         </select>        </div>        <div data-role="fieldcontain">         <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(f):focus.geographic.title));c.push('</label>         <select name="user[geographic]" id="geographic">          ');if(typeof(isSelected=false)!=="undefined"&&(isSelected=false)!=null)c.push(e.encode(typeof(isSelected=false)==="function"?(isSelected=false).call(f):(isSelected=false)));c.push("          ");if(typeof focus.geographic.profiles!==
"undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(f):focus.geographic.profiles,function(n,j){with(this){c.push("           ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(f):(currentFocusId=j._id)));c.push('           <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id===
"function"?j._id.call(f):j._id));c.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(f):selectedFocus.geographic,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId)){c.push(' selected="selected" ');if(typeof(isSelected=
true)!=="undefined"&&(isSelected=true)!=null)c.push(e.encode(typeof(isSelected=true)==="function"?(isSelected=true).call(f):(isSelected=true)));c.push(" ")}c.push(" ")}});c.push(" ");if(typeof(isSelected==false&&j.title=="USA & Canada")!=="undefined"&&(isSelected==false&&j.title=="USA & Canada")!=null&&(typeof(isSelected==false&&j.title=="USA & Canada")==="function"?(isSelected==false&&j.title=="USA & Canada").call(f):isSelected==false&&j.title=="USA & Canada"))c.push(' selected="selected" ');c.push(">");
if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>          ")}});c.push('         </select>        </div>       </form>       <button data-theme="a" data-icon="arrow-r" id="public-account-selector-btn">Try account</button>      ')}else c.push('       <button data-theme="a" data-icon="arrow-r" id="public-account-selector-btn">Use a Public Account</button>      ');c.push("     </div>    ")}c.push("            ");if(typeof!tablet!==
"undefined"&&!tablet!=null&&(typeof!tablet==="function"?(!tablet).call(f):!tablet)){c.push('    <div id="tabs-container">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" title="Scroll left" id="tab-scroll-left">Scroll left</a>     <div id="tab-bar">      <ul></ul>     </div>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" title="Scroll right" id="tab-scroll-right">Scroll right</a>     ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=
null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(f):user&&!user.is_public))c.push('      <a id="add-tab-button" data-icon="plus" data-iconpos="notext" data-tooltip="Add a new company" data-role="button" class="tooltip-top add-company-button">Add a new company</a>     ');c.push('    </div>        <select name="tab-list-selector" id="tab-list-selector" data-iconpos="notext" data-native-menu="false" data-theme="a"></select>    ')}c.push("       </div>      ");if(typeof tablet!==
"undefined"&&tablet!=null&&(typeof tablet==="function"?tablet.call(f):tablet)){c.push('    <div class="tablet-tab-selector" id="tablet-tabs">     <div class="tablet-selector-wrapper">      <div class="tablet-tab-list">       ');if(typeof(user&&!user.is_public&&1===2)!=="undefined"&&(user&&!user.is_public&&1===2)!=null&&(typeof(user&&!user.is_public&&1===2)==="function"?(user&&!user.is_public&&1===2).call(f):user&&!user.is_public&&1===2))c.push('        <a data-icon="plus" data-role="button" class="add-company-button" data-theme="a">Add a new company</a>       ');
c.push("      </div>     </div>    </div>   ")}c.push('      <div id="desktop-content" data-role="content"></div>   <div data-role="footer">    <div class="scrolling-ticker"></div>     </div>  </div>    ');if(typeof blankState!=="undefined"&&blankState!=null&&(typeof blankState==="function"?blankState.call(f):blankState))c.push('  <div id="blank-state" class="ui-body-c ui-corner-all">   <div class="ui-bar-a ui-corner-top"><h1>Welcome to <strong>FastND</strong></h1></div>   <div class="ui-content">      <p>Please try out some of our public profiles, by selecting different focus areas from these selectors. </p>    <p>If you like our service, please register for an account, using the button on the top left, after closing this message. </p>    <form>     <label>      <input type="checkbox" name="show-blank-state" id="show-blank-state" />      Don\'t show this message again     </label>     <a data-role="button" data-icon="delete" data-inline="true" data-theme="a" id="blank-state-close-btn">Close popup</a>    </form>   </div>  </div>  ');
c.push("    ");if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||user.is_public)==="function"?(!user||user.is_public).call(f):!user||user.is_public)){c.push('  <div id="public-account-selector" data-role="dialog" data-theme="a" data-content-theme="c" class="small-dialog">   <div data-role="header">    <h1>Public Accounts</h1>   </div>      <div data-role="content">    <p>Try out some of our public accounts by selecting your areas of focus</p>    <form>     <div data-role="fieldcontain">      <label for="profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(f):focus.professional.title));c.push('</label>      <select name="user[profession]" id="profession">       ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(f):focus.professional.profiles,function(n,j){with(this){c.push("        ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(f):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(f):
selectedFocus.professional,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>       ")}});c.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(f):focus.industrial.title));c.push('</label>      <select name="user[industry]" id="industry">       ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(f):focus.industrial.profiles,function(n,j){with(this){c.push("        ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(f):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(f):
selectedFocus.industrial,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>       ")}});c.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(f):focus.geographic.title));c.push('</label>      <select name="user[geographic]" id="geographic">       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(f):focus.geographic.profiles,function(n,j){with(this){c.push("        ");
if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(f):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(f):
selectedFocus.geographic,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>       ")}});c.push('      </select>     </div>    </form>    <button data-theme="b" data-icon="arrow-r" data-iconpos="right" class="public-account-selector-btn">Try account</button>   </div>   </div>  ')}c.push("")}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/desktop.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_tab-button_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<li data-company-id="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(f):tab.id));c.push('">   <a href="#');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(f):tab.id));c.push('">');if(typeof tab.title!=="undefined"&&tab.title!=null)c.push(e.encode(typeof tab.title===
"function"?tab.title.call(f):tab.title));c.push("</a>   ");if(typeof tab.closable!=="undefined"&&tab.closable!=null&&(typeof tab.closable==="function"?tab.closable.call(f):tab.closable))c.push('    <span class="ui-icon ui-icon-shadow ui-icon-delete tab-close-button"></span>   ');c.push("  </li>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/tab-button.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_tab-view_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(f):tab.id));c.push('" class="tab">   <div class="tab-scroller"></div>  </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/tab-view.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_tab-option_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<option value="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(f):tab.id));c.push('-tab">   ');if(typeof tab.title!=="undefined"&&tab.title!=null)c.push(e.encode(typeof tab.title==="function"?tab.title.call(f):tab.title));c.push("  </option>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});
steal.loaded("webapp/views/tab-option.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_login_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="login-page" data-role="dialog" class="small-dialog" data-theme="a" data-content-theme="c">   <div data-role="header">    <h1>     ');typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen)?c.push("      Sign-In     "):c.push("      Welcome to       <strong>FastND</strong>     ");c.push('    </h1>   </div>   <div data-role="content">        ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('     <a data-role="button" data-theme="a" class="public-account-btn" data-icon="arrow-r" data-iconpos="right">Use a Public Account</a>     <hr />     <p class="separator-text">OR</p>    ');c.push('        <form id="new_user_session" data-ajax="false">     <div data-role="fieldcontain">      <label for="login">Username</label>      <input type="text" name="user_session[login]" id="login" value="" />     </div>     <div data-role="fieldcontain">      <label for="password">Password</label>      <input type="password" name="user_session[password]" id="password" value="" />     </div>             ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('      <div data-role="controlgroup" data-type="horizontal">       <a data-role="button" data-theme="b" id="signup-button">Register</a>     ');c.push('          <button type="submit" data-role="button" data-theme="a" id="signin-button">Login</button>          ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):
smallScreen))c.push("      </div>     ");c.push('          <a class="forgot-password">Forgot your password?</a>          <hr />     <p class="separator-text">OR</p>          <div class="social-signin">      <p>Sign-in with your account at: </p>             <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/google?callback=");
if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=
null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>              ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('       </div>       <div data-role="controlgroup" data-type="horizontal">      ');c.push('                <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?
finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>     </div>         </form>         </div>  </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/login.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_profile_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="profile-page" data-role="dialog" class="small-dialog ');if(typeof updateProfile!=="undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(f):updateProfile))c.push(" update-profile");c.push('">   <div data-role="header">    <h1>Professional Account Information</h1>   </div>   <div data-role="content" data-theme="c">         ');
if(typeof updateProfile!=="undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(f):updateProfile))c.push('    <div class="social-signin">     <p>Connect your FastND account with your social networking accounts</p>          <div data-role="controlgroup" data-type="horizontal">          <a class="google-profile-connect" data-type="google" data-role="button" data-icon="google" data-inline="true">Google</a>      <a class="twitter-profile-connect" data-type="twitter" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>      <a class="linkedin-profile-connect" data-type="linkedin" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>     </div>    </div>         <em>Since this is your first time using FastND, please take a moment to update your profile. </em>    ');
c.push('       <form>     <div data-role="fieldcontain">      <label for="full_name">Full Name</label>      <input type="text" name="full_name" id="full_name" value="');if(typeof user.full_name!=="undefined"&&user.full_name!=null)c.push(e.encode(typeof user.full_name==="function"?user.full_name.call(f):user.full_name));c.push('" required>     </div>          ');if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(f):!updateProfile)){c.push('     <div data-role="fieldcontain">      <label for="email_work">Work Email:</label>      <input type="email" name="email_work" id="email_work" value="');
if(typeof user.email_work!=="undefined"&&user.email_work!=null)c.push(e.encode(typeof user.email_work==="function"?user.email_work.call(f):user.email_work));c.push('" required>     </div>     ')}c.push("          ");if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(f):!updateProfile))c.push('      <div data-role="fieldcontain">       <label for="password">New Password:</label>       <input type="password" name="password" id="password" value=""  />      </div>            <div data-role="fieldcontain">       <label for="password_confirmation">Confirm Password:</label>       <input type="password" name="password_confirmation" id="password_confirmation" value="" />      </div>     ');
c.push('          <div data-role="fieldcontain">       <label for="user_geographic">');if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(f):focus.geographic.title));c.push('</label>      <select id="user_geographic" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=
null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(f):focus.geographic.profiles,function(n,j){with(this){c.push("        ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(f):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" ');
if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(f):selectedFocus.geographic,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&
j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>       ")}});c.push('      </select>         </div>          <div data-role="fieldcontain">      <label for="user_profession">');if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(f):focus.professional.title));c.push('</label>      <select id="user_profession" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(f):focus.professional.profiles,function(n,j){with(this){c.push("        ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(f):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&
j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(f):selectedFocus.professional,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');
c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>       ")}});c.push('      </select>     </div>          <div data-role="fieldcontain">      <label for="user_industry">');if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(f):focus.industrial.title));c.push('</label>      <select id="user_industry" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(f):focus.industrial.profiles,function(n,j){with(this){c.push("        ");if(typeof(currentFocusId=j._id)!=="undefined"&&(currentFocusId=j._id)!=null)c.push(e.encode(typeof(currentFocusId=j._id)==="function"?(currentFocusId=j._id).call(f):(currentFocusId=j._id)));c.push('        <option value="');if(typeof j._id!=="undefined"&&j._id!=
null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(f):selectedFocus.industrial,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');
c.push(" ")}});c.push(">");if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>       ")}});c.push('      </select>     </div>                 <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Save Changes</button>          </div>    </form>      </div>     </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/profile.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_panel_controlgroup_tmpl",function(d){return function(e,f){e=[];var c=f.data;with(c){e.push('<div data-role="controlgroup" data-type="horizontal">   <a data-role="button" data-icon="refresh" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-refresh">Refresh</a>   ');if(typeof editable!=="undefined"&&editable!=null&&(typeof editable==="function"?editable.call(f):editable))e.push('    <a data-role="button" data-icon="grid" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-manage">Edit</a>    <a data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-remove">Remove</a>   ');
e.push("  </div>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/panel.controlgroup.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_manage_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="manage-page" data-role="dialog" class="ui-page">   <div data-role="header">    <h1>Finfore Management</h1>     </div>   <div data-role="content" data-theme="b">    <div id="management-tabs">     <ul>      ');if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(f):modules,function(n,j){with(this){c.push("            ");
if(typeof("management"in j)!=="undefined"&&"management"in j!=null&&(typeof("management"in j)==="function"?("management"in j).call(f):"management"in j)){c.push('        <li><a href="#management-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" rel="external" class="ui-btn ui-btn-up-a">');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push("</a></li>            ")}c.push("      ")}});c.push("     </ul>     ");
if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(f):modules,function(n){with(this){c.push('      <div id="management-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-category="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="management-tab-panel"></div>     ')}});c.push("    </div>   </div>   </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});
steal.loaded("webapp/views/manage.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_manage_feed-infos_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push("");if(typeof feeds!=="undefined"&&feeds!=null)e.each(typeof feeds==="function"?feeds.call(f):feeds,function(n,j){with(this){c.push('   <input type="radio" name="');if(typeof type!=="undefined"&&type!=null)c.push(e.encode(typeof type==="function"?type.call(f):type));c.push('-preset-sources" id="source-');if(typeof j._id!=="undefined"&&j._id!=
null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" data-address="');if(typeof j.address!=="undefined"&&j.address!=null)c.push(e.encode(typeof j.address==="function"?j.address.call(f):j.address));c.push('" class="preset-source" value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" data-role="none">   <label for="source-');if(typeof name!=="undefined"&&name!=null)c.push(e.encode(typeof name==="function"?
name.call(f):name));c.push("-");if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</label>  ")}});c.push("")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.feed-infos.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_manage_panels_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<input type="radio" data-native="true" class="mtab" id="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-panel-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" name="');if(typeof category!==
"undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push('-panels" data-index="');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" data-role="none">  <label for="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-panel-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?
index.call(f):index));c.push('" class="mtab-selector">   ');if(typeof panel.name!=="undefined"&&panel.name!=null)c.push(e.encode(typeof panel.name==="function"?panel.name.call(f):panel.name));c.push('  </label>    <div id="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-tab-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" class="mtab-content ui-body-c">   <div class="mtab-title ui-bar-a">    ');
if(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=="undefined"&&(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=null&&(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")==="function"?(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin").call(f):category!=="portfolio"&&category!=="keyword"&&category!=="linkedin"))c.push('     <div data-role="controlgroup" data-type="horizontal" class="source-list-controls ui-btn-right">      <a href="#" data-role="button" data-icon="plus" data-iconpos="notext" data-theme="a" data-inline="true" class="add-custom-source">Add Custom Source</a>      <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="remove-source">Remove Source</a>     </div>    ');
c.push("    <span>     ");if(typeof panel.name!=="undefined"&&panel.name!=null)c.push(e.encode(typeof panel.name==="function"?panel.name.call(f):panel.name));c.push("    </span>        ");if(typeof(category==="twitter"&&false)!=="undefined"&&(category==="twitter"&&false)!=null&&(typeof(category==="twitter"&&false)==="function"?(category==="twitter"&&false).call(f):category==="twitter"&&false)){c.push('     <a href="http://twitter.com/');if(typeof panel.account!=="undefined"&&panel.account!=null)c.push(e.encode(typeof panel.account===
"function"?panel.account.call(f):panel.account));c.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof panel.account!=="undefined"&&panel.account!=null)c.push(e.encode(typeof panel.account==="function"?panel.account.call(f):panel.account));c.push("</a>    ")}c.push("       </div>         ");if(typeof(category==="portfolio")!=="undefined"&&category==="portfolio"!=null&&(typeof(category==="portfolio")==="function"?(category==="portfolio").call(f):category===
"portfolio"))c.push('    <em class="extra-details">The list of Portfolios available in your Google Account will be visible here, <strong>after you reload the application. </strong></em>   ');else if(typeof(category=="keyword")!=="undefined"&&category=="keyword"!=null&&(typeof(category=="keyword")==="function"?(category=="keyword").call(f):category=="keyword")){c.push('    <div class="keyword-panel-settings">        <div data-role="fieldcontain">      <label for="keyword-text-');if(typeof index!==
"undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('">Keyword</label>             <input type="text" class="keyword-text" id="keyword-text-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" value="');if(typeof panel.keyword_column.keyword!=="undefined"&&panel.keyword_column.keyword!=null)c.push(e.encode(typeof panel.keyword_column.keyword==="function"?panel.keyword_column.keyword.call(f):
panel.keyword_column.keyword));c.push('"/>     </div>          <!--      <div data-role="fieldcontain">       <label for="keyword-followers-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('">Number of followers</label>       <select class="keyword-followers" id="keyword-followers-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('">        <option value="0" ');if(typeof(panel.keyword_column.follower==
0)!=="undefined"&&panel.keyword_column.follower==0!=null&&(typeof(panel.keyword_column.follower==0)==="function"?(panel.keyword_column.follower==0).call(f):panel.keyword_column.follower==0))c.push(' selected="selected" ');c.push('>Any number of followers</option>        <option value="100" ');if(typeof(panel.keyword_column.follower==100)!=="undefined"&&panel.keyword_column.follower==100!=null&&(typeof(panel.keyword_column.follower==100)==="function"?(panel.keyword_column.follower==100).call(f):panel.keyword_column.follower==
100))c.push(' selected="selected" ');c.push('>At least 100 followers</option>        <option value="1000" ');if(typeof(panel.keyword_column.follower==1E3)!=="undefined"&&panel.keyword_column.follower==1E3!=null&&(typeof(panel.keyword_column.follower==1E3)==="function"?(panel.keyword_column.follower==1E3).call(f):panel.keyword_column.follower==1E3))c.push(' selected="selected" ');c.push('>At least 1000 followers</option>       </select>      </div>            <div data-role="fieldcontain">            <fieldset data-role="controlgroup">        <legend>&nbsp;</legend>        <input type="checkbox" id="keyword-aggregate-');
if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" class="keyword-aggregate" ');if(typeof panel.keyword_column.is_aggregate!=="undefined"&&panel.keyword_column.is_aggregate!=null&&(typeof panel.keyword_column.is_aggregate==="function"?panel.keyword_column.is_aggregate.call(f):panel.keyword_column.is_aggregate))c.push(' checked="checked" ');c.push('/>        <label for="keyword-aggregate-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index===
"function"?index.call(f):index));c.push('">Is aggregate</label>       </fieldset>            </div>     --\>          <div data-role="fieldcontain" class="keyword-save-container">      <button class="keyword-save">Save Column</button>     </div>       </div>    ')}else{c.push('    <div class="list-view">    ');if(typeof panel.user_feeds!=="undefined"&&panel.user_feeds!=null)e.each(typeof panel.user_feeds==="function"?panel.user_feeds.call(f):panel.user_feeds,function(n,j){with(this){c.push('     <input type="radio" data-native="true" name="');
if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-sources-");if(typeof j.feed_account_id!=="undefined"&&j.feed_account_id!=null)c.push(e.encode(typeof j.feed_account_id==="function"?j.feed_account_id.call(f):j.feed_account_id));c.push('" id="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)===
"function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-role="none" />     <label for="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</label>    ")}});c.push("    </div>   ")}c.push("  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.panels.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_manage_source_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<input type="radio" data-native="true" name="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-sources-");if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));
c.push('" data-index="');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof source._id!=="undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(f):source._id));c.push('" data-id="');if(typeof source._id!==
"undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(f):source._id));c.push('" data-role="none">  <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof source._id!=="undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(f):source._id));c.push('">  ');if(typeof source.feed_info.title!==
"undefined"&&source.feed_info.title!=null&&(typeof source.feed_info.title==="function"?source.feed_info.title.call(f):source.feed_info.title)){c.push(" ");if(typeof source.feed_info.title!=="undefined"&&source.feed_info.title!=null)c.push(e.encode(typeof source.feed_info.title==="function"?source.feed_info.title.call(f):source.feed_info.title))}else{c.push(" ");if(typeof source.name!=="undefined"&&source.name!=null)c.push(e.encode(typeof source.name==="function"?source.name.call(f):source.name))}c.push(" ");
c.push("  </label>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.source.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_signup_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="signup-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Sign up for FastND</h1>   </div>   <div data-role="content" data-theme="c">      <div id="signup-page1">     <div class="social-signin">      <p>Already have an account on these services? Sign in with: </p>            ');if(typeof!smallScreen!=="undefined"&&
!smallScreen!=null&&(typeof!smallScreen==="function"?(!smallScreen).call(f):!smallScreen)){c.push('       <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));
c.push('socialcallback.html" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>        <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>      ')}c.push("            ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen===
"function"?smallScreen.call(f):smallScreen)){c.push('       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="google">Google</a>        </div>        <div class="ui-block-b">         <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="facebook">Facebook</a>        </div>       </fieldset>       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="twitter">Twitter</a>        </div>        <div class="ui-block-b">         <a href="');if(typeof finforeBaseUrl!==
"undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('socialcallback.html" data-role="button" data-icon="linkedin">Linkedin</a>        </div>       </fieldset>      ')}c.push('     </div>          <form class="new_user" id="new_user">       <div data-role="fieldcontain">       <label for="full_name">Full Name</label>            <input type="text" name="user[full_name]" id="full_name" value="" required />      </div>            <div data-role="fieldcontain">         <label for="user_email_work">Email</label>       <input id="user_email_work" name="user[email_work]" size="30" type="email" required />      </div>            <div data-role="fieldcontain">       <label for="user_password">Password</label>       <input id="user_password" name="user[password]" size="30" type="password" required />      </div>        <div data-role="fieldcontain">       <label for="user_password_confirmation">Password confirmation</label>       <input id="user_password_confirmation" name="user[password_confirmation]" size="30" type="password" required />      </div>            <div data-role="fieldcontain">        <label for="user_geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(f):focus.geographic.title));c.push('</label>       <select id="user_geographic" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles===
"function"?focus.geographic.profiles.call(f):focus.geographic.profiles,function(n,j){with(this){c.push('         <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>        ")}});c.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(f):focus.professional.title));c.push('</label>       <select id="user_profession" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles===
"function"?focus.professional.profiles.call(f):focus.professional.profiles,function(n,j){with(this){c.push('         <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>        ")}});c.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(f):focus.industrial.title));c.push('</label>       <select id="user_industry" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles===
"function"?focus.industrial.profiles.call(f):focus.industrial.profiles,function(n,j){with(this){c.push('         <option value="');if(typeof j._id!=="undefined"&&j._id!=null)c.push(e.encode(typeof j._id==="function"?j._id.call(f):j._id));c.push('">');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("</option>        ")}});c.push('       </select>      </div>            <input id="user_submit" name="commit" type="submit" value="Signup for a FastND Account" data-theme="b" />      </form>     </div>        <div id="signup-page2">     <div class="left-column">      <h2>Please connect your FastND account with the following providers</h2>     </div>          <div class="right-column">      <a class="twitter-connect-button" data-type="twitter">Connect with Twitter</a>                <!--      <a class="facebook-connect-button">Connect with Facebook</a>      --\>            <a class="linkedin-connect-button" data-type="linkedin">Connect with Linkedin</a>          <a class="google-connect-button" data-type="google">Connect with Google</a>         </div>          <a id="finish-btn" data-role="button" data-icon="check" data-theme="b">Finish setting up your FastND account</a>    </div>       </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/signup.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_addcompany_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="add-company-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Add a new company</h1>     </div>   <div data-role="content" data-theme="c">    <ul data-role="listview" data-filter="true" class="companies-list">     ');if(typeof companies!=="undefined"&&companies!=null)e.each(typeof companies==="function"?
companies.call(f):companies,function(n,j){with(this){c.push('     <li data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">      <span class="ui-icon ui-icon-plus"></span>      ');if(typeof j.title!=="undefined"&&j.title!=null)c.push(e.encode(typeof j.title==="function"?j.title.call(f):j.title));c.push("      ");if(typeof j.profiles!=="undefined"&&j.profiles!=null)e.each(typeof j.profiles==="function"?j.profiles.call(f):j.profiles,function(u,
o){with(this){c.push('       <span class="ui-li-count">');if(typeof o.title!=="undefined"&&o.title!=null)c.push(e.encode(typeof o.title==="function"?o.title.call(f):o.title));c.push("</span>           ")}});c.push("     </li>    ")}});c.push("    </ul>   </div>  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/addcompany.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_help_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<div data-role="dialog" class="small-dialog help-page">   <div data-role="header">    <h1>Help</h1>   </div>      <div data-role="content" data-theme="c">       <form>       <div data-role="fieldcontain">      <label for="subject">Subject:</label>      <input type="text" name="form[subject]" id="subject" value="" required>     </div>       <div data-role="fieldcontain">      <label for="message">Message:</label>      <textarea id="message" name="form[message]" required></textarea>     </div>          <div data-role="fieldcontain">      <label for="name">Name:</label>      <input type="text" name="form[name]" id="name" value="" required>     </div>          <div data-role="fieldcontain">      <label for="phone">Phone:</label>      <input type="tel" name="form[phone]" id="phone" value="">     </div>          <div data-role="fieldcontain">      <label for="email">Email:</label>      <input type="email" name="form[email]" id="email" value="" required>     </div>          <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Send Message</button>     </div>    </form>      </div>   </div>');return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/help.tmpl");if(smallScreen)$("html").addClass("small-screen");else var smallScreen=false;
var finfore=function(){var a={login:finforeBaseUrl+"/user_sessions.json",publicLogin:finforeBaseUrl+"/user_sessions/public_login.json",publicProfiles:finforeBaseUrl+"/category_focus.json",portfolioOverviews:finforeBaseUrl+"/portfolios/overviews.json",portfolioList:finforeBaseUrl+"/portfolios/list.json",feedAccounts:finforeBaseUrl+"/feed_accounts.json",companyTabs:finforeBaseUrl+"/user_company_tabs.json"},d=Storage.getItem("user");if(d)d=JSON.parse(d);var e=Storage.getItem("updateProfile");if(e)e=
e=="true";var f=document.documentElement.clientWidth>1024,c=Storage.getItem("blankState")?false:true,k={user:d,companies:[],panels:{main:{},portfolio:{},companies:{}},portfolios:[],feedInfos:{},ticker:{news:[],prices:[]},selectedFocus:{geographic:[],professional:[],industrial:[]},blankState:c,updateProfile:e},n=function(){$.ajaxSetup({dataType:"json",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token}})},j=function(){var G=Storage.getItem("selectedFocus");
G=G&&finfore.data.user.is_public?JSON.parse(G):finfore.data.user.profiles;$.each(G,function(){switch(this.profile_category.title){case "Geography":finfore.data.selectedFocus.geographic.push(this);break;case "Profession":finfore.data.selectedFocus.professional.push(this);break;case "Industry":finfore.data.selectedFocus.industrial.push(this);break}})},u=function(G){Loader.show();var D=Storage.getItem("focus"),C=new Date,s=false;if(D){D=JSON.parse(D);D.storageDate=new Date(D.storageDate);if(parseInt((C-
D.storageDate)/1E3)<3600)s=true}if(s){finfore.data.focus=D;G()}else WebService.focus({complete:function(q){finfore.data.focus={};$.each(q,function(B,K){if(K.title=="Profession")finfore.data.focus.professional=K;else if(K.title=="Geography")finfore.data.focus.geographic=K;else if(K.title=="Industry")finfore.data.focus.industrial=K});finfore.storeData({focus:finfore.data.focus});G()}})},o={date:new Date,shortDate:new Date,priceBridge:2,updateNews:function(G){finfore.data.ticker.news.push(G);finfore.desktop.ticker.updateNews(G)},
updatePrices:function(G){finfore.data.ticker.prices.push(G);finfore.desktop.ticker.updatePrices(G)},cleanTicker:function(){o.date=new Date;o.shortDate=new Date;o.date.setMinutes(o.date.getMinutes()-15);o.shortDate.setMinutes(o.shortDate.getMinutes()-15);var G=k.ticker.news.slice(0);$.each(k.ticker.news,function(D,C){if(C.from_user)new Date(C.created_at)<=o.shortDate&&G.splice(D,1);else new Date(C.publishedDate)<=o.date&&G.splice(D,1)});k.ticker.news=G.slice(0);empty(finfore.desktop.ticker.$node[0]);
$.each(k.ticker.news,function(D){finfore.desktop.ticker.updateNews(D)})}};o.date.setMinutes(o.date.getMinutes()-15);o.shortDate.setMinutes(o.shortDate.getMinutes()-15);window.setInterval(o.cleanTicker,9E5);var w=function(G,D){if(G.position>D.position)return 1;if(G.position<D.position)return-1;return 0},z={create:function(G){finfore.data.portfolios.push({feed_account:G});var D=finfore.data.portfolios.length-1;return $.ajax({url:a.portfolioList,data:{feed_account_id:G._id},success:function(C){z.createPanels(C,
D)}})},createPanels:function(G,D){G.rss.chanel.error&&$().toastmessage("showErrorToast","Can't sign-in into your Google Portfolios account. <br>Please make sure the details are correct. ");if(!G.rss.chanel.item){finfore.data.portfolios[0].list=[];return false}if(!$.isArray(G.rss.chanel.item))G.rss.chanel.item=[G.rss.chanel.item];finfore.data.portfolios[D].list=G.rss.chanel.item;$.each(finfore.data.portfolios[D].list,function(){var C=this,s=/[0-9]*$/.exec(this.id);if(s!=null)this.id_bare=s[0];setTimeout(function(){$.ajax({url:a.portfolioOverviews,
type:"GET",data:{feed_account_id:finfore.data.portfolios[D].feed_account._id,portfolio_id:C.id_bare},success:function(q){C.overview=q;finfore.panels.create({type:"portfolio",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[D],portfolio:C}});finfore.panels.create({type:"agenda",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[D],portfolio:C}});finfore.panels.create({type:"feed",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[D],
portfolio:C}})}})},50)})},remove:function(G){var D=G.feed_account._id;$.each(finfore.data.panels.portfolio,function(){$.each(this,function(){this.panel.feed_account._id===D&&finfore.desktop.panels.remove({options:{panel:this}})})})}},A={create:function(G){if(G.options.company){finfore.data.panels.companies[G.options.company.feed_info.id]||(finfore.data.panels.companies[G.options.company.feed_info.id]={});finfore.data.panels.companies[G.options.company.feed_info.id][G.type]||(finfore.data.panels.companies[G.options.company.feed_info.id][G.type]=
[]);finfore.data.panels.companies[G.options.company.feed_info.id][G.type].push(G.options)}else if(G.options.portfolio){finfore.data.panels.portfolio[G.type]||(finfore.data.panels.portfolio[G.type]=[]);finfore.data.panels.portfolio[G.type].push(G.options)}else{finfore.data.panels.main[G.type]||(finfore.data.panels.main[G.type]=[]);finfore.data.panels.main[G.type].push(G.options)}setTimeout(function(){finfore.desktop.panels.create(G)},50)},remove:function(G){finfore.data.panels.main[G.type].splice(G.options.index,
1);finfore.desktop.panels.remove(G)}},L={add:function(G,D){finfore.data.companies=finfore.data.companies.concat(G);$.each(G,function(){var C=this,s=this._id;finfore.desktop.tabs.add({id:s,title:this.feed_info.title,closable:!finfore.data.user.is_public});s=$("#"+s);var q;if(D){q=f?$("li:last",finfore.desktop.nodes.$tabList):$(".collapsible-company:last",finfore.desktop.nodes.$tabletTabs);finfore.desktop.tabs.select(q)}finfore.panels.create({type:"prices",tab:s,options:{company:C}});finfore.panels.create({type:"feed",
tab:s,options:{company:C}});finfore.panels.create({type:"feed",tab:s,options:{company:C,blogsearch:true}});finfore.panels.create({type:"twitter",tab:s,options:{company:C}});finfore.panels.create({type:"feed",tab:s,options:{company:C,bingsearch:true}});finfore.panels.create({type:"agenda",tab:s,options:{company:C}});finfore.panels.create({type:"agenda",tab:s,options:{company:C,competitor:true}});finfore.panels.create({type:"twitter",tab:s,options:{company:C,competitor:true}});finfore.panels.create({type:"blinkx",
tab:s,options:{company:C}})})},remove:function(){var G=$(this).parent("li"),D=$("a",G).attr("href").substr(1),C="<h2>Are you sure you sure you want to remove <em>"+$("a",G).text()+"</em>?</h2>";$.prompt(C,{callback:function(s){if(s){$.ajax({url:finforeBaseUrl+"/user_company_tabs/"+D+".json",type:"DELETE",data:{feed_account_id:D}});finfore.desktop.tabs.remove(G)}},buttons:{Cancel:false,"Remove Column":true}});return false}},E=function(){finfore.manage={};finfore.profile={}},Q=function(){j();finfore.desktop.init();
finfore.data.user.is_public&&E()};return{init:function(){$.ajaxSetup({dataType:"json"});d&&n();u(function(){if(d)WebService.refreshUser({complete:Q});else{var G;$.each(finfore.data.focus.geographic.profiles,function(){if(this.title=="USA & Canada")G=this._id});finfore.publicLogin({ids:finfore.data.focus.industrial.profiles[0]._id+","+G+","+finfore.data.focus.professional.profiles[0]._id},Q)}});if(finfore.data.user&&!finfore.data.user.is_public)finfore.data.blankState=false},panels:A,portfolios:z,
modules:{},companies:L,ticker:o,nodes:{},url:a,data:k,storeData:function(G){if(G.user){finfore.data.user=G.user;Storage.setItem("user",JSON.stringify(G.user));n()}if(G.focus){G.focus.storageDate=new Date;Storage.setItem("focus",JSON.stringify(G.focus))}G.selectedFocus&&Storage.setItem("selectedFocus",JSON.stringify(G.selectedFocus))},populate:function(){var G=[];(function(D){$.each(D,function(C,s){if(s.position==null)s.position=999});D.sort(w);$.each(D,function(){var C=this,s=C.category;if(s=="portfolio")G.push(z.create(C));
else{if(s=="rss")s="feed";else if(s=="chart")s="prices";else if(s=="gmail"||s=="facebook")return;s=="keyword"&&!C.keyword_column||A.create({type:s,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:C}})}});$.when(G).then(function(){smallScreen||finfore.desktop.enableManagement();Loader.hide()})})(finfore.data.user.feed_accounts);$.each(finfore.data.user.user_company_tabs,function(D,C){if(C.position==null)C.position=999});finfore.data.user.user_company_tabs.sort(w);L.add(finfore.data.user.user_company_tabs)},
tablet:false,smallScreen:smallScreen,$body:$("body"),publicLogin:function(G,D){$.mobile.showPageLoadingMsg&&$.mobile.showPageLoadingMsg();$.ajax({url:a.publicLogin,type:"POST",data:{pids:G.ids},success:function(C){if(C.user){Storage.removeItem("selectedFocus");var s=$.extend({},C.user);finfore.storeData({user:s});finfore.storeData({selectedFocus:C.selecteds})}else{$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.");
Loader.hide();return false}D&&D(s)},error:function(){$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.")}})}}}(),lastActivePage;finfore.$body.delegate("[data-role=dialog]","pageshow",function(a,d){if(d.prevPage.attr("data-role")=="page")lastActivePage=d.prevPage});
$.mobile.dialog.prototype._create=function(){var a=this.element,d=$("<a data-"+$.mobile.ns+"icon='delete' data-"+$.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");a.addClass("ui-overlay-"+this.options.overlayTheme);a.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(d).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");d.bind("vclick",
function(){$.mobile.changePage(lastActivePage,{changeHash:false,reverse:true,transition:"slidedown"});return false});a.bind("vclick submit",function(e){e=$(e.target).closest(e.type==="vclick"?"a":"form");var f;if(e.length&&!e.jqmData("transition")){f=$.mobile.urlHistory.getActive()||{};e.attr("data-"+$.mobile.ns+"transition",f.transition||$.mobile.defaultDialogTransition).attr("data-"+$.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){$(this).find("."+$.mobile.activeBtnClass).removeClass($.mobile.activeBtnClass)})};
var currentTitle=document.title;finfore.$body.delegate("div[data-role=page], div[data-role=dialog]","pagebeforeshow",function(){document.title=currentTitle});steal.loaded("webapp/core/core.js");
finfore.desktop=function(){var a={$page:[],tabs:{tabIndex:0}},d=document.documentElement.clientWidth<=1024,e=false;finfore.tablet=d;var f=0,c=$(document).width()-150,k=0,n=0,j={scroll:{}};j.add=function(D){var C,s=D.id!=="main"&&D.id!=="portfolio",q=$($.View("//webapp/views/tab-view.tmpl",{tab:D}));a.$desktopContent.append(q);if(d){if(s){C=$('<div data-role="collapsible" data-collapsed="true" class="collapsible-company" data-theme="b"><h3>'+D.title+"</h3><ul></ul></div>");a.$tabletTabs.append(C);
C.collapsible();C.bind("collapse expand",function(){a.tabletTabsScroller.refresh()});C.bind("expand",function(){j.select(C)});$("ul",C).listview()}else{C=$('<ul data-role="listview" data-inset="true" class="panel-list"><li data-role="list-divider">'+D.title+"</li></ul>");a.$tabletTabs.append(C);C.listview()}var B=new iScroll(D.id,{vScroll:false,snap:".panel",useTransition:true,lockDirection:true});q.bind("refreshScroll",function(){B.refresh();return B});a.tabletTabsScroller.refresh()}else{C=$($.View("//webapp/views/tab-button.tmpl",
{tab:D}));$("ul",a.$tabBar).append(C);f+=200;$("ul",a.$tabBar).width(f);var K=a.tabs.tabIndex;a.tabs.tabIndex++;a.$tabBar.hasClass("ui-navbar")?$("a",C).buttonMarkup({corners:false,shadow:false}):a.$tabBar.navbar();$(".tab-close-button",C).click(finfore.companies.remove);C.click(function(){$("#tab-list-selector-menu li").eq(K).trigger("click");return false});D=$($.View("//webapp/views/tab-option.tmpl",{tab:D}));D.data("target",C);a.$tabListSelector.append(D);a.$tabListSelector.selectmenu("refresh");
j.refresh()}$.data(q[0],"selector",C);$.data(C[0],"tabView",q);return C};j.select=function(D,C){var s=$.data(D[0],"tabView");if(!d){$(".ui-btn-active",a.$tabBar).removeClass("ui-btn-active");$("a",D).addClass("ui-btn-active");var q=D.position().left,B=q+a.$tabList.position().left;D.outerWidth();if(B<0){n=0-q;a.$tabList.css({left:n})}else if(B>c-200){n=c-200-q;a.$tabList.css({left:n})}}$(".active-tab",a.$page).removeClass("active-tab");s.addClass("active-tab");if(d){var K;s.trigger("refreshScroll");
s.bind("refreshScroll",function(J){K=J.result;C&&K.scrollToElement(C[0],100)});s.find(".panel").trigger("refreshScroll");a.tabletTabsScroller.scrollToElement(D[0],100)}$(".panel",s).each(function(){var J=$(this);if(!J.hasClass("column-loaded")){J.trigger("refresh",[true]);J.addClass("column-loaded")}})};j.remove=function(D){var C=$($("a",D).attr("href")),s=D.prev("li");$("#"+$("a",s).attr("href").substr(1)+"-tab");$("a",D).hasClass("ui-btn-active")&&j.select(s);D.remove();C.remove();f-=200;a.$tabList.width(f);
j.refresh();if(parseInt(a.$tabList.css("left"))!=0){D=parseInt(a.$tabList.css("left"))+200;a.$tabList.css({left:D})}};j.init=function(){if(d)$("a:first",a.$tabletTabs).trigger("click");else{$("a:first",a.$tabBar).trigger("click");a.$tabListSelector=$("#tab-list-selector");a.$tabListSelector.change(function(){var D=$(this).find("option:selected").data("target");j.select(D)});$("#tab-list-selector-button").attr("data-tooltip","Tab List").removeAttr("title").addClass("tooltip-top");j.scroll.init()}};
j.sort=function(D,C){var s,q=$(C.item).attr("data-company-id");D=C.item.parent().find("li");var B=[];if(q!=="main"&&q!=="portfolio"){D.each(function(K,J){q=$(J).attr("data-company-id");if(q!=="main"&&q!=="portfolio"){s=$(J).index();B.push({_id:q,position:s})}});WebService.updateCompanies({userCompanyTabs:B})}};var u,o;j.scroll.init=function(){u=$("#tab-scroll-right");o=$("#tab-scroll-left");a.$tabBar.css("max-width",c);a.$tabList=$("ul",a.$tabBar);u.click(function(){if(n<=k+200)n=k;else n-=200;a.$tabList.css({left:n});
return false});o.click(function(){if(n>=-200)n=0;else n+=200;a.$tabList.css({left:n});return false})};j.refresh=function(){k=a.$tabBar.width()-f;if(k<0){a.$tabBar.removeClass("no-scroll");o.show();u.show()}else{a.$tabBar.addClass("no-scroll");o&&o.hide();u&&u.hide();a.$tabList.css({left:"0px"})}};var w={};w.create=function(D){var C=$('<div class="'+D.type+' panel" id="'+(D.options.feed_account?D.options.feed_account._id:"")+'"></div>');D.options.$node=C;$.data(C[0],"data",D.options);$.data(C[0],"type",
D.type);D.options.$tab=$(".tab-scroller",D.tab);C.appendTo(D.options.$tab);if(d){var s=$(".panel",D.options.$tab),q=C.first().width();s=s.length*parseInt(q);D.options.$tab.width(s);var B;if(D.options.feed_account)B=D.options.feed_account.name;s=$.data(D.tab[0],"selector");if(D.options.company){B=D.options.company.feed_info.title;if(D.type==="feed"){B="Company News";if(D.options.bingsearch)B="Additional News";if(D.options.blogsearch)B="News From Blogs"}if(D.type==="podcast")B="Podcasts";if(D.type===
"prices")B="Prices";if(D.type==="agenda"&&!D.options.competitor)B="Calendar";if(D.type==="agenda"&&D.options.competitor)B="Competitors Calendar";if(D.type==="twitter"&&!D.options.competitor)B="Breaking News";if(D.type==="twitter"&&D.options.competitor)B="Competitors News";if(D.type==="blinkx")B="Broadcast News";s=$("ul",s)}if(D.options.portfolio){B=D.options.portfolio.title;if(D.type==="agenda")B+=" Agenda";if(D.type==="portfolio")B+=" Stocks";if(D.type==="feed")B+=" News"}B=$("<li><a>"+B+"</a></li>");
s.append(B);s.listview("refresh");var K;K=D.options.company?s.parents(".ui-collapsible:first"):s;B.click(function(){j.select(K,C)});setTimeout(function(){D.tab.trigger("refreshScroll");a.tabletTabsScroller.refresh()},100);C.bind("init",function(){var J=C.find("[data-role=content]");if(!e){var P=a.$desktopContent.height()-43,Z=document.styleSheets[document.styleSheets.length-1];Z.insertRule(".panel-content-wrap { height: "+P+"px !important; }",Z.cssRules.length);e=true}J.wrap('<div class="panel-content-wrap"></div>');
P=C.find(".panel-content-wrap");var X=new iScroll(P[0],{hScroll:false,hideScrollbar:true,lockDirection:true}),ka;J[0].addEventListener("DOMSubtreeModified",function(){ka&&clearTimeout(ka);ka=setTimeout(function(){X.refresh()},1500)},false);C.bind("refreshScroll",function(){X.refresh()})})}else C.bind("init",function(){finfore.data.user.is_public||w.sliders(C);w.controlgroup(D)});finfore.modules[D.type].init(C,D.options)};w.remove=function(D){D.options.panel.$node.remove()};w.controlgroup=function(D){var C=
$("[data-role=header]:first",D.options.$node),s=D.tab.attr("id")=="main";if(finfore.data.user.is_public)s=false;s=$.View("//webapp/views/panel.controlgroup.tmpl",{editable:s});C.append(s);C.find("[data-role=controlgroup] a").button();C.find("[data-role=controlgroup]").controlgroup();D.options.$node.bind("manage",function(){finfore.manage.init({target:{type:$.data(D.options.$node[0],"type"),data:$.data(D.options.$node[0],"data")}})})};w.sliders=function(D){var C=$('<div class="panel-slider-controls"></div>'),
s=$('<button data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="d">Slide Panel Left</button>'),q=$('<button data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="d">Slide Panel Right</button>');C.append(s,q);s.button();q.button();s.click(z);q.click(z);C.appendTo(D)};var z=function(){var D=$(this).parents(".panel").first(),C=D.next(".panel"),s=D.prev(".panel"),q=D.width();if($(this).attr("data-icon")==="arrow-r"){if(C.length){C.animate({left:"-="+q},300,function(){C.css("left",
"auto")});D.css("z-index","99").animate({left:"+="+q},300,function(){D.css({left:"auto","z-index":"0"});D.insertAfter(C);w.sort({},{item:D})})}}else if(s.length){s.animate({left:"+="+q},300,function(){s.css("left","auto")});D.css("z-index","99").animate({left:"-="+q},300,function(){D.css({left:"auto","z-index":"0"});D.insertBefore(s);w.sort({},{item:D})})}return false};w.sort=function(D,C){var s=[],q;C.item.parent().find(".panel").each(function(B,K){columnId=$.data(K,"data").feed_account._id;q=$(K).index();
s.push({_id:columnId,position:q})});WebService.updateColumns({columns:s})};var A=function(){a.$publicSelectors=$("#public-account-selectors");a.$publicAccountSelectorBtn=$("button",a.$publicSelectors);if(d){a.$publicPage=$("#public-account-selector");a.$publicPage.page();a.$professionSelector=$("#profession",a.$publicPage);a.$geoSelector=$("#geographic",a.$publicPage);a.$industrySelector=$("#industry",a.$publicPage);$(".public-account-selector-btn",a.$publicPage).click(function(){var D=a.$industrySelector.val()+
","+a.$geoSelector.val()+","+a.$professionSelector.val();finfore.publicLogin({ids:D},function(){window.location.reload()});return false});a.$publicAccountSelectorBtn.click(function(){$.mobile.changePage(a.$publicPage,{transition:"slidedown"});return false})}else{a.$professionSelector=$("#profession",a.$publicSelectors);a.$geoSelector=$("#geographic",a.$publicSelectors);a.$industrySelector=$("#industry",a.$publicSelectors);a.$publicAccountSelectorBtn.click(function(){var D=a.$industrySelector.val()+
","+a.$geoSelector.val()+","+a.$professionSelector.val();finfore.publicLogin({ids:D},function(){window.location.reload()})})}},L=function(){var D=$("#blank-state-overlay"),C=$("#blank-state");$(".ui-header",a.$page).css("z-index","auto");$("[data-role=button]",C).button();$("form input[type=checkbox]",C).change(function(){$(this).is(":checked")?Storage.setItem("blankState",false):Storage.setItem("blankState",true)});$("#blank-state-close-btn",C).click(function(){C.remove();D.remove();$(".ui-header",
a.$page).css("z-index","2")})},E=function(){var D=$("#main");finfore.$body.delegate(".panel-refresh","click",function(){$(this).parents(".panel:first").trigger("refresh")});D.delegate(".panel-manage","click",function(){$(this).parents(".panel:first").trigger("manage")});D.delegate(".panel-remove","click",function(){var C=$(this).parents(".panel:first"),s=$.data(C[0],"type"),q=$("#manage-page");if(!q.length){finfore.manage.init({silentInit:true});q=$("#manage-page")}q=$("#management-tab-"+s,q);q=$(".mtabs-container",
q);q=$(".mtab",q);var B=$.data(C[0],"data"),K,J;q.each(function(){J=$(this);K=$.data(J[0],"data");if(B===K){J.attr("checked","checked").trigger("change");return false}});finfore.manage.panels.remove({$node:J,category:s})})},Q={$node:"",$ghost:$('<marquee scrollamount="2"></marquee>'),updateNews:function(D){if(D.screen_name){var C="http://twitter.com/"+D.from_user;if(D.text){var s=D.text.match(/(HTTP:\/\/|HTTPS:\/\/)([a-zA-Z0-9.\/&?_=!*,\(\)+-]+)/i);if(s)C=s[0]}D='<a href="'+C+'" target="_blank" class="twitter-update" title="'+
D.text+'">'+D.text+"</a>"}else if(D.elt||D.lt){C=D.e+":"+D.t;s="";var q=D.cp;if(q<0)s="-";else if(q>0)s="+";s=C+": "+D.l+" "+s+" "+Math.abs(q)+"%";D='<a href="http://www.google.com/finance?q='+C+'" target="_blank" class="prices-update" title="'+D.name+'">'+s+"</a>"}else D='<a href="'+D.link+'" target="_blank" class="feed-update" title="'+D.title+'">'+(D.title||"")+"</a>";empty(Q.$node[0]);Q.$ghost.removeData();Q.$ghost.append(D);Q.$ghost.clone().appendTo(Q.$node)}};Q.updatePrices=Q.updateNews;var G=
function(){$(window).bind("orientationchange resize",function(){var D=a.$desktopContent.height()-43,C=document.styleSheets[document.styleSheets.length-1];C.insertRule(".panel-content-wrap { height: "+D+"px !important; }",C.cssRules.length);D=$(".active-tab",a.$page);C=$(".panel",D);D.trigger("refreshScroll");C.trigger("refreshScroll");a.tabletTabsScroller.refresh()})};return{init:function(){var D=$.View("//webapp/views/desktop.tmpl",{user:finfore.data.user,focus:finfore.data.focus,blankState:finfore.data.blankState,
selectedFocus:finfore.data.selectedFocus,tablet:d});$(D).appendTo(finfore.$body);a.$page=$("#desktop");$.mobile.changePage(a.$page,{changeHash:false});if(finfore.data.user){a.$tabBar=$("#tab-bar");a.$tabList=$("ul",a.$tabBar);a.$desktopContent=$("#desktop-content");if(d){a.$tabletTabsContainer=$(".tablet-tab-selector",a.$page);a.tabletTabsScroller=new iScroll("tablet-tabs",{hScroll:false,hScrollbar:false,vScrollbar:false,useTransition:true});a.$tabletTabs=$(".tablet-tab-list",a.$tabletTabsContainer);
G()}j.init();var C=j.add({id:"main",title:"Main",closable:false});a.tabs.$main=$("#main");j.add({id:"portfolio",title:"Portfolio",closable:false});a.tabs.$portfolio=$("#portfolio");a.tabs.$main.add(a.tabs.$portfolio);Q.$node=$(".scrolling-ticker",a.$page);Q.$node.delegate("marquee","mouseover",function(){$("marquee",Q.$node)[0].stop()});Q.$node.delegate("marquee","mouseout",function(){$("marquee",Q.$node)[0].start()});if(!finfore.data.user.is_public){finfore.$body.addClass("registered-user");if(!finfore.data.user.is_public&&
!d){a.$panelsSortable=$("#main .tab-scroller");a.$panelsSortable.sortable({helper:"clone",handle:'[data-role="header"]',stop:w.sort});a.$tabsSortable=$("ul:first-child",a.$tabBar);a.$tabsSortable.sortable({containment:"parent",revert:true,tolerance:"pointer",stop:j.sort})}$(".logout-button",a.$page).bind("click",function(){Storage.removeItem("user");Storage.removeItem("updateProfile");window.location.reload();return false});$("#manage-button",a.$page).click(function(){finfore.manage.init();return false});
$("#profile-button",a.$page).bind("click",function(){finfore.profile.init();return false});$(".help-button",a.$page).bind("click",function(){finfore.help.init();return false});$(".add-company-button",a.$page).click(finfore.addcompany.init)}finfore.populate();setTimeout(function(){j.select(C)},10)}if(!finfore.data.user||finfore.data.user.is_public){$("#login-button").click(function(){finfore.login.init();return false});$("#signup-button").click(function(){finfore.signup.init();return false});$("#find-company-button").click(function(){finfore.addcompany.init();
return false});A()}finfore.data.blankState&&L();if(!d){$(window).bind("resize",function(){c=$(document).width()-150;a.$tabBar.css("max-width",c);j.refresh()});E()}finfore.data.updateProfile&&finfore.profile.init();if(finfore.tablet){var s=false;a.$desktopContent.delegate('a[target="_blank"]',"click",function(){if(s)return false;else{s=true;setTimeout(function(){s=false},500);return true}})}},nodes:a,tabs:j,panels:w,ticker:Q,enableManagement:function(){$("#manage-button",a.$page).removeClass("disabled")}}}();
steal.loaded("webapp/core/desktop.js");
finfore.manage=function(){var a,d,e,f={saveColumn:"Successfully saved new column. ",errorSaveColumn:"Couldn't save new column. ",updateColumn:"Successfully updated the column. ",errorUpdateColumn:"Couldn't update column. Please try again later.",deleteColumn:"Successfully removed column. ",errorDeleteColumn:"Couldn't remove column. ",saveSource:"Successfully saved new source. ",errorSaveSource:"Couldn't save new source. ",deleteSource:"Successfully removed source. ",errorDeleteSource:"Couldn't removed source. ",
errorGetFriends:"Your authorization token has expired. Please revalidate your account. ",saveUser:"Successfully added new user. ",errorSaveUser:"Couldn't add new user. ",deleteUser:"Successfully unfollowed user. ",errorDeleteUser:"Couldn't unfollow user. "},c=function(o){var w=$(o.$container).find("> input[data-index]");$.each(w,function(){var z=$(this),A=parseInt(z.attr("data-index"));o.category=="portfolio"?$.data(z[0],"data",finfore.data.portfolios[A]):$.data(z[0],"data",finfore.data.panels.main[o.category][A]);
z.removeAttr("data-index");if(o.category=="twitter")j.getFriends({$node:z,category:"twitter"});else{z=z.next().next();k({$container:z,category:o.category,index:A})}})},k=function(o){var w=$("input[data-index]",o.$container);$.each(w,function(){var z=$(this),A=parseInt(z.attr("data-index"));o.category=="portfolio"?$.data(z[0],"data",finfore.data.portfolios[o.index].list[A]):$.data(z[0],"data",finfore.data.panels.main[o.category][o.index].feed_account.user_feeds[A]);z.removeAttr("data-index")})},n=
{create:function(o){var w;if(o.category=="twitter"||o.category=="linkedin"||o.category=="portfolio"){w=o.category=="portfolio"?finfore.data.portfolios.length:finfore.data.panels.main[o.category].length;window.open(finforeBaseUrl+"/feed_accounts/"+(o.category=="portfolio"?"google":o.category+"")+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+finfore.data.user.persistence_token+"&callback="+(finforeAppUrl+"authorize.html"),"_blank","resizable=yes,scrollbars=yes,status=yes");
window.addEventListener("message",authorized=function(A){n.authorizeListner(A,o,w)},false)}else{w=finfore.data.panels.main[o.category].length;function z(A,L,E){if(A&&E.columnTitle){$.mobile.showPageLoadingMsg();var Q={name:E.columnTitle};Q.category=o.category;if(o.category=="feed")Q.category="rss";if(o.category=="prices")Q.category="chart";if(o.category=="keyword")Q.keyword_column_attributes={is_aggregate:false,follower:0,keyword:E.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts.json",type:"POST",
data:{feed_account:Q,dependency:"false"},success:function(G){G={feed_account:G};if(o.category=="keyword")G.feed_account.keyword_column=Q.keyword_column_attributes;n.createSuccess(o,w,G)},error:function(){$().toastmessage("showErrorToast",f.errorSaveColumn)},complete:function(){$.mobile.hidePageLoadingMsg()}})}}$.prompt('<h2>Create Column</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Column name.."></label>',
{callback:z,buttons:{Cancel:false,"Create Column":true}})}},createSuccess:function(o,w,z){$().toastmessage("showSuccessToast",f.saveColumn);z=z.feed_account;z.user_feeds=[];w=$.View("//webapp/views/manage.panels.tmpl",{panel:z,index:w,category:o.category});o.$node.append(w);o.$node.trigger("create");var A=$("input:last",o.$node);A.attr("checked","checked").trigger("change");w=A.next().next();w.find("[data-role=controlgroup] a").button();w.find("[data-role=controlgroup]").controlgroup();var L=o.$node.parents(".management-tab-panel").find(".preset-tabs");
$(".mtab-content:last",o.$node).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:A,$presets:L,category:o.category})}});o.category==="portfolio"?finfore.portfolios.create(z):finfore.panels.create({type:o.category,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:z}});c({$container:o.$node,category:o.category})},authorizeListner:function(o,w,z){if(finforeAppUrl.indexOf(o.origin)!=-1){o=o.data;$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+
"/feed_accounts/"+o+".json",type:"GET",success:function(A){A={feed_account:A};n.createSuccess(w,z,A)},complete:function(){$.mobile.hidePageLoadingMsg()}});window.removeEventListener("message",authorized)}},revalidate:function(o){var w,z;if(o.category=="twitter"||o.category=="linkedin"){w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));z=finfore.data.panels.main[o.category][w];z=z.feed_account._id;window.open(finforeBaseUrl+"/feed_accounts/"+o.category+"/auth?auth_token="+finfore.data.user.single_access_token+
"&auth_secret="+finfore.data.user.persistence_token+"&feed_account_id="+z+"&callback="+finforeAppUrl+"authorize.html","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(A){n.authorizeListner(A,o,w)},false)}},edit:function(o){function w(L,E,Q){if(L&&Q.columnTitle){L={_id:A.feed_account._id,name:Q.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+L._id+".json",type:"PUT",data:{feed_account:L},success:function(G){$().toastmessage("showSuccessToast",
f.updateColumn);A.feed_account=G.feed_account},error:function(){$().toastmessage("showErrorToast",f.errorUpdateColumn)}});Q=o.category==="portfolio"?Q.columnUsername:Q.columnTitle;$(".ui-header .ui-title",o.$node).text(Q);$(".mtab-title > span",o.$node.next().next()).text(Q);o.$node.next().text(Q)}}var z,A;if(o.category==="portfolio"){z=finfore.data.portfolios.indexOf($.data(o.$node[0],"data"));A=finfore.data.portfolios[z]}else{z=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));
A=finfore.data.panels.main[o.category][z]}$.prompt('<h2>Edit Column Title</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="'+A.feed_account.name+'" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:w,buttons:{Cancel:false,"Update Column":true}})},remove:function(o){function w(L){if(L){$.ajax({url:finforeBaseUrl+"/feed_accounts/"+A.feed_account._id+".json",type:"DELETE",success:function(){$().toastmessage("showSuccessToast",
f.deleteColumn)},error:function(){$().toastmessage("showErrorToast",f.errorDeleteColumn)}});o.$node.prevAll("input:first").attr("checked","checked").trigger("change");o.$node.next().remove().end().next().remove().end().remove();o.category==="portfolio"?finfore.portfolios.remove(A):finfore.panels.remove({type:o.category,tab:finfore.desktop.nodes.tabs.$main,options:{panel:A,index:z}})}}var z,A;if(o.category==="portfolio"){z=finfore.data.portfolios.indexOf($.data(o.$node[0],"data"));A=finfore.data.portfolios[z]}else{z=
finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));A=finfore.data.panels.main[o.category][z]}$.prompt("<h2>Are you sure you sure you want to remove <em>"+A.feed_account.name+"</em>?</h2>",{callback:w,buttons:{Cancel:false,Remove:true}})}},j={getFriends:function(o){var w=$.data(o.$node[0],"data"),z=o.$node.next().next(),A=finfore.data.panels.main.twitter.indexOf(w);z.addClass("loading-content");$.ajax({url:finforeBaseUrl+"/tweetfores/friends.json",type:"GET",data:{feed_account_id:w.feed_account._id},
success:function(L){z.find(".list-view").empty();if(L.error){L='<div class="auth-error">'+f.errorGetFriends+'<a data-role="button" data-icon="refresh" data-inline="true" data-theme="b" class="revalidate-account">Revalidate Account</a></div>';z.find(".list-view").append(L);z.find(".list-view a").button().bind("click",function(){n.revalidate(o)});return false}w.friends=[];w.friends=$.map(L,function(E){return{_id:E.id,name:E.screen_name,feed_info:{title:E.screen_name},feed_account_id:w.feed_account._id}});
$.each(w.friends,function(E){var Q=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:w.feed_account._id,source:finfore.data.panels.main.twitter[A].friends[E],index:E,category:"twitter"});z.find(".list-view").append(Q);Q=z.find(".list-view input:last");$.data(Q[0],"data",finfore.data.panels.main.twitter[A].friends[E])})},complete:function(){z.removeClass("loading-content")}})},addCustom:function(o){function w(L,E,Q){if(L&&Q.sourceUsername){$.mobile.showPageLoadingMsg();Q.sourceUsername=$.trim(Q.sourceUsername);
$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:A,friend_id:Q.sourceUsername},success:function(G){finfore.data.panels.main.twitter[z].friends.push({_id:G.id,name:G.screen_name,feed_account_id:A});var D=o.$node.nextAll("div:first");G=finfore.data.panels.main.twitter[z].friends.length-1;var C=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:A,source:finfore.data.panels.main.twitter[z].friends[G],index:G,category:"twitter"});D.find(".list-view").append(C);
finfore.data.panels.main.twitter[z].$node.trigger("reinit");D=D.find(".list-view input:last");$.data(D[0],"data",finfore.data.panels.main.twitter[z].friends[G]);$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",f.saveUser)},error:function(){$().toastmessage("showErrorToast",f.errorSaveUser)}})}}var z=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),A=finfore.data.panels.main[o.category][z].feed_account._id;$.prompt('<h2>Follow Twitter User</h2><label>Username <br> <input type="text" id="sourceUsername" name="sourceUsername" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',
{callback:w,buttons:{Cancel:false,"Follow User":true}})},remove:function(o){function w(G){if(G){L.attr("data-id");$.ajax({url:finforeBaseUrl+"/tweetfores/friend_remove.json",type:"POST",data:{feed_account_id:A,friend_id:Q},success:function(){$().toastmessage("showSuccessToast",f.deleteUser)},error:function(){$().toastmessage("showErrorToast",f.errorDeleteUser)}});L.prevAll("input:first").attr("checked","checked").trigger("change");L.next().remove().end().remove();finfore.data.panels.main[o.category][z].friends.splice(E,
1);finfore.data.panels.main[o.category][z].$node.trigger("reinit")}}var z=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),A=finfore.data.panels.main[o.category][z].feed_account._id,L=$("input:checked",o.$node.next().next()),E=finfore.data.panels.main[o.category][z].friends.indexOf($.data(L[0],"data")),Q=finfore.data.panels.main[o.category][z].friends[E]._id;$.prompt("<h2>Are you sure you sure you want to stop following <em>"+finfore.data.panels.main[o.category][z].friends[E].name+
"</em>?</h2>",{callback:w,buttons:{Cancel:false,Unfollow:true}})},addPreset:function(o){var w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),z=finfore.data.panels.main[o.category][w].feed_account._id,A=$(".preset-source:checked",o.$presets);A=$.trim(A.attr("data-address"));$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:z,friend_id:A},success:function(L){finfore.data.panels.main.twitter[w].friends.push({id:L._id,
name:L.screen_name,feed_account_id:z});var E=o.$node.nextAll("div:first");L=finfore.data.panels.main.twitter[w].friends.length-1;var Q=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:z,source:finfore.data.panels.main.twitter[w].friends[L],index:L,category:"twitter"});E.find(".list-view").append(Q);finfore.data.panels.main.twitter[w].$node.trigger("reinit");E=E.find(".list-view input:last");$.data(E[0],"data",finfore.data.panels.main.twitter[w].friends[L]);$().toastmessage("showSuccessToast",
f.saveUser)},error:function(){$().toastmessage("showErrorToast",f.errorSaveUser)},complete:function(){$.mobile.hidePageLoadingMsg()}})}},u=function(){$.each(finfore.modules,function(o){var w=$("#management-tab-"+o);finfore.modules[o].management&&finfore.modules[o].management(w)});d=$("#management-tabs");e=$("#management-tabs > ul");$("a",e).click(function(){var o=$(this),w=$(o.attr("href"),d);$(".management-tab-active",e).removeClass("management-tab-active");o.addClass("management-tab-active");$(".management-tab-panel-active",
d).hide().removeClass("management-tab-panel-active");w.show().addClass("management-tab-panel-active");return false});$("a:first",e).trigger("click")};return{init:function(o){Loader.show();o||(o={});if(!a){var w=$.View("//webapp/views/manage.tmpl",{modules:finfore.modules});$(w).appendTo(finfore.$body);a=$("#manage-page");u(o);a.delegate(".mtab, .preset-tab-radio","change",function(){var A=$(this).parent();$(".visible-tab",A).removeClass("visible-tab");$(this).next().next().addClass("visible-tab")});
$(".preset-tabs",a).delegate("label","click",function(){$(this).prev("input").prop("checked",true).trigger("change")});$(".preset-tabs",a).delegate("label","mousedown",function(){$(this).trigger("click")})}if(o.target&&o.target.type){$('a[href="#management-tab-'+o.target.type+'"]',e).trigger("click");w=$("#management-tab-"+o.target.type,a);w=$(".mtabs-container",w);if(o.target.data){var z;$(".mtab",w).each(function(){var A=$(this);z=$.data(A[0],"data");if(o.target.data===z){A.prop("checked",true).trigger("change");
return false}})}}o.silentInit||$.mobile.changePage(a,{transition:"slidedown"});Loader.hide()},panels:n,bindPanelData:c,sources:{addCustom:function(o){function w(L,E,Q){if(L&&Q.sourceTitle&&Q.sourceURL){$.mobile.showPageLoadingMsg();L=o.category;if(o.category=="feed")L="rss";if(o.category=="prices")L="chart";$.ajax({url:finforeBaseUrl+"/feed_accounts/"+A+".json",type:"PUT",data:{feed_account:{_id:A,user_feeds_attributes:[{feed_info_attributes:{category:L,title:Q.sourceTitle,address:Q.sourceURL}}]}},
success:function(G){finfore.data.panels.main[o.category][z].feed_account=G;var D=G.user_feeds.length-1;G=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:G._id,source:finfore.data.panels.main[o.category][z].feed_account.user_feeds[D],index:D,category:o.category});o.$node.nextAll("div:first").find(".list-view").append(G);finfore.data.panels.main[o.category][z].$node.trigger("reinit");k({$container:o.$node.parent(),category:o.category,index:z});$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",
f.saveSource)},error:function(){$().toastmessage("showErrorToast",f.errorSaveSource)}})}}var z=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),A=finfore.data.panels.main[o.category][z].feed_account._id;$.prompt(o.category==="twitter"?'<h2>Add Custom User</h2><input type="text" id="sourceTitle" name="sourceTitle" value="twitter" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" style="display: none"><label>Twitter Username <br> <input type="text" id="sourceURL" name="sourceURL" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>':
'<h2>Add Custom Source</h2><label>Source Title <br> <input type="text" id="sourceTitle" name="sourceTitle" value="" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label><label>Source URL <br> <input type="url" id="sourceURL" name="sourceURL" value="" placeholder="URL of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:w,buttons:{Cancel:false,"Save Source":true}})},remove:function(o){function w(Q){if(Q){Q=
A.attr("data-id");$.ajax({url:finforeBaseUrl+"/user_feeds/"+Q+".json",type:"DELETE",data:{feed_account_id:finfore.data.panels.main[o.category][z].feed_account._id},success:function(){$().toastmessage("showSuccessToast",f.deleteSource)},error:function(){$().toastmessage("showErrorToast",f.errorDeleteSource)}});A.prevAll("input:first").attr("checked","checked").trigger("change");A.next().remove().end().remove();finfore.data.panels.main[o.category][z].feed_account.user_feeds.splice(L,1);finfore.data.panels.main[o.category][z].$node.trigger("reinit")}}
var z=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),A=$("input:checked",o.$node.next().next()),L=finfore.data.panels.main[o.category][z].feed_account.user_feeds.indexOf($.data(A[0],"data")),E=finfore.data.panels.main[o.category][z].feed_account.user_feeds[L].feed_info.title;if(!E)E=finfore.data.panels.main[o.category][z].feed_account.user_feeds[L].name;$.prompt("<h2>Are you sure you sure you want to remove the <em>"+E+"</em> source?</h2>",{callback:w,buttons:{Cancel:false,
"Remove Source":true}})},addPreset:function(o){var w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),z=finfore.data.panels.main[o.category][w].feed_account._id,A=$(".preset-source:checked",o.$presets);A.next("label").text();var L="";if(A.attr("data-address"))L=A.attr("data-address");$.mobile.showPageLoadingMsg();L=o.category;if(o.category=="feed")L="rss";if(o.category=="prices")L="chart";L=A.val();$.ajax({url:finforeBaseUrl+"/feed_accounts/"+z+".json",type:"PUT",data:{feed_account:{_id:z,
user_feeds_attributes:[{feed_info_id:L}]}},success:function(E){finfore.data.panels.main[o.category][w].feed_account=E;var Q=E.user_feeds.length-1;E=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:E._id,source:finfore.data.panels.main[o.category][w].feed_account.user_feeds[Q],index:Q,category:o.category});o.$node.nextAll("div:first").find(".list-view").append(E);finfore.data.panels.main[o.category][w].$node.trigger("reinit");k({$container:o.$node.parent(),category:o.category,index:w});
A.next().remove().end().remove();$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",f.saveSource)},error:function(){$().toastmessage("showErrorToast",f.errorSaveSource)}})}},twitter:j,messages:f,updateFeedInfos:function(o){$(o.$node).addClass("loading-content");$.ajax({url:finforeBaseUrl+"/feed_infos.json",type:"GET",data:{category:o.category,per_page:50,page:o.count},success:function(w){finfore.data.feedInfos[o.category]=w;w=$.View("//webapp/views/manage.feed-infos.tmpl",{feeds:w,
name:o.category,type:o.type});$(".list-view",o.$node).append(w);$(o.$node).removeClass("loading-content");$(".list-view label",o.$node).draggable({revert:"invalid",helper:"clone",cursor:"move"})}})}}}();steal.loaded("webapp/core/manage.js");
finfore.login=function(){var a,d={},e=function(){var c=$(this),k=$("#login",c).val();c=$("#password",c).val();WebService.auth({username:k,password:c,complete:function(n){finfore.storeData({user:n});window.location.reload()}});return false},f=function(){$.prompt('<p><label>Type your email address in the field bellow and we will send you a message with your password: <br><input type="text" id="email" name="email" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Email.."></label></p>',{callback:function(c,
k,n){c&&n.email&&$.ajax({url:finforeBaseUrl+"/users/forgot_password.json",type:"GET",data:{email:n.email},success:function(j){j.status=="SUCCESS"?$().toastmessage("showSuccessToast","A message containing your password has been sent to your email address. "):$().toastmessage("showErrorToast","We couldn't find your email address in our database. Please try again. ")},error:function(){$().toastmessage("showErrorToast","We couldn't send you your password. Please try again later. ")}})},buttons:{Cancel:false,
"Send Request":true}})};return{init:function(){if($("#login-page").length){a=$("#login-page");$.mobile.changePage(a,{transition:"slidedown"})}else{var c=$.View("//webapp/views/login.tmpl",{user:finfore.data.user,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl});$.mobile.hidePageLoadingMsg&&$.mobile.hidePageLoadingMsg();finfore.$body.append(c);a=$("#login-page");$("#signup-button",a).click(finfore.signup.init);
finfore.smallScreen?$.mobile.changePage(a,{changeHash:false}):$.mobile.changePage(a,{transition:"slidedown"});a.find("form").bind("submit",e);$(".forgot-password",a).click(f);if(smallScreen){d.$publicPage=$("#public-account-selector");d.$publicPage.page();d.$professionSelector=$("#profession",d.$publicPage);d.$geoSelector=$("#geographic",d.$publicPage);d.$industrySelector=$("#industry",d.$publicPage);$(".public-account-selector-btn").click(function(){var k=d.$industrySelector.val()+","+d.$geoSelector.val()+
","+d.$professionSelector.val();finfore.publicLogin({ids:k},function(n){finfore.storeData({user:n});window.location.reload()})});$(".public-account-btn").click(function(){$.mobile.changePage(d.$publicPage,{transition:"slide"});return false})}if(finforeNative){$(".social-signin a",a).bind("click",function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(k){if(k.indexOf(finforeAppUrl+"socialcallback.html")==
0){window.location.href=k;window.plugins.childBrowser.close()}}}}}}}();steal.loaded("webapp/core/login.js");
finfore.signup=function(){var a,d,e,f,c,k,n,j=function(w){finfore.data.user=w.user;Storage.setItem("user",JSON.stringify(finfore.data.user));e.hide();f.show();$.mobile.hidePageLoadingMsg()},u=function(){$.mobile.showPageLoadingMsg();var w=$(this).serialize();$.ajax({url:finforeBaseUrl+"/users.json",type:"POST",data:w,error:function(z){$.mobile.hidePageLoadingMsg();try{var A=JSON.parse(z.responseText)}catch(L){$().toastmessage("showToast",{text:"There was a problem registering your user. Please try again later.",
type:"error",sticky:true});return false}$.each(A,function(E,Q){if(Q[0]=="email_work")Q[0]="Your email";if(Q[0]=="password")Q[0]="Your password";if(Q[0]!=="password_confirmation"&&Q[0]!=="login"){E="<strong>"+Q[0]+"</strong> "+Q[1];$().toastmessage("showToast",{text:E,sticky:true,type:"error"})}})},success:j});return false},o=function(){var w=$(this),z=$(this).attr("data-type");window.open(finforeBaseUrl+"/feed_accounts/"+z+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+
finfore.data.user.persistence_token+"&callback="+finforeAppUrl+"authorize.html","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(){w.hide();window.removeEventListener("message",authorized)},false)};return{init:function(){if($("#signup-page").length)$.mobile.changePage($("#signup-page"),{transition:"slidedown"});else{var w=$.View("//webapp/views/signup.tmpl",{focus:finfore.data.focus,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl,
smallScreen:finfore.smallScreen});$(w).appendTo(finfore.$body);a=$("#signup-page");d=$("[data-role=content]",a);e=$("#signup-page1",d);f=$("#signup-page2",d);c=$(".twitter-connect-button",a);$linkedinAuthBtn=$(".linkedin-connect-button",a);k=$(".google-connect-button",a);n=$("#finish-btn");c.click(o);$linkedinAuthBtn.click(o);k.click(o);n.click(function(){window.location.reload()});$.mobile.changePage(a,{transition:"slidedown"});d.find("form").submit(u);if(finforeNative){$(".social-signin a",a).bind("click",
function(){window.plugins.childBrowser.showWebPage($(this).attr("href"),{showLocationBar:false});return false});window.plugins.childBrowser.onLocationChange=function(z){if(z.indexOf(finforeAppUrl+"socialcallback.html")==0){window.location.href=z;window.plugins.childBrowser.close()}}}}},authorizeService:o}}();steal.loaded("webapp/core/signup.js");
finfore.profile=function(){var a,d=function(){var e=$("#user_geographic",a),f=$("#user_profession",a),c=$("#user_industry",a);if(!(e.val()&&f.val()&&c.val())){$().toastmessage("showToast",{text:"Please select at least one interest in each focus area selector. ",sticky:true,position:"top-right",type:"error"});return false}Loader.show();e=$(this).serializeObject();e.id=finfore.data.user._id;WebService.updateUser({data:e,complete:function(){$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});
if(finfore.data.updateProfile){Storage.removeItem("updateProfile");window.location.reload()}$().toastmessage("showSuccessToast","Successfully updated your profile. ")}});return false};return{init:function(){if(!a){var e=$.View("//webapp/views/profile.tmpl",{user:finfore.data.user,updateProfile:finfore.data.updateProfile,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,panels:finfore.data.panels,portfolios:finfore.data.portfolios});$(e).appendTo(finfore.$body);
a=$("#profile-page");$("#close-account-btn");$("form",a).submit(d);e=$(".twitter-profile-connect",a);var f=$(".linkedin-profile-connect",a),c=$(".google-profile-connect",a);e.click(finfore.signup.authorizeService);f.click(finfore.signup.authorizeService);c.click(finfore.signup.authorizeService)}$.mobile.changePage(a,{transition:"slidedown"})}}}();steal.loaded("webapp/core/profile.js");
finfore.addcompany=function(){var a,d,e,f=function(){var k=parseInt($(this).attr("data-index")),n=e[k]._id,j=false,u=finfore.smallScreen?finfore.desktop.nodes.$companiesPage:finfore.desktop.nodes.$page;$.each(finfore.data.companies,function(o,w){if(w.feed_info_id==n){w=o=$("#"+w._id,u);finfore.smallScreen||(w=$.data(o[0],"selector"));finfore.desktop.tabs.select(w);j=true;return false}});(function(){$.mobile.changePage(u,{transition:"slidedown",reverse:true});if(j)return false;if(finfore.data.user.is_public)finfore.companies.add([{feed_info:e[k],
_id:e[k]._id}],true);else{Loader.show();$.ajax({url:finforeBaseUrl+"/user_company_tabs.json",type:"POST",data:{user_company_tab:{feed_info_id:n,follower:"0",is_aggregate:true}},success:function(o){finfore.companies.add([o],true);Loader.hide()}})}})()},c=function(k,n){k=k.title.toLowerCase();n=n.title.toLowerCase();if(k<n)return-1;if(k>n)return 1;return 0};return{init:function(){Loader.show();a=$("#add-company-page");if(a.length){$.mobile.changePage(a,{transition:"slidedown"});Loader.hide()}else $.ajax({url:finforeBaseUrl+
"/feed_infos.json",type:"GET",data:{category:"all_companies"},success:function(k){if(!a.length){k.sort(c);e=k;k=$.View("//webapp/views/addcompany.tmpl",{companies:k});$(k).appendTo(finfore.$body);a=$("#add-company-page");d=$("[data-role=content]",a)}$("ul li",d).click(f);$.mobile.changePage(a,{transition:"slidedown"});Loader.hide()}})}}}();steal.loaded("webapp/core/addcompany.js");
finfore.help=function(){var a,d={},e=function(){var f=d.$form.serialize(),c=finforeBaseUrl+"/users/contact_admin";f+="&auth_token="+finfore.data.user.single_access_token;if(!(d.$subjectField.val()&&d.$messageField.val()&&d.$nameField.val()&&d.$emailField.val())){$().toastmessage("showToast",{text:"Please fill in all the available fields. ",sticky:true,position:"top-right",type:"error"});return false}$.mobile.showPageLoadingMsg();$.ajax({url:c,type:"POST",data:f,complete:function(){$().toastmessage("showSuccessToast",
"Successfully sent message. ");$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});$.mobile.hidePageLoadingMsg()}});return false};return{init:function(){if(!a){var f=$.View("//webapp/views/help.tmpl",{});$(f).appendTo(finfore.$body);a=$(".help-page");d.$form=$("form",a);d.$subjectField=$("#subject",d.$form);d.$messageField=$("#message",d.$form);d.$nameField=$("#name",d.$form);d.$emailField=$("#email",d.$form);d.$form.submit(e)}$.mobile.changePage(a,{transition:"slidedown"})}}}();
steal.loaded("webapp/core/help.js");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div data-role="header">    ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('    <a data-role="button" data-icon="arrow-l" data-inline="true" class="ui-btn-left panel-back-button">Back</a>   ');c.push("   <h1>");if(typeof title!=="undefined"&&title!=null)c.push(e.encode(typeof title===
"function"?title.call(f):title));c.push("</h1>   ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('    <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right panel-mobile-sliders">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-previous">Previous Column</a>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-next">Next Column</a>    </div>   ');
c.push('  </div>  <div data-role="content">   ');if(typeof content!=="undefined"&&content!=null)c.push(typeof content==="function"?content.call(f):content);c.push("  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_feed_tmpl",function(d){return function(e,f){e=[];var c=f.data;with(c){e.push('<ul data-role="listview" data-theme="c" ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))e.push('data-split-icon="arrow-r" data-split-theme="c" class="split-selector"');e.push('>   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>')}return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_feed_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>RSS News Management</strong>   <span>Create Rss Column, grab the hot news and filter them easily. </span>  </div>    <div class="manage-content">   <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):panels,function(n,
j){with(this){c.push('        <input type="radio" data-role="none" class="mtab" id="feed-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="feed-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">     <label for="feed-panel-');if(typeof n!==
"undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('     </label>          <div id="feed-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&
n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=j.feed_account._id)!=="undefined"&&(feed_account_id=j.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=j.feed_account._id)==="function"?(feed_account_id=j.feed_account._id).call(f):(feed_account_id=
j.feed_account._id)));c.push("</span>       ");if(typeof j.feed_account.user_feeds!=="undefined"&&j.feed_account.user_feeds!=null)e.each(typeof j.feed_account.user_feeds==="function"?j.feed_account.user_feeds.call(f):j.feed_account.user_feeds,function(u,o){with(this){c.push('        <input type="radio" data-native="true" name="feed-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));
c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-id="');if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-index="');if(typeof u!=="undefined"&&u!=null)c.push(e.encode(typeof u===
"function"?u.call(f):u));c.push('" ');if(typeof(u==0)!=="undefined"&&u==0!=null&&(typeof(u==0)==="function"?(u==0).call(f):u==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('">');
if(typeof(o.feed_info&&o.feed_info.title)!=="undefined"&&(o.feed_info&&o.feed_info.title)!=null&&(typeof(o.feed_info&&o.feed_info.title)==="function"?(o.feed_info&&o.feed_info.title).call(f):o.feed_info&&o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(f):o.feed_info.title))}else{c.push(" ");if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?
o.name.call(f):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="feed-preset-all" name="feed-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none"/>    <label for="feed-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Feeds    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="feed-preset-suggested" name="feed-preset-tabs" class="preset-tab-radio" data-role="none"/>    <label for="feed-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Feeds    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_podcast_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_podcast_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Podcast Management</strong>   <span>Manage your video, radio, and any multimedia regarding your business points. </span>  </div>    <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):
panels,function(n,j){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="podcast-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="podcast-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="podcast-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('     </label>          <div id="podcast-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=j.feed_account._id)!=="undefined"&&(feed_account_id=j.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=j.feed_account._id)==="function"?(feed_account_id=j.feed_account._id).call(f):(feed_account_id=
j.feed_account._id)));c.push("</span>       ");if(typeof j.feed_account.user_feeds!=="undefined"&&j.feed_account.user_feeds!=null)e.each(typeof j.feed_account.user_feeds==="function"?j.feed_account.user_feeds.call(f):j.feed_account.user_feeds,function(u,o){with(this){c.push('        <input type="radio" data-native="true" name="podcast-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));
c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-id="');if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-index="');if(typeof u!=="undefined"&&u!=null)c.push(e.encode(typeof u===
"function"?u.call(f):u));c.push('" ');if(typeof(u==0)!=="undefined"&&u==0!=null&&(typeof(u==0)==="function"?(u==0).call(f):u==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('">');
if(typeof(o.feed_info&&o.feed_info.title)!=="undefined"&&(o.feed_info&&o.feed_info.title)!=null&&(typeof(o.feed_info&&o.feed_info.title)==="function"?(o.feed_info&&o.feed_info.title).call(f):o.feed_info&&o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(f):o.feed_info.title))}else{c.push(" ");if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?
o.name.call(f):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="podcast-preset-all" name="podcast-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="podcast-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Podcasts    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="podcast-preset-suggested" name="podcast-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="podcast-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Podcasts    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.management.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_twitter_tmpl",function(d){return function(e,f){e=[];var c=f.data;with(c){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(f):!connected))e.push('   <a class="twitter-connect-button">Connect with Twitter</a>  ');e.push('    <ul class="tweets"></ul>    ');if(typeof connected!=="undefined"&&connected!=null&&(typeof connected==="function"?connected.call(f):connected))e.push('   <ul data-role="listview" class="load-more-container">    <li data-icon="false" data-theme="d">     <a class="load-more-tweets">Load more...</a>    </li>   </ul>  ');
e.push("")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_twitter_tweet_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push("");if(typeof tweets!=="undefined"&&tweets!=null)e.each(typeof tweets==="function"?tweets.call(f):tweets,function(n,j){with(this){c.push('   <li class="ui-li ui-btn-up-c">    <a class="tweet-avatar" href="http://twitter.com/');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)c.push(e.encode(typeof j.screen_name==="function"?
j.screen_name.call(f):j.screen_name));c.push('" target="_blank">     <img src="');if(typeof j.profile_image_url!=="undefined"&&j.profile_image_url!=null)c.push(e.encode(typeof j.profile_image_url==="function"?j.profile_image_url.call(f):j.profile_image_url));c.push('" height="48" width="48" alt="');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)c.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(f):j.screen_name));c.push('" title="');if(typeof j.screen_name!=="undefined"&&
j.screen_name!=null)c.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(f):j.screen_name));c.push('" border="0">    </a>    <span class="tweet-text">     ');if(typeof j.html!=="undefined"&&j.html!=null)c.push(typeof j.html==="function"?j.html.call(f):j.html);c.push('    </span>    <span class="tweet-time">     <a href="http://twitter.com/');if(typeof j.screen_name!=="undefined"&&j.screen_name!=null)c.push(e.encode(typeof j.screen_name==="function"?j.screen_name.call(f):j.screen_name));
c.push("/status/");if(typeof j.id_str!=="undefined"&&j.id_str!=null)c.push(e.encode(typeof j.id_str==="function"?j.id_str.call(f):j.id_str));c.push('" title="View tweet on Twitter" target="_blank">      ');if(typeof j.created_at!=="undefined"&&j.created_at!=null)c.push(e.encode(typeof j.created_at==="function"?j.created_at.call(f):j.created_at));c.push("     </a>    </span>   </li>  ")}});c.push("")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tweet.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_twitter_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Twitters And Suggestions Management</strong>   <span>Manage your twitter accounts and suggestions list easily. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):
panels,function(n,j){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="twitter-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="twitter-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="twitter-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('     </label>          <div id="twitter-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Follow Custom User</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Unfollow User</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push("</span>              ");if("boolean"!=="undefined"&&1&&("boolean"==="function"?false.call(f):false)){c.push('       <a href="http://twitter.com/');if(typeof j.feed_account.account!=="undefined"&&j.feed_account.account!=null)c.push(e.encode(typeof j.feed_account.account==="function"?j.feed_account.account.call(f):j.feed_account.account));
c.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof j.feed_account.account!=="undefined"&&j.feed_account.account!=null)c.push(e.encode(typeof j.feed_account.account==="function"?j.feed_account.account.call(f):j.feed_account.account));c.push("</a>       ")}c.push('             </div>      <div class="list-view"></div>     </div>    ')}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset User</a>    </div>      <input type="radio" data-native="true" id="twitter-preset-all" name="twitter-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="twitter-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Users    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="twitter-preset-suggested" name="twitter-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="twitter-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Users    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_prices_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_prices_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Prices Management</strong>   <span>Create Prices Column, grab the hot news and filter them easily. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):panels,
function(n,j){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="prices-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="prices-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="prices-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('     </label>          <div id="prices-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('</span>      </div>      <div class="list-view">       ');if(typeof j.feed_account.user_feeds!=="undefined"&&j.feed_account.user_feeds!=null)e.each(typeof j.feed_account.user_feeds==="function"?j.feed_account.user_feeds.call(f):j.feed_account.user_feeds,function(u,o){with(this){c.push('        <input type="radio" data-native="true" name="prices-sources-');
if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?o.feed_account_id.call(f):o.feed_account_id));c.push('" id="source-');if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?o.feed_account_id.call(f):o.feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-id="');if(typeof o._id!==
"undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-index="');if(typeof u!=="undefined"&&u!=null)c.push(e.encode(typeof u==="function"?u.call(f):u));c.push('" ');if(typeof(u==0)!=="undefined"&&u==0!=null&&(typeof(u==0)==="function"?(u==0).call(f):u==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?
o.feed_account_id.call(f):o.feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('">');if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null&&(typeof o.feed_info.title==="function"?o.feed_info.title.call(f):o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(f):o.feed_info.title))}else{c.push(" ");
if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?o.name.call(f):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="prices-preset-all" name="prices-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="prices-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Prices    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="prices-preset-suggested" name="prices-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="prices-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Prices    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_portfolio_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_portfolio_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Portfolio Management</strong>   <span>Collections of positions that the user holds in various securities, plus metadata, using Google Finance </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof portfolios!=="undefined"&&portfolios!=null)e.each(typeof portfolios===
"function"?portfolios.call(f):portfolios,function(n,j){with(this){c.push('     <input type="radio" data-native="true" class="mtab" id="portfolio-account-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="portfolio-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):
n));c.push('" data-role="none">     <label for="portfolio-account-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('     </label>          <div id="portfolio-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?
n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">            <span>');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('</span>      </div>            <em class="extra-details">Portfolios available in your Google Account</em>            <span style="display: none">');
if(typeof(feed_account_id=j.feed_account._id)!=="undefined"&&(feed_account_id=j.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=j.feed_account._id)==="function"?(feed_account_id=j.feed_account._id).call(f):(feed_account_id=j.feed_account._id)));c.push('</span>      <div class="list-view">       ');if(typeof j.list!=="undefined"&&j.list!=null)e.each(typeof j.list==="function"?j.list.call(f):j.list,function(u,o){with(this){c.push('        <input type="radio" data-native="true" name="portfolio-sources-');
if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push('" id="source-');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(f):o.id_bare));c.push('" data-id="');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(f):o.id_bare));c.push('" data-index="');if(typeof u!=="undefined"&&
u!=null)c.push(e.encode(typeof u==="function"?u.call(f):u));c.push('" ');if(typeof(u==0)!=="undefined"&&u==0!=null&&(typeof(u==0)==="function"?(u==0).call(f):u==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(f):o.id_bare));c.push('">');if(typeof o.title!=="undefined"&&o.title!=null)c.push(e.encode(typeof o.title==="function"?o.title.call(f):o.title));
c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>      <div class="module-details">       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-portfolio">Add Portfolio</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-portfolio">Edit Portfolio</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-portfolio">Delete Portfolio</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_agenda_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<div class="events-months-container"></div>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.agenda.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_linkedin_tmpl",function(d){return function(e,f){e=[];var c=f.data;with(c){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(f):!connected))e.push('  <a class="linkedin-connect-button">Connect with Twitter</a>  ');e.push("  <ul></ul>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_linkedin_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>LinkedIn Management</strong>   <span>Get the latest business news from LinkedIn and manage it. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):panels,
function(n,j){with(this){c.push('       <input type="radio" data-native="true" class="mtab" id="linkedin-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="linkedin-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="linkedin-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push("     </label>       ")}});c.push('       </div>      <div class="linkedin-management-details ui-body-c">        <p>You can add a new <strong>LinkedIn</strong> column using the <strong>Add Column</strong> button in the left side of the footer. </p>     </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_blinkx_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.blinkx.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_keyword_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Keywords Management</strong>   <span>Manage your keywords. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):panels,function(n,j){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="keyword-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="keyword-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="keyword-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('     </label>          <div id="keyword-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <span>');
if(typeof j.feed_account.name!=="undefined"&&j.feed_account.name!=null)c.push(e.encode(typeof j.feed_account.name==="function"?j.feed_account.name.call(f):j.feed_account.name));c.push('</span>           </div>      <div class="keyword-panel-settings">              <div data-role="fieldcontain">        <label for="keyword-text-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">Keyword</label>               <input type="text" class="keyword-text" id="keyword-text-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" value="');if(typeof j.feed_account.keyword_column.keyword!=="undefined"&&j.feed_account.keyword_column.keyword!=null)c.push(e.encode(typeof j.feed_account.keyword_column.keyword==="function"?j.feed_account.keyword_column.keyword.call(f):j.feed_account.keyword_column.keyword));c.push('"/>       </div>                   <!--       <div data-role="fieldcontain">        <label for="keyword-followers-');if(typeof n!==
"undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">Number of followers</label>        <select class="keyword-followers" id="keyword-followers-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">         <option value="0" ');if(typeof(j.feed_account.keyword_column.follower==0)!=="undefined"&&j.feed_account.keyword_column.follower==0!=null&&(typeof(j.feed_account.keyword_column.follower==0)==="function"?(j.feed_account.keyword_column.follower==
0).call(f):j.feed_account.keyword_column.follower==0))c.push(' selected="selected" ');c.push('>Any number of followers</option>         <option value="100" ');if(typeof(j.feed_account.keyword_column.follower==100)!=="undefined"&&j.feed_account.keyword_column.follower==100!=null&&(typeof(j.feed_account.keyword_column.follower==100)==="function"?(j.feed_account.keyword_column.follower==100).call(f):j.feed_account.keyword_column.follower==100))c.push(' selected="selected" ');c.push('>At least 100 followers</option>         <option value="1000" ');
if(typeof(j.feed_account.keyword_column.follower==1E3)!=="undefined"&&j.feed_account.keyword_column.follower==1E3!=null&&(typeof(j.feed_account.keyword_column.follower==1E3)==="function"?(j.feed_account.keyword_column.follower==1E3).call(f):j.feed_account.keyword_column.follower==1E3))c.push(' selected="selected" ');c.push('>At least 1000 followers</option>        </select>             </div>              <div data-role="fieldcontain">             <fieldset data-role="controlgroup">         <legend>&nbsp;</legend>         <input type="checkbox" id="keyword-aggregate-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="keyword-aggregate" ');if(typeof j.feed_account.keyword_column.is_aggregate!=="undefined"&&j.feed_account.keyword_column.is_aggregate!=null&&(typeof j.feed_account.keyword_column.is_aggregate==="function"?j.feed_account.keyword_column.is_aggregate.call(f):j.feed_account.keyword_column.is_aggregate))c.push(' checked="checked" ');c.push('/>         <label for="keyword-aggregate-');if(typeof n!=="undefined"&&
n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">Is aggregate</label>        </fieldset>             </div>       --\>              <div data-role="fieldcontain" class="keyword-save-container">        <button class="keyword-save">Save Column</button>       </div>              <div class="keyword-help">        <strong>Add Keyword Searches using Twitter.</strong>                      <div class="keyword-example">         <strong>Example:</strong>         <p>          <strong>HSBC shares</strong> will find tweets that contain <strong>both</strong> <em>HSBC</em> and <em>shares</em> <br>          <strong>"US economy"</strong> will find tweets containing the <strong>exact phrase</strong> <em>US economy</em> <br>          <strong>$AAPL OR $GOOG</strong> will find tweets containing <strong>either</strong> <em>$AAPL</em> or <em>$GOOG</em>         </p>        </div>       </div>             </div>     </div>    ')}});
c.push('       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_keyword_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<ul class="tweets"></ul>  <ul data-role="listview" class="load-more-container">   <li data-icon="false" data-theme="d">    <a class="load-more-tweets">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.tmpl");
finfore.modules.feed=function(){var a=function(e){var f=e.sources.slice(0);if(e.bingsearch&&e.limit>15){f[0]+="&news.offset=";f[0]+=e.limit*1-14}feedReader.get({callbackId:e.callbackId,sources:f,limit:e.limit,complete:function(c){if(!e.bingsearch&&e.loadMore===true&&e.limit>15)c=c.slice(e.limit-15,e.limit);var k="",n=c.length-1;$.each(c,function(j){if(e.loadMore===true||this.pubDate>e.date){k+=j===n?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';if(finfore.smallScreen){k+=
"<a><abbr>"+this.source+"</abbr>";k+="<h3>"+this.title+"</h3>";k+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";k+='</a><a href="'+this.link+'" target="_blank" class="mobile-column-select"></a>'}else{k+='<a href="'+this.link+'" target="_blank"><abbr>'+this.source+"</abbr>";k+="<h3>"+this.title+"</h3>";k+="<p>"+this.description+"</p>";k+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";k+="</a>"}k+="</li>";if(!e.company||!finfore.smallScreen)this.pubDate>finfore.ticker.date&&finfore.ticker.updateNews(this)}});
c=$(".load-more-entries",e.$container).parents("li").first();$(k).insertBefore(c);c=$("[data-role=content] ul",e.$container);c.jqmData("listview")?c.listview("refresh"):c.listview();e.$container.removeClass("panel-loading")}})},d=function(e,f){var c=0,k=[];if(f.company){var n;if(f.blogsearch)n="http://www.google.com/search?hl=en&q="+$.URLEncode(f.company.feed_info.company_competitor.blog_keyword)+"&ie=utf-8&tbm=blg&num=100&output=rss";else if(f.bingsearch){f.company.feed_info.company_competitor.bing_keyword=
f.company.feed_info.company_competitor.bing_keyword.replace(","," OR ");n="http://api.bing.com/rss.aspx?Source=News&Market=en-US&Version=2.0&Query="+$.URLEncode(f.company.feed_info.company_competitor.bing_keyword)+"&news.count=15"}else n="http://www.google.com/finance/company_news?q="+f.company.feed_info.company_competitor.finance_keyword+"&authuser=0&output=rss&num=100";k=[n]}if(f.portfolio&&f.portfolio.overview.rss.chanel.item)if($.isArray(f.portfolio.overview.rss.chanel.item))$.each(f.portfolio.overview.rss.chanel.item,
function(){k.push("http://www.google.com/finance/company_news?q="+this.google_ticker+"&authuser=0&output=rss")});else k=["http://www.google.com/finance/company_news?q="+f.portfolio.overview.rss.chanel.item.google_ticker+"&authuser=0&output=rss"];if(f.feed_account&&!f.portfolio)k=$.map(f.feed_account.user_feeds,function(u){return u.feed_info.address});var j=function(u,o){e.addClass("panel-loading");if(o===true)c+=15;var w;if(f.feed_account)callbackID=f.feed_account._id;else if(f.company)callbackID=
f.company._id;a({sources:k,$container:e,date:new Date,loadMore:o,limit:c,blogsearch:f.blogsearch,bingsearch:f.bingsearch,callbackId:w})};(function(){$(document).height();if(f.feed_account)var u=f.feed_account.name;if(f.portfolio)u=f.portfolio.title;if(f.company){u="Company News";if(f.blogsearch)u="News from Blogs";if(f.bingsearch)u="Additional News"}var o=$.View("//webapp/views/module.feed.tmpl",{smallScreen:finfore.smallScreen});u=$.View("//webapp/views/module.tmpl",{title:u,smallScreen:finfore.smallScreen,
content:o});$(u).appendTo(e);e.bind("refresh",j);e.bind("reinit",function(){clearInterval(w);e.unbind();e.empty();e.jqmRemoveData();d(e,f)});$(".load-more-entries",e).click(function(z){e.trigger("refresh",[true]);z.preventDefault();return false});if(!finfore.smallScreen)var w=setInterval(j,3E5);e.page();e.trigger("init")})()};return{init:d,management:function(e){finfore.data.panels.main.feed||(finfore.data.panels.main.feed=[]);var f=$.View("//webapp/views/module.feed.management.tmpl",{panels:finfore.data.panels.main.feed});
$(f).appendTo(e);var c=$(".mtabs-container",e);finfore.manage.bindPanelData({$container:c,category:"feed"});$(".edit-column-title",e).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",c),category:"feed"})});$(".add-column",e).click(function(){finfore.manage.panels.create({$node:c,category:"feed"})});$(".remove-column",e).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",c),category:"feed"})});c.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",
c),category:"feed"})});c.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",c),category:"feed"})});$(".add-preset-source",e).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",c),$presets:$(".preset-tabs",e),category:"feed"})});$(".mtab-content",c).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",c),$presets:$(".preset-tabs",e),category:"feed"})}});var k=allCount=
0,n=$(".preset-sources-suggested",e);f=$(".load-more",n);var j=$(".preset-sources-all",e),u=$(".load-more",j),o=function(){k++;finfore.manage.updateFeedInfos({$node:n,type:"feed",category:"rss",count:k});return false},w=function(){allCount++;finfore.manage.updateFeedInfos({$node:j,type:"feed",category:"all,rss",count:allCount});return false};f.click(o);u.click(w);o();w()}}}();steal.loaded("webapp/modules/feed.js");
finfore.modules.podcast=function(){var a=["mp4","3g2","3gp","asf","asx","avi","flv","mov","mpg","rm","vob","webm","wmv","ogv","ogg"],d=function(f){feedReader.get({callbackId:f.callbackId,sources:f.sources,limit:f.limit,complete:function(c){if(f.loadMore===true&&f.limit>5)c=c.slice(f.limit-15,f.limit);var k="",n=c.length-1,j;$.each(c,function(w){j="";if(this.link)j=this.link;else if(this.enclosure)j=this.enclosure.url;if((f.loadMore===true||this.pubDate>f.date)&&j){k+=w===n?'<li class="last-in-group" data-icon="false">':
'<li data-icon="false">';w=j.split(".").pop();k+="<abbr>"+this.source+"</abbr>";k+='<h3><a href="'+this.link+'" target="_blank">'+this.title+"</a></h3>";k+=$.inArray(w,a)===0?'<video src="'+j+'" width="270" height="150" controls="controls" type="video/'+w+'" preload="none"></video>':'<audio src="'+j+'" controls="controls" type="audio/'+w+'" preload="none"></audio>';k+="<p>"+this.description+"</p>";k+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";k+="</li>"}});c=$(".load-more-entries",f.$container).parents("li").first();
var u=$(k),o=$("[data-role=content] ul",f.$container);u.insertBefore(c);o.jqmData("listview")?o.listview("refresh"):o.listview();$("video, audio",u).mediaelementplayer({audioWidth:275,pluginPath:"webapp/lib/mediaelement/"});f.$container.removeClass("panel-loading")}})},e=function(f,c){var k=0,n=[];n=$.map(c.feed_account.user_feeds,function(u){return u.feed_info.address});var j=function(u,o){f.addClass("panel-loading");if(o===true)k+=15;d({sources:n,$container:f,date:new Date,loadMore:o,limit:k,callbackId:c.feed_account._id})};
(function(){$(document).height();var u=$.View("//webapp/views/module.podcast.tmpl",{});u=$.View("//webapp/views/module.tmpl",{title:c.feed_account.name,smallScreen:finfore.smallScreen,content:u});$(u).appendTo(f);$(".load-more-entries",f).click(function(w){f.trigger("refresh",[true]);w.preventDefault();return false});f.bind("refresh",j);f.bind("reinit",function(){clearInterval(o);f.unbind();f.empty();f.jqmRemoveData();e(f,c)});if(!finfore.smallScreen)var o=setInterval(j,3E5);f.page();f.trigger("init")})()};
return{init:e,management:function(f){finfore.data.panels.main.podcast||(finfore.data.panels.main.podcast=[]);var c=$.View("//webapp/views/module.podcast.management.tmpl",{panels:finfore.data.panels.main.podcast});$(c).appendTo(f);var k=$(".mtabs-container",f);finfore.manage.bindPanelData({$container:k,category:"podcast"});finfore.manage.bindPanelData({$container:k,category:"podcast"});$(".edit-column-title",f).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",k),category:"podcast"})});
$(".add-column",f).click(function(){finfore.manage.panels.create({$node:k,category:"podcast"})});$(".remove-column",f).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",k),category:"podcast"})});k.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",k),category:"podcast"})});k.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",k),category:"podcast"})});$(".add-preset-source",
f).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",k),$presets:$(".preset-tabs",f),category:"podcast"})});$(".mtab-content",k).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",k),$presets:$(".preset-tabs",f),category:"podcast"})}});var n=allCount=0,j=$(".preset-sources-suggested",f);c=$(".load-more",j);var u=$(".preset-sources-all",f),o=$(".load-more",u),w=function(){n++;finfore.manage.updateFeedInfos({$node:j,
type:"podcast",category:"podcast",count:n});return false},z=function(){allCount++;finfore.manage.updateFeedInfos({$node:u,type:"podcast",category:"all,podcast",count:allCount});return false};c.click(w);o.click(z);w();z()}}}();steal.loaded("webapp/modules/podcast.js");
finfore.modules.twitter=function(){var a=function(d,e){var f,c=20,k,n,j,u,o=function(A){empty(n[0]);d.removeClass("panel-loading");if(A.results)A=A.results;$.each(A,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});f=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:A});n.append(f);A&&$.each(A,function(){var L=new Date(this.created_at);e.company&&finfore.smallScreen||L>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},w=function(A){d.addClass("panel-loading");if(A===true)c+=5;n.removeData();if(e.company){n.unbind("load");A=e.competitor?e.company.feed_info.company_competitor.keyword.replace(/,/g," OR "):e.company.feed_info.company_competitor.company_ticker+" OR "+e.company.feed_info.company_competitor.broadcast_keyword;$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:A,rpp:c},success:o})}else $.ajax({url:finforeBaseUrl+"/tweetfores/home_timeline.json",
type:"POST",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token,feed_account_id:e.feed_account._id,count:c},success:o})},z=function(){var A,L,E=false;if(e.company){L="Breaking News";if(e.competitor)L="Competitors News"}if(!e.company){L=e.feed_account.name;E=!e.feed_account.feed_token||!e.feed_account.feed_token.token}var Q=$.View("//webapp/views/module.twitter.tmpl",{connected:!E});L=$.View("//webapp/views/module.tmpl",{title:L,smallScreen:finfore.smallScreen,
content:Q});$(L).appendTo(d);k=$("[data-role=content]",d);n=$(".tweets",k);j=$(".load-more-tweets",k);u=$(".twitter-connect-button",d);d.addClass("panel-loading");if(E){w();var G=finforeBaseUrl+"/feed_accounts/twitter/auth?feed_account_id="+e.feed_account._id;u.click(function(){u.hide();d.addClass("panel-loading");var D=window.open(G,"twitterAuthWindow","resizable=yes,scrollbars=yes,status=yes"),C=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,
feed_token:{feed_account_id:e.feed_account.id,user_id:e.feed_account.user_id}},success:function(s){if(s.feed_token&&s.feed_token.token){e.feed_account.feed_token=s.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();z()}else if(D.closed){u.show();d.removeClass("panel-loading")}else setTimeout(C,1E4)}})};C();return false})}else finfore.smallScreen||(A=setInterval(w,3E5));j.click(function(){d.trigger("refresh",[true])});d.page();d.bind("refresh",w);d.bind("reinit",function(){clearInterval(A);
d.unbind();d.empty();d.jqmRemoveData();a(d,e)});d.trigger("init")};z()};return{init:a,management:function(d){finfore.data.panels.main.twitter||(finfore.data.panels.main.twitter=[]);var e=$.View("//webapp/views/module.twitter.management.tmpl",{panels:finfore.data.panels.main.twitter});$(e).appendTo(d);var f=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:f,category:"twitter"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",f),category:"twitter"})});
$(".add-column",d).click(function(){finfore.manage.panels.create({$node:f,category:"twitter"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",f),category:"twitter"})});f.delegate(".add-custom-source","click",function(){finfore.manage.twitter.addCustom({$node:$(".mtab:checked",f),category:"twitter"})});f.delegate(".remove-source","click",function(){finfore.manage.twitter.remove({$node:$(".mtab:checked",f),category:"twitter"})});$(".add-preset-source",
d).click(function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",f),$presets:$(".preset-tabs",d),category:"twitter"})});$(".mtab-content",f).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",f),$presets:$(".preset-tabs",d),category:"twitter"})}});var c=allCount=0,k=$(".preset-sources-suggested",d);e=$(".load-more",k);var n=$(".preset-sources-all",d),j=$(".load-more",n),u=function(){c++;finfore.manage.updateFeedInfos({$node:k,
type:"twitter",category:"twitter",count:c});return false},o=function(){allCount++;finfore.manage.updateFeedInfos({$node:n,type:"twitter",category:"all,twitter",count:allCount});return false};e.click(u);j.click(o);u();o()}}}();steal.loaded("webapp/modules/twitter.js");
finfore.modules.prices=function(){var a=function(d,e){var f,c=f;e.company||$.map(e.feed_account.user_feeds,function(o){return o.feed_info_id});var k=10;c=k;var n=function(o){var w="",z;if(e.company){o=e.company.feed_info.company_competitor.company_ticker+",";z=e.company.feed_info.company_competitor.company_ticker;o+=e.company.feed_info.company_competitor.competitor_ticker;w=o}else if(e.feed_account.user_feeds[0]){o=e.feed_account.user_feeds[0].feed_info.price_tickers;$.each(o,function(A,L){w+=L.ticker+
","})}if(!w)return false;w=w.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+w,dataType:"jsonp",success:function(A){var L="",E=[];$.each(A,function(Q,G){Q=G.e+":"+G.t;var D=G.name,C='<a href="http://www.google.com/finance?q='+Q+'" target="_blank">';G.c=parseFloat(G.c);G.cp=parseFloat(G.cp);e.company&&finfore.smallScreen||Math.abs(G.cp)>finfore.ticker.priceBridge&&finfore.ticker.updatePrices(G);var s=G.l,q=G.c;G=G.cp;if(D){D=C+D+"</a>";if(!finfore.smallScreen){s=
C+s+"</a>";q=C+q+"</a>";G=C+G+"</a>"}L+='<tr class="ui-btn-up-c">';L+="<td>"+D+"</td>";L+="<td>"+s+"</td>";L+=q<0?'<td class="negative nowrap">'+q+"</a></td>":'<td class="nowrap">'+q+"</a></td>";L+=G<0?'<td class="negative nowrap">'+G+"</a></td>":'<td class="nowrap">'+G+"</a></td>";L+="</tr>"}E.push({stock:Q,price:s*1})});$(L).appendTo($("tbody",d));if(e.company){E.shift();(FlashDetect.installed?$('<embed height="340" menu="false" flashvars="displayVolume=true&amp;displayDividends=true&amp;displaySplits=true&amp;displayExtendedHours=true&amp;defaultZoomDays=true&amp;hasVolume=true&amp;hasExtendedHours=true&amp;defaultZoomDays=5&amp;q='+
z+"&amp;lcId=1302290366141&amp;compareTo="+E[0].stock+"%3B"+E[1].stock+'%3B&amp;single_viewpoints=name%3AMainViewPoint%2Cheight%3A202%2CtopMargin%3A0%3A%3Aname%3ABottomViewPoint%2Cheight%3A45%2CtopMargin%3A0%2Cdisplay%3Avisible&amp;single_layers=vp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A0%2Ctype%3Asimple%2ChasText%3Atrue%3A%3Avp%3AMainViewPoint%2Cname%3APriceLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AAHLineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALastDayLineLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Adividend%2Cpositioning%3Abottom%2CavoidObj%3Asplit%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Asplit%2Cpositioning%3Abottom%2CavoidObj%3Adividend%3A%3Avp%3ABottomViewPoint%2Cname%3AVolumeScaleLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3ABottomViewPoint%2Cname%3AECNVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3AVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A1%2Ctype%3Asimple&amp;compare_viewpoints=name%3AMainViewPoint%2Cheight%3A247%2CtopMargin%3A15&amp;compare_layers=vp%3AMainViewPoint%2Cname%3APercentLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%2CtickPosition%3A0%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3APercentLineChartLayer%2Carity%3AMultiple%2Ctype%3Asimple&amp;u=http://www.google.com/finance/getprices&amp;fieldSeparator=%2C&amp;objectSeparator=%3A%3A&amp;sparklineType=dynamic&amp;hasDefaultZoomSetting=true&amp;verticalScaling=maximized&amp;hasVerticalScaleSetting=true&amp;snapping=false&amp;minZoomDays=1&amp;infoTextAlign=left&amp;infoTextTopPadding=17&amp;disableExternalInterface=true" width="100%" base="http://www.google.com/finance/" wmode="opaque" type="application/x-shockwave-flash" src="http://www.google.com/finance/chart9.swf"></embed>'):
$('<img src="http://www.google.com/finance/chart?q='+z+'&cht=o&p=5d" class="image-stocks-chart">')).prependTo(d.find("[data-role=content]"))}},complete:function(){d.removeClass("panel-loading")}})},j=function(){d.addClass("panel-loading");n()},u=function(){c=k=10;empty($("[data-role=content] table tbody",d)[0]);$("[data-role=content] embed",d).remove();j()};(function(){$(document).height();var o=e.company?"Prices":e.feed_account.name;if(!d||!d.length)sandbox.debug("No container set for Module! Module *Feed* will not initalize!",
"warn");else{var w=$.View("//webapp/views/module.prices.tmpl",{});o=$.View("//webapp/views/module.tmpl",{title:o,smallScreen:finfore.smallScreen,content:w});$(o).appendTo(d);if(!finfore.smallScreen)var z=setInterval(u,3E5);d.page();d.bind("refresh",u);d.bind("reinit",function(){clearInterval(z);d.unbind();d.empty();d.jqmRemoveData();a(d,e)});d.trigger("init")}})()};return{init:a,management:function(d){finfore.data.panels.main.prices||(finfore.data.panels.main.prices=[]);var e=$.View("//webapp/views/module.prices.management.tmpl",
{panels:finfore.data.panels.main.prices});$(e).appendTo(d);var f=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:f,category:"prices"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",f),category:"prices"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:f,category:"prices"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",f),category:"prices"})});f.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",f),category:"prices"})});f.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",f),category:"prices"})});$(".add-preset-source",d).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",f),$presets:$(".preset-tabs",d),category:"prices"})});$(".mtab-content",f).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
f),$presets:$(".preset-tabs",d),category:"prices"})}});var c=allCount=0,k=$(".preset-sources-suggested",d);e=$(".load-more",k);var n=$(".preset-sources-all",d),j=$(".load-more",n),u=function(){c++;finfore.manage.updateFeedInfos({$node:k,type:"prices",category:"chart",count:c});return false},o=function(){allCount++;finfore.manage.updateFeedInfos({$node:n,type:"prices",category:"all,chart",count:allCount});return false};e.click(u);j.click(o);u();o()}}}();steal.loaded("webapp/modules/prices.js");
finfore.modules.portfolio=function(){return{init:function(a,d){var e,f=e,c=10;f=c;var k=function(){a.addClass("panel-loading");var j="";if(d.portfolio.overview.rss.chanel.item){j="";if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(u,o){if(this.google_ticker)j+=o.google_ticker+","});else j=d.portfolio.overview.rss.chanel.item.google_ticker;j=j.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+j,dataType:"jsonp",
success:function(u){var o="";$.each(u,function(w,z){w=z.name;var A='<a href="http://www.google.com/finance?q='+(z.e+":"+z.t)+'" target="_blank">',L=z.l,E=parseFloat(z.c);z=parseFloat(z.cp);if(w){w=A+w+"</a>";if(!finfore.smallScreen){L=A+L+"</a>";E=A+E+"</a>";z=A+z+"</a>"}o+='<tr class="ui-btn-up-c">';o+="<td>"+w+"</td>";o+="<td>"+L+"</td>";o+=E<0?'<td class="negative nowrap">'+E+"</a></td>":'<td class="nowrap">'+E+"</a></td>";o+=z<0?'<td class="negative nowrap">'+z+"</a></td>":'<td class="nowrap">'+
z+"</a></td>";o+="</tr>"}});$(o).appendTo($("tbody",a));a.removeClass("panel-loading")},complete:function(){a.removeClass("panel-loading")}})}else a.remove()},n=function(){f=c=10;empty($("[data-role=content] tbody",a)[0]);k()};(function(){var j=$.View("//webapp/views/module.portfolio.tmpl",{});j=$.View("//webapp/views/module.tmpl",{title:d.portfolio.title,smallScreen:finfore.smallScreen,content:j});$(j).appendTo(a);finfore.smallScreen||setInterval(n,3E5);a.page();a.bind("refresh",n);a.trigger("init")})()},
management:function(a){var d=$.View("//webapp/views/module.portfolio.management.tmpl",{portfolios:finfore.data.portfolios});$(d).appendTo(a);var e=$(".mtabs-container",a);finfore.manage.bindPanelData({$container:e,category:"portfolio"});$(".edit-portfolio",a).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",e),category:"portfolio"})});$(".add-portfolio",a).click(function(){finfore.manage.panels.create({$node:e,category:"portfolio"})});$(".remove-portfolio",a).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",
e),category:"portfolio"})})}}}();steal.loaded("webapp/modules/portfolio.js");
finfore.modules.agenda=function(){return{init:function(a,d){var e=function(c){a.addClass("panel-loading");var k="",n;if(d.company){k=d.competitor?d.company.feed_info.company_competitor.competitor_ticker:d.company.feed_info.company_competitor.company_ticker;n=d.company._id}else{if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(){if(this.google_ticker)k+=this.google_ticker+","});else if(d.portfolio.overview.rss.chanel.item)k=d.portfolio.overview.rss.chanel.item.google_ticker;
n=d.portfolio.id_bare}if(!k)return false;k=k.replace(/\s/g,"");var j='select * from json where url="http://www.google.com/finance/events?output=json&q='+k+'"';n="agendaModuleCallback"+n;window[n]=function(u){agendaCalendarCallback(u,c)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:n,cache:true,data:{q:j,format:"json",_maxage:300,diagnostics:false}})},f=function(){empty($("[data-role=content] .events-months-container",a)[0]);e(a)};(function(){$(document).height();
if(d.company){var c="Calendar";if(d.competitor)c="Competitors Calendar"}else c=d.portfolio?d.portfolio.title:d.feed_account.name;var k=$.View("//webapp/views/module.agenda.tmpl",{});c=$.View("//webapp/views/module.tmpl",{title:c,smallScreen:finfore.smallScreen,content:k});$(c).appendTo(a);finfore.smallScreen||setInterval(f,3E5);a.page();a.bind("refresh",f);a.trigger("init")})()}}}();
var agendaCalendarCallback=function(a,d){var e="",f="",c=[],k=new Date,n;if(a.query.results)c=a.query.results.json.events;if($.isArray(c)&&c.length){c=c.reverse();$.each(c,function(){n=new Date(this.LocalizedInfo.start_date);n.setHours(0);if(n>=k){var j=this.LocalizedInfo.start_date,u=this.desc,o=/^[A-Za-z]{3}/.exec(j),w=/[0-9]{4}$/.exec(j);if(o!=null)a=o[0];if(w!=null)result_year=w[0];if(e!=a)if(e==""){e=a;f+='<div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+
e+" "+result_year+"</td></tr></thead><tbody>"}else{e=a;f+='</tbody></table></div><div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+e+" "+result_year+"</td></tr></thead><tbody>"}f+='<tr class="ui-btn-up-c">';f+="<td>"+j+", ";f+=this.LocalizedInfo.start_time?this.LocalizedInfo.start_time:"All Day";f+="</td><td>"+u+"</td>";f+="</tr>"}})}f||(f='<table class="events-table"><thead><tr><td class="ui-bar-d">No upcoming events </td></tr></thead></table>');
$(f).appendTo($(".events-months-container",d));d.removeClass("panel-loading")};steal.loaded("webapp/modules/agenda.js");
finfore.modules.linkedin=function(){var a=function(d,e){var f,c,k=function(){d.addClass("panel-loading");empty(f[0]);$.ajax({url:finforeBaseUrl+"/linkedins/network_status.json",dataType:"json",data:{tid:e.feed_account.feed_token._id,count:25},success:function(j){var u="",o,w,z,A,L,E,Q,G,D,C=new Date;if(j&&j.length)$.each(j,function(s,q){if(q.updateContent.person.id!="private"){Q=q.timestamp;C.setTime(Q*1);u+='<li class="ui-li ui-btn-up-c">';o=q.updateContent.person.firstName+" "+q.updateContent.person.lastName;
w=q.updateContent.person.apiStandardProfileRequest.url;if(E=q.updateContent.person.pictureUrl)u+='<a href="'+w+'" target="_blank"><img src="'+E+'" width="80" height="80" /></a>';if(q.updateContent.person.connections){z=q.updateContent.person.connections.person.firstName+" "+q.updateContent.person.connections.person.lastName;L=q.updateContent.person.connections.person.apiStandardProfileRequest.url;u+='<p><a href="'+w+'" target="_blank" class="user">'+o+'</a> connected with <a href="'+L+'" class="connection" target="_blank">'+
z+"</a></p>"}else if(q.updateContent.person.currentShare){if(q.updateContent.person.currentShare.comment){A=$.linkUrl(q.updateContent.person.currentShare.comment);u+='<p><a href="'+w+'" target="_blank" class="user">'+o+"</a> "+A+"</p>"}if(q.updateContent.person.currentShare.content){G=q.updateContent.person.currentShare.content.title;D=q.updateContent.person.currentShare.content.submittedUrl;u+='<p><a href="'+D+'" target="_blank" class="user">'+G+"</a></p>"}}u+="<time>"+C.toUTCString()+"</time>";
u+="</li>"}});else u='<li class="ui-li ui-btn-up-d">No LinkedIn events</li>';$(u).appendTo(f);d.removeClass("panel-loading")}})},n=function(){var j,u=!e.feed_account.feed_token||!e.feed_account.feed_token.token,o=$.View("//webapp/views/module.linkedin.tmpl",{connected:!u});o=$.View("//webapp/views/module.tmpl",{title:e.feed_account.name,smallScreen:finfore.smallScreen,content:o});$(o).appendTo(d);d.page();d.bind("refresh",k);d.bind("reinit",function(){clearInterval(j);d.unbind();d.empty();d.jqmRemoveData();
a(d,e)});f=$("[data-role=content] ul",d);c=$(".linkedin-connect-button",d);if(u){var w=finforeBaseUrl+"/feed_accounts/linkedin/auth?feed_account_id="+e.feed_account._id+"&callback="+finforeAppUrl+"authorize.html";c.click(function(){c.hide();d.addClass("panel-loading");var z=window.open(w,"linkedinAuthWindow","resizable=yes,scrollbars=yes,status=yes"),A=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,feed_token:{feed_account_id:e.feed_account.id,
user_id:e.feed_account.user_id}},success:function(L){if(L.feed_token&&L.feed_token.token){e.feed_account.feed_token=L.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();n()}else if(z.closed){c.show();d.removeClass("panel-loading")}else setTimeout(A,1E4)}})};A();return false})}else finfore.smallScreen||(j=setInterval(k,3E5));d.trigger("init")};n()};return{init:a,management:function(d){finfore.data.panels.main.linkedin||(finfore.data.panels.main.linkedin=[]);var e=$.View("//webapp/views/module.linkedin.management.tmpl",
{panels:finfore.data.panels.main.linkedin});$(e).appendTo(d);var f=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:f,category:"linkedin"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",f),category:"linkedin"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:f,category:"linkedin"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",f),category:"linkedin"})})}}}();
steal.loaded("webapp/modules/linkedin.js");
finfore.modules.blinkx=function(){var a=function(e){e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/ /g,"+");e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/&/g,"");var f="select * from xml where url='"+("http://usp1.blinkx.com/partnerapi/user/?uid=2ehiek5947&text=%22"+e.company.feed_info.company_competitor.broadcast_keyword+"%22&start="+e.start+"&MaxResults="+
e.end+"&sortby=date&AdultFilter=true&ReturnLink=true")+"'",c="blinkxModuleCallback"+e.company._id;window[c]=function(k){blinkxCallback(k,e)};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:c,cache:true,data:{q:f,format:"json",_maxage:300,diagnostics:false}})},d=function(e,f){var c=0,k=0,n=function(j,u){e.addClass("panel-loading");if(u===true){c=k+1;k+=20;a({start:c,end:k,date:new Date,loadMore:u,company:f.company,$container:e})}else a({start:1,end:k,date:new Date,
loadMore:u,company:f.company,$container:e})};(function(){$(document).height();var j=$.View("//webapp/views/module.blinkx.tmpl",{});j=$.View("//webapp/views/module.tmpl",{title:"Broadcast News",smallScreen:finfore.smallScreen,content:j});$(j).appendTo(e);$(".load-more-entries",e).click(function(o){e.trigger("refresh",[true]);o.preventDefault();return false});e.bind("refresh",n);e.bind("reinit",function(){clearInterval(u);e.unbind();e.empty();e.jqmRemoveData();d(e,f)});if(!finfore.smallScreen)var u=
setInterval(n,3E5);e.page();e.trigger("init")})()};return{init:d}}();
var blinkxCallback=function(a,d){var e=[],f,c,k,n,j,u,o,w,z,A;if(a.query.results&&a.query.results.response.responsedata)e=a.query.results.response.responsedata.hit;k=e.length-1;$.each(e,function(L){f=this;n=f.date;j=f.title;u=f.channel;o=f.summary;w=f.staticpreview;z=f.url;A=new Date(n*1E3);if(finfore.smallScreen||finfore.tablet)z=z.replace("http://www.blinkx.com/burl?v=","http://m.blinkx.com/info/");if(d.loadMore===true||A>d.date){c+=L===k?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';
c+='<a href="'+z+'" target="_blank"><abbr>'+u+"</abbr>";c+="<h3>"+j+"</h3>";c+='<img src="'+w+'" />';c+="<p>"+o.substring(0,100)+"..</p>";c+="<abbr>"+A.toUTCString()+"</abbr>";c+="</a></li>"}});a=$(".load-more-entries",d.$container).parents("li").first();$(c).insertBefore(a);$("[data-role=content] ul",d.$container).listview("refresh");d.$container.removeClass("panel-loading")};steal.loaded("webapp/modules/blinkx.js");
finfore.modules.keyword=function(){var a=function(d,e){var f=15,c,k,n,j=function(o){empty(k[0]);d.removeClass("panel-loading");if(o.results)o=o.results;$.each(o,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});tweetTemplate=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:o});k.append(tweetTemplate);o&&$.each(o,function(){var w=new Date(this.created_at);e.company&&finfore.smallScreen||w>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},u=function(o){d.addClass("panel-loading");if(o===true)f+=5;k.removeData();o=e.feed_account.keyword_column.keyword;if(!o){d.removeClass("panel-loading");return false}$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:o,rpp:f},success:j})};(function(){var o,w=e.feed_account.name,z=$.View("//webapp/views/module.keyword.tmpl",{});w=$.View("//webapp/views/module.tmpl",{title:w,smallScreen:finfore.smallScreen,content:z});$(w).appendTo(d);d.bind("refresh",
u);d.bind("reinit",function(){clearInterval(o);d.unbind();d.empty();d.jqmRemoveData();a(d,e)});c=$("[data-role=content]",d);k=$(".tweets",c);n=$(".load-more-tweets",c);d.addClass("panel-loading");n.click(function(){d.trigger("refresh",[true])});d.page();finfore.smallScreen||(o=setInterval(u,3E5));d.trigger("init")})()};return{init:a,management:function(d){finfore.data.panels.main.keyword||(finfore.data.panels.main.keyword=[]);var e=$.View("//webapp/views/module.keyword.management.tmpl",{panels:finfore.data.panels.main.keyword});
$(e).appendTo(d);var f=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:f,category:"keyword"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",f),category:"keyword"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:f,category:"keyword"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",f),category:"keyword"})});f.delegate(".keyword-save","click",function(){var c=$(this).parents(".keyword-panel-settings:first"),
k=c.parents(".mtab-content:first").prevAll(".mtab:first"),n=$.data(k[0],"data").feed_account,j=$(".keyword-text",c).val(),u=$(".keyword-followers",c).val(),o=false;if($(".keyword-aggregate",c).is(":checked"))o=true;c={_id:n._id,keyword_column_attributes:{is_aggregate:o,follower:u,keyword:j,_id:n.keyword_column._id}};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+c._id+".json",type:"PUT",data:{feed_account:c},success:function(w){$().toastmessage("showSuccessToast",finfore.manage.messages.updateColumn);
$.data(k[0],"data",{feed_account:w})},error:function(){$().toastmessage("showErrorToast",finfore.manage.messages.errorUpdateColumn)}})})}}}();steal.loaded("webapp/modules/keyword.js");
