steal.loading('webapp/core/finfore.js','jquery/view/tmpl/tmpl.js','jquery/view/view.js','jquery/jquery.js','webapp/core/utils.js','webapp/core/api.js','webapp/lib/jquery.mobile.js','webapp/lib/flash_detect_min.js','webapp/lib/jquery-ui/jquery-ui-1.8.16.custom.min.js','webapp/lib/mediaelement/mediaelement-and-player.js','webapp/lib/toast/jquery.toastmessage.js','webapp/lib/jquery-impromptu.3.1.js','webapp/lib/iscroll.js','webapp/views/desktop.tmpl','webapp/views/tab-button.tmpl','webapp/views/tab-view.tmpl','webapp/views/tab-option.tmpl','webapp/views/login.tmpl','webapp/views/profile.tmpl','webapp/views/panel.controlgroup.tmpl','webapp/views/manage.tmpl','webapp/views/manage.feed-infos.tmpl','webapp/views/manage.panels.tmpl','webapp/views/manage.source.tmpl','webapp/views/signup.tmpl','webapp/views/addcompany.tmpl','webapp/views/help.tmpl','webapp/core/core.js','webapp/core/desktop.js','webapp/core/manage.js','webapp/core/login.js','webapp/core/signup.js','webapp/core/profile.js','webapp/core/addcompany.js','webapp/core/help.js','webapp/views/module.tmpl','webapp/views/module.feed.tmpl','webapp/views/module.feed.management.tmpl','webapp/views/module.podcast.tmpl','webapp/views/module.podcast.management.tmpl','webapp/views/module.twitter.tmpl','webapp/views/module.twitter.tweet.tmpl','webapp/views/module.twitter.management.tmpl','webapp/views/module.prices.tmpl','webapp/views/module.prices.management.tmpl','webapp/views/module.portfolio.tmpl','webapp/views/module.portfolio.management.tmpl','webapp/views/module.agenda.tmpl','webapp/views/module.linkedin.tmpl','webapp/views/module.linkedin.management.tmpl','webapp/views/module.blinkx.tmpl','webapp/views/module.keyword.management.tmpl','webapp/views/module.keyword.tmpl','webapp/modules/feed.js','webapp/modules/podcast.js','webapp/modules/twitter.js','webapp/modules/prices.js','webapp/modules/portfolio.js','webapp/modules/agenda.js','webapp/modules/linkedin.js','webapp/modules/blinkx.js','webapp/modules/keyword.js');
steal({src: 'webapp/production//production.css', has: ['webapp/lib/jquery.mobile.css','webapp/lib/mediaelement/mediaelementplayer.min.css','webapp/lib/toast/jquery.toastmessage.css','webapp/css/shared.css','webapp/css/base.css','webapp/css/management.css']});
steal("jquery/view/tmpl").then("//webapp/core/utils.js","//webapp/core/api.js").then(function(){$(document).bind("mobileinit",function(){$.extend($.mobile,{ajaxEnabled:false,autoInitialize:false,hashListeningEnabled:false,defaultPageTransition:"none",defaultDialogTransition:"slidedown",pushStateEnabled:false,linkBindingEnabled:false});$.extend($.mobile.changePage.defaults,{changeHash:false});$.support.cors=true;$.mobile.allowCrossDomainPages=true})}).then("//webapp/lib/jquery.mobile.js","//webapp/lib/jquery.mobile.css").then(function(){Loader.show()}).then("//webapp/lib/flash_detect_min.js",
"//webapp/lib/jquery-ui/jquery-ui-1.8.16.custom.min.js","//webapp/lib/mediaelement/mediaelement-and-player.js","//webapp/lib/toast/jquery.toastmessage.js","//webapp/lib/jquery-impromptu.3.1.js","//webapp/lib/iscroll.js").then("//webapp/views/desktop.tmpl","//webapp/views/tab-button.tmpl","//webapp/views/tab-view.tmpl","//webapp/views/tab-option.tmpl","//webapp/views/login.tmpl","//webapp/views/profile.tmpl","//webapp/views/panel.controlgroup.tmpl","//webapp/views/manage.tmpl","//webapp/views/manage.feed-infos.tmpl",
"//webapp/views/manage.panels.tmpl","//webapp/views/manage.source.tmpl","//webapp/views/signup.tmpl","//webapp/views/addcompany.tmpl","//webapp/views/help.tmpl").then("../lib/mediaelement/mediaelementplayer.min.css","../lib/toast/jquery.toastmessage.css").then("../css/shared.css").then("../css/base.css").then("../css/management.css").then("./core.js").then("./desktop.js","./manage.js","./login.js","./signup.js","./profile.js","./addcompany.js","./help.js").then("//webapp/views/module.tmpl","//webapp/views/module.feed.tmpl",
"//webapp/views/module.feed.management.tmpl","//webapp/views/module.podcast.tmpl","//webapp/views/module.podcast.management.tmpl","//webapp/views/module.twitter.tmpl","//webapp/views/module.twitter.tweet.tmpl","//webapp/views/module.twitter.management.tmpl","//webapp/views/module.prices.tmpl","//webapp/views/module.prices.management.tmpl","//webapp/views/module.portfolio.tmpl","//webapp/views/module.portfolio.management.tmpl","//webapp/views/module.agenda.tmpl","//webapp/views/module.linkedin.tmpl",
"//webapp/views/module.linkedin.management.tmpl","//webapp/views/module.blinkx.tmpl","//webapp/views/module.keyword.management.tmpl","//webapp/views/module.keyword.tmpl").then("../modules/feed.js","../modules/podcast.js","../modules/twitter.js","../modules/prices.js","../modules/portfolio.js","../modules/agenda.js","../modules/linkedin.js","../modules/blinkx.js","../modules/keyword.js").then(function(){typeof window.hideBrowserNotice!="function"&&finfore.init()});steal.loaded("webapp/core/finfore.js");
steal("jquery/view").then(function(){function a(J,P,Z,X){X={data:X||(P?P.data:{}),_wrap:P?P._wrap:null,tmpl:null,parent:P||null,nodes:[],calls:u,nest:o,wrap:w,html:A,update:B};J&&jQuery.extend(X,J,{nodes:[],parent:P});if(Z){X.tmpl=Z;X._ctnt=X._ctnt||X.tmpl(jQuery,X);X.key=++r;(K.length?y:G)[r]=X}return X}function d(J,P,Z){var X;Z=Z?jQuery.map(Z,function(ea){return typeof ea==="string"?J.key?ea.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+D+'="'+J.key+'" $2'):ea:d(ea,J,ea._ctnt)}):J;if(P)return Z;
Z=Z.join("");Z.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(ea,ka,H,S){X=jQuery(H).get();h(X);if(ka)X=e(ka).concat(X);if(S)X=X.concat(e(S))});return X?X:e(Z)}function e(J){var P=document.createElement("div");P.innerHTML=J;return jQuery.makeArray(P.childNodes)}function f(J){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+jQuery.trim(J).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(P,Z,X,ea,ka,H,S){P=jQuery.tmpl.tag[X];if(!P)throw"Template command not found: "+X;X=P._default||[];if(H&&!/\w$/.test(ka)){ka+=H;H=""}if(ka){ka=k(ka);S=S?","+k(S)+")":H?")":"";S=H?ka.indexOf(".")>-1?ka+H:"("+ka+").call($item"+S:ka;H=H?S:"(typeof("+ka+")==='function'?("+ka+").call($item):("+ka+"))"}else H=S=X.$1||"null";ea=k(ea);return"');"+P[Z?"close":"open"].split("$notnull_1").join(ka?"typeof("+ka+")!=='undefined' && ("+ka+")!=null":"true").split("$1a").join(H).split("$1").join(S).split("$2").join(ea?
ea.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(ba,ha,V,sa){return(sa=sa?","+sa+")":V?")":"")?"("+ha+").call($item"+sa:ba}):X.$2||"")+"_.push('"})+"');}return _;")}function c(J,P){J._wrap=d(J,true,jQuery.isArray(P)?P:[O.test(P)?P:jQuery(P).html()]).join("")}function k(J){return J?J.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function n(J){var P=document.createElement("div");P.appendChild(J.cloneNode(true));return P.innerHTML}function h(J){function P(ha){function V(Ha){Ha+=Z;p=ka[Ha]=ka[Ha]||
a(p,G[p.parent.key+Z]||p.parent,null,true)}var sa,na=ha,p,wa;if(wa=ha.getAttribute(D)){for(;na.parentNode&&(na=na.parentNode).nodeType===1&&!(sa=na.getAttribute(D)););if(sa!==wa){na=na.parentNode?na.nodeType===11?0:na.getAttribute(D)||0:0;if(!(p=G[wa])){p=y[wa];p=a(p,G[na]||y[na],null,true);p.key=++r;G[r]=p}C&&V(wa)}ha.removeAttribute(D)}else if(C&&(p=jQuery.data(ha,"tmplItem"))){V(p.key);G[p.key]=p;na=(na=jQuery.data(ha.parentNode,"tmplItem"))?na.key:0}if(p){for(sa=p;sa&&sa.key!=na;){sa.nodes.push(ha);
sa=sa.parent}delete p._ctnt;delete p._wrap;jQuery.data(ha,"tmplItem",p)}}var Z="_"+C,X,ea,ka={},H,S,ba;H=0;for(S=J.length;H<S;H++)if((X=J[H]).nodeType===1){ea=X.getElementsByTagName("*");for(ba=ea.length-1;ba>=0;ba--)P(ea[ba]);P(X)}}function u(J,P,Z,X){if(!J)return K.pop();K.push({_:J,tmpl:P,item:this,data:Z,options:X})}function o(J,P,Z){return jQuery.tmpl(jQuery.template(J),P,Z,this)}function w(J,P){var Z=J.options||{};Z.wrapped=P;return jQuery.tmpl(jQuery.template(J.tmpl),J.data,Z,J.item)}function A(J,
P){var Z=this._wrap;return jQuery.map(jQuery(jQuery.isArray(Z)?Z.join(""):Z).filter(J||"*"),function(X){return P?X.innerText||X.textContent:X.outerHTML||n(X)})}function B(){var J=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(J[0]);jQuery(J).remove()}var I=jQuery.fn.domManip,D="_tmplitem",O=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,G={},y={},F,s={key:0,data:{}},r=0,C=0,K=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(J,
P){jQuery.fn[J]=function(Z){var X=[];Z=jQuery(Z);var ea,ka,H;ea=this.length===1&&this[0].parentNode;F=G||{};if(ea&&ea.nodeType===11&&ea.childNodes.length===1&&Z.length===1){Z[P](this[0]);X=this}else{ka=0;for(H=Z.length;ka<H;ka++){C=ka;ea=(ka>0?this.clone(true):this).get();jQuery.fn[P].apply(jQuery(Z[ka]),ea);X=X.concat(ea)}C=0;X=this.pushStack(X,J,Z.selector)}Z=F;F=null;jQuery.tmpl.complete(Z);return X}});jQuery.fn.extend({tmpl:function(J,P,Z){return jQuery.tmpl(this[0],J,P,Z)},tmplItem:function(){return jQuery.tmplItem(this[0])},
template:function(J){return jQuery.template(J,this[0])},domManip:function(J,P,Z){if(J[0]&&J[0].nodeType){for(var X=jQuery.makeArray(arguments),ea=J.length,ka=0,H;ka<ea&&!(H=jQuery.data(J[ka++],"tmplItem")););if(ea>1)X[0]=[jQuery.makeArray(J)];if(H&&C)X[2]=function(S){jQuery.tmpl.afterManip(this,S,Z)};I.apply(this,X)}else I.apply(this,arguments);C=0;F||jQuery.tmpl.complete(G);return this}});jQuery.extend({tmpl:function(J,P,Z,X){var ea=!X;if(ea){X=s;J=jQuery.template[J]||jQuery.template(null,J);y={}}else if(!J){J=
X.tmpl;G[X.key]=X;X.nodes=[];X.wrapped&&c(X,X.wrapped);return jQuery(d(X,null,X.tmpl(jQuery,X)))}if(!J)return[];if(typeof P==="function")P=P.call(X||{});Z&&Z.wrapped&&c(Z,Z.wrapped);P=jQuery.isArray(P)?jQuery.map(P,function(ka){return ka?a(Z,X,J,ka):null}):[a(Z,X,J,P)];return ea?jQuery(d(X,null,P)):P},tmplItem:function(J){var P;if(J instanceof jQuery)J=J[0];for(;J&&J.nodeType===1&&!(P=jQuery.data(J,"tmplItem"))&&(J=J.parentNode););return P||s},template:function(J,P){if(P){if(typeof P==="string")P=
f(P);else if(P instanceof jQuery)P=P[0]||{};if(P.nodeType)P=jQuery.data(P,"tmpl")||jQuery.data(P,"tmpl",f(P.innerHTML));return typeof J==="string"?(jQuery.template[J]=P):P}return J?typeof J!=="string"?jQuery.template(null,J):jQuery.template[J]||jQuery.template(null,O.test(J)?J:jQuery(J)):null},encode:function(J){return(""+J).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},
wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){G=
{}},afterManip:function(J,P,Z){var X=P.nodeType===11?jQuery.makeArray(P.childNodes):P.nodeType===1?[P]:[];Z.call(J,P);h(X);C++}});$.View.register({suffix:"tmpl",renderer:function(J,P){var Z=$.template(null,P);return function(X){return Z.call($,$,{data:X}).join("")}},script:function(J,P){return"function(data){return ("+$.template(null,P)+").call(jQuery, jQuery, {data: data}).join(''); }"}});jQuery.View.ext=".tmpl"});steal.loaded("jquery/view/tmpl/tmpl.js");
steal("jquery").then(function(a){var d=function(y){return y.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},e=1,f,c,k,n=function(y){return y&&a.isFunction(y.always)},h=function(y){var F=[];if(n(y))return[y];else for(var s in y)n(y[s])&&F.push(y[s]);return F},u=function(y){return a.isArray(y)&&y.length===3&&y[1]==="success"?y[0]:y};f=a.View=function(y,F,s,r){if(typeof s==="function"){r=s;s=undefined}var C=h(F);if(C.length){var K=a.Deferred();C.push(k(y,true));a.when.apply(a,C).then(function(P){var Z=a.makeArray(arguments),
X=Z.pop()[0];if(n(F))F=u(P);else for(var ea in F)if(n(F[ea]))F[ea]=u(Z.shift());Z=X(F,s);K.resolve(Z);r&&r(Z)});return K.promise()}else{var J;C=typeof r==="function";K=k(y,C);if(C){J=K;K.done(function(P){r(P(F,s))})}else K.done(function(P){J=P(F,s)});return J}};c=function(y,F){if(!y.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+F;};k=function(y,F){return a.ajax({url:y,dataType:"view",async:F})};a.ajaxTransport("view",function(y,F){y=F.url;var s=y.match(/\.[\w\d]+$/),
r,C,K,J=y,P,Z=function(X){X=r.renderer(K,X);if(f.cache)f.cached[K]=X;return{view:X}};if(C=document.getElementById(y))s=C.type.match(/\/[\d\w]+$/)[0].replace(/^\//,".");if(!s){s=f.ext;J+=f.ext}K=d(J);if(J.match(/^\/\//))J=typeof steal==="undefined"?"/"+J.substr(2):steal.root.mapJoin(J.substr(2));r=f.types[s];return{send:function(X,ea){if(f.cached[K])return ea(200,"success",{view:f.cached[K]});else if(C)ea(200,"success",Z(C.innerHTML));else P=a.ajax({async:F.async,url:J,dataType:"text",error:function(){c("",
J);ea(404)},success:function(ka){c(ka,J);ea(200,"success",Z(ka))}})},abort:function(){P&&P.abort()}}});a.extend(f,{hookups:{},hookup:function(y){var F=++e;f.hookups[F]=y;return F},cached:{},cache:true,register:function(y){this.types["."+y.suffix]=y;window.steal&&steal.type(y.suffix+" view js",function(F,s,r){s=f.types["."+F.type];var C=d(F.rootSrc);F.text=s.script(C,F.text);r()})},types:{},ext:".ejs",registerScript:function(y,F,s){return"$.View.preload('"+F+"',"+f.types["."+y].script(F,s)+");"},preload:function(y,
F){f.cached[y]=function(s,r){return F.call(s,s,r)}}});window.steal&&steal.type("view js",function(y,F,s){F=f.types["."+y.type];var r=d(y.rootSrc);y.text="steal('"+(F.plugin||"jquery/view/"+y.type)+"').then(function($){$.View.preload('"+r+"',"+y.text+");\n})";s()});var o,w,A,B,I,D,O;o=function(y){var F=a.fn[y];a.fn[y]=function(){var s=a.makeArray(arguments),r,C,K=this;if(n(s[0])){s[0].done(function(J){w.call(K,[J],F)});return this}else if(A(s)){if(r=I(s)){C=s[r];s[r]=function(J){w.call(K,[J],F);C.call(K,
J)};f.apply(f,s);return this}s=f.apply(f,s);if(n(s)){s.done(function(J){w.call(K,[J],F)});return this}else s=[s]}return w.call(this,s,F)}};w=function(y,F){var s;for(var r in f.hookups)break;if(r&&y[0]&&B(y[0])){s=f.hookups;f.hookups={};y[0]=a(y[0])}F=F.apply(this,y);s&&D(y[0],s);return F};A=function(y){var F=typeof y[1];return typeof y[0]=="string"&&(F=="object"||F=="function")&&!y[1].nodeType&&!y[1].jquery};B=function(y){if(y.jquery||y.nodeType===1)return true;else if(typeof y==="string"){y=a.trim(y);
return y.substr(0,1)==="<"&&y.substr(y.length-1,1)===">"&&y.length>=3}else return false};I=function(y){return typeof y[3]==="function"?3:typeof y[2]==="function"&&2};D=function(y,F){var s,r=0,C,K;y=y.filter(function(){return this.nodeType!=3});y=y.add("[data-view-id]",y);for(s=y.length;r<s;r++)if(y[r].getAttribute&&(C=y[r].getAttribute("data-view-id"))&&(K=F[C])){K(y[r],C);delete F[C];y[r].removeAttribute("data-view-id")}a.extend(f.hookups,F)};a.fn.hookup=function(){var y=f.hookups;f.hookups={};D(this,
y);return this};O=["prepend","append","after","before","text","html","replaceWith","val"];for(var G=0;G<O.length;G++)o(O[G])});steal.loaded("jquery/view/view.js");
(function(a,d){function e(g,j,q){if(q===d&&g.nodeType===1){q="data-"+j.replace(ia,"-$1").toLowerCase();q=g.getAttribute(q);if(typeof q==="string"){try{q=q==="true"?true:q==="false"?false:q==="null"?null:!p.isNaN(q)?parseFloat(q):da.test(q)?p.parseJSON(q):q}catch(t){}p.data(g,j,q)}else q=d}return q}function f(g){for(var j in g)if(j!=="toJSON")return false;return true}function c(g,j,q){var t=j+"defer",v=j+"queue",x=j+"mark",E=p.data(g,t,d,true);if(E&&(q==="queue"||!p.data(g,v,d,true))&&(q==="mark"||
!p.data(g,x,d,true)))setTimeout(function(){if(!p.data(g,v,d,true)&&!p.data(g,x,d,true)){p.removeData(g,t,true);E.resolve()}},0)}function k(){return false}function n(){return true}function h(g,j,q){var t=p.extend({},q[0]);t.type=g;t.originalEvent={};t.liveFired=d;p.event.handle.call(j,t);t.isDefaultPrevented()&&q[0].preventDefault()}function u(g){var j,q,t,v,x,E,N,Q,R,Y,ma,pa=[];v=[];x=p._data(this,"events");if(!(g.liveFired===this||!x||!x.live||g.target.disabled||g.button&&g.type==="click")){if(g.namespace)ma=
new RegExp("(^|\\.)"+g.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");g.liveFired=this;var qa=x.live.slice(0);for(N=0;N<qa.length;N++){x=qa[N];x.origType.replace(Ya,"")===g.type?v.push(x.selector):qa.splice(N--,1)}v=p(g.target).closest(v,g.currentTarget);Q=0;for(R=v.length;Q<R;Q++){Y=v[Q];for(N=0;N<qa.length;N++){x=qa[N];if(Y.selector===x.selector&&(!ma||ma.test(x.namespace))&&!Y.elem.disabled){E=Y.elem;t=null;if(x.preType==="mouseenter"||x.preType==="mouseleave"){g.type=x.preType;if((t=p(g.relatedTarget).closest(x.selector)[0])&&
p.contains(E,t))t=E}if(!t||t!==E)pa.push({elem:E,handleObj:x,level:Y.level})}}}Q=0;for(R=pa.length;Q<R;Q++){v=pa[Q];if(q&&v.level>q)break;g.currentTarget=v.elem;g.data=v.handleObj.data;g.handleObj=v.handleObj;ma=v.handleObj.origHandler.apply(v.elem,arguments);if(ma===false||g.isPropagationStopped()){q=v.level;if(ma===false)j=false;if(g.isImmediatePropagationStopped())break}}return j}}function o(g,j){return(g&&g!=="*"?g+".":"")+j.replace(Ta,"`").replace(Fb,"&")}function w(g){return!g||!g.parentNode||
g.parentNode.nodeType===11}function A(g,j,q){j=j||0;if(p.isFunction(j))return p.grep(g,function(v,x){return!!j.call(v,x,v)===q});else if(j.nodeType)return p.grep(g,function(v){return v===j===q});else if(typeof j==="string"){var t=p.grep(g,function(v){return v.nodeType===1});if(Gb.test(j))return p.filter(j,t,!q);else j=p.filter(j,t)}return p.grep(g,function(v){return p.inArray(v,j)>=0===q})}function B(g){return p.nodeName(g,"table")?g.getElementsByTagName("tbody")[0]||g.appendChild(g.ownerDocument.createElement("tbody")):
g}function I(g,j){if(!(j.nodeType!==1||!p.hasData(g))){var q=p.expando,t=p.data(g),v=p.data(j,t);if(t=t[q]){g=t.events;v=v[q]=p.extend({},t);if(g){delete v.handle;v.events={};for(var x in g){q=0;for(t=g[x].length;q<t;q++)p.event.add(j,x+(g[x][q].namespace?".":"")+g[x][q].namespace,g[x][q],g[x][q].data)}}}}}function D(g,j){var q;if(j.nodeType===1){j.clearAttributes&&j.clearAttributes();j.mergeAttributes&&j.mergeAttributes(g);q=j.nodeName.toLowerCase();if(q==="object")j.outerHTML=g.outerHTML;else if(q===
"input"&&(g.type==="checkbox"||g.type==="radio")){if(g.checked)j.defaultChecked=j.checked=g.checked;if(j.value!==g.value)j.value=g.value}else if(q==="option")j.selected=g.defaultSelected;else if(q==="input"||q==="textarea")j.defaultValue=g.defaultValue;j.removeAttribute(p.expando)}}function O(g){return"getElementsByTagName"in g?g.getElementsByTagName("*"):"querySelectorAll"in g?g.querySelectorAll("*"):[]}function G(g){if(g.type==="checkbox"||g.type==="radio")g.defaultChecked=g.checked}function y(g){if(p.nodeName(g,
"input"))G(g);else"getElementsByTagName"in g&&p.grep(g.getElementsByTagName("input"),G)}function F(g,j){j.src?p.ajax({url:j.src,async:false,dataType:"script"}):p.globalEval((j.text||j.textContent||j.innerHTML||"").replace(Hb,"/*$0*/"));j.parentNode&&j.parentNode.removeChild(j)}function s(g,j,q){var t=j==="width"?g.offsetWidth:g.offsetHeight,v=j==="width"?Ib:Jb;if(t>0){q!=="border"&&p.each(v,function(){q||(t-=parseFloat(p.css(g,"padding"+this))||0);if(q==="margin")t+=parseFloat(p.css(g,q+this))||0;
else t-=parseFloat(p.css(g,"border"+this+"Width"))||0});return t+"px"}t=Ua(g,j,j);if(t<0||t==null)t=g.style[j]||0;t=parseFloat(t)||0;q&&p.each(v,function(){t+=parseFloat(p.css(g,"padding"+this))||0;if(q!=="padding")t+=parseFloat(p.css(g,"border"+this+"Width"))||0;if(q==="margin")t+=parseFloat(p.css(g,q+this))||0});return t+"px"}function r(g){return function(j,q){if(typeof j!=="string"){q=j;j="*"}if(p.isFunction(q)){j=j.toLowerCase().split(lb);for(var t=0,v=j.length,x,E;t<v;t++){x=j[t];if(E=/^\+/.test(x))x=
x.substr(1)||"*";x=g[x]=g[x]||[];x[E?"unshift":"push"](q)}}}}function C(g,j,q,t,v,x){v=v||j.dataTypes[0];x=x||{};x[v]=true;v=g[v];for(var E=0,N=v?v.length:0,Q=g===eb,R;E<N&&(Q||!R);E++){R=v[E](j,q,t);if(typeof R==="string")if(!Q||x[R])R=d;else{j.dataTypes.unshift(R);R=C(g,j,q,t,R,x)}}if((Q||!R)&&!x["*"])R=C(g,j,q,t,"*",x);return R}function K(g,j){var q,t,v=p.ajaxSettings.flatOptions||{};for(q in j)if(j[q]!==d)(v[q]?g:t||(t={}))[q]=j[q];t&&p.extend(true,g,t)}function J(g,j,q,t){if(p.isArray(j))p.each(j,
function(x,E){q||Kb.test(g)?t(g,E):J(g+"["+(typeof E==="object"||p.isArray(E)?x:"")+"]",E,q,t)});else if(!q&&j!=null&&typeof j==="object")for(var v in j)J(g+"["+v+"]",j[v],q,t);else t(g,j)}function P(g,j,q){var t=g.contents,v=g.dataTypes,x=g.responseFields,E,N,Q,R;for(N in x)if(N in q)j[x[N]]=q[N];for(;v[0]==="*";){v.shift();if(E===d)E=g.mimeType||j.getResponseHeader("content-type")}if(E)for(N in t)if(t[N]&&t[N].test(E)){v.unshift(N);break}if(v[0]in q)Q=v[0];else{for(N in q){if(!v[0]||g.converters[N+
" "+v[0]]){Q=N;break}R||(R=N)}Q=Q||R}if(Q){Q!==v[0]&&v.unshift(Q);return q[Q]}}function Z(g,j){if(g.dataFilter)j=g.dataFilter(j,g.dataType);var q=g.dataTypes,t={},v,x,E=q.length,N,Q=q[0],R,Y,ma,pa,qa;for(v=1;v<E;v++){if(v===1)for(x in g.converters)if(typeof x==="string")t[x.toLowerCase()]=g.converters[x];R=Q;Q=q[v];if(Q==="*")Q=R;else if(R!=="*"&&R!==Q){Y=R+" "+Q;ma=t[Y]||t["* "+Q];if(!ma){qa=d;for(pa in t){N=pa.split(" ");if(N[0]===R||N[0]==="*")if(qa=t[N[1]+" "+Q]){pa=t[pa];if(pa===true)ma=qa;else if(qa===
true)ma=pa;break}}}ma||qa||p.error("No conversion from "+Y.replace(" "," to "));if(ma!==true)j=ma?ma(j):qa(pa(j))}}return j}function X(){try{return new a.XMLHttpRequest}catch(g){}}function ea(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(g){}}function ka(){setTimeout(H,0);return $a=p.now()}function H(){$a=d}function S(g,j){var q={};p.each(mb.concat.apply([],mb.slice(0,j)),function(){q[this]=g});return q}function ba(g){if(!fb[g]){var j=V.body,q=p("<"+g+">").appendTo(j),t=q.css("display");
q.remove();if(t==="none"||t===""){if(!Na){Na=V.createElement("iframe");Na.frameBorder=Na.width=Na.height=0}j.appendChild(Na);if(!Va||!Na.createElement){Va=(Na.contentWindow||Na.contentDocument).document;Va.write((V.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Va.close()}q=Va.createElement(g);Va.body.appendChild(q);t=p.css(q,"display");j.removeChild(Na)}fb[g]=t}return fb[g]}function ha(g){return p.isWindow(g)?g:g.nodeType===9?g.defaultView||g.parentWindow:false}var V=a.document,
sa=a.navigator,na=a.location,p=function(){function g(){if(!j.isReady){try{V.documentElement.doScroll("left")}catch(M){setTimeout(g,1);return}j.ready()}}var j=function(M,ca){return new j.fn.init(M,ca,v)},q=a.jQuery,t=a.$,v,x=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/\S/,N=/^\s+/,Q=/\s+$/,R=/\d/,Y=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ma=/^[\],:{}\s]*$/,pa=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,qa=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,xa=/(?:^|:|,)(?:\s*\[)+/g,Qa=/(webkit)[ \/]([\w.]+)/,
Ba=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ia=/(msie) ([\w.]+)/,La=/(mozilla)(?:.*? rv:([\w.]+))?/,z=/-([a-z]|[0-9])/ig,L=/^-ms-/,U=function(M,ca){return(ca+"").toUpperCase()},T=sa.userAgent,W,aa,ga=Object.prototype.toString,fa=Object.prototype.hasOwnProperty,ra=Array.prototype.push,Ca=Array.prototype.slice,za=String.prototype.trim,Fa=Array.prototype.indexOf,ta={};j.fn=j.prototype={constructor:j,init:function(M,ca,ja){var la;if(!M)return this;if(M.nodeType){this.context=this[0]=M;this.length=1;return this}if(M===
"body"&&!ca&&V.body){this.context=V;this[0]=V.body;this.selector=M;this.length=1;return this}if(typeof M==="string")if((la=M.charAt(0)==="<"&&M.charAt(M.length-1)===">"&&M.length>=3?[null,M,null]:x.exec(M))&&(la[1]||!ca))if(la[1]){ja=(ca=ca instanceof j?ca[0]:ca)?ca.ownerDocument||ca:V;if(M=Y.exec(M))if(j.isPlainObject(ca)){M=[V.createElement(M[1])];j.fn.attr.call(M,ca,true)}else M=[ja.createElement(M[1])];else{M=j.buildFragment([la[1]],[ja]);M=(M.cacheable?j.clone(M.fragment):M.fragment).childNodes}return j.merge(this,
M)}else{if((ca=V.getElementById(la[2]))&&ca.parentNode){if(ca.id!==la[2])return ja.find(M);this.length=1;this[0]=ca}this.context=V;this.selector=M;return this}else return!ca||ca.jquery?(ca||ja).find(M):this.constructor(ca).find(M);else if(j.isFunction(M))return ja.ready(M);if(M.selector!==d){this.selector=M.selector;this.context=M.context}return j.makeArray(M,this)},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return Ca.call(this,0)},get:function(M){return M==
null?this.toArray():M<0?this[this.length+M]:this[M]},pushStack:function(M,ca,ja){var la=this.constructor();j.isArray(M)?ra.apply(la,M):j.merge(la,M);la.prevObject=this;la.context=this.context;if(ca==="find")la.selector=this.selector+(this.selector?" ":"")+ja;else if(ca)la.selector=this.selector+"."+ca+"("+ja+")";return la},each:function(M,ca){return j.each(this,M,ca)},ready:function(M){j.bindReady();W.done(M);return this},eq:function(M){return M===-1?this.slice(M):this.slice(M,+M+1)},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Ca.apply(this,arguments),"slice",Ca.call(arguments).join(","))},map:function(M){return this.pushStack(j.map(this,function(ca,ja){return M.call(ca,ja,ca)}))},end:function(){return this.prevObject||this.constructor(null)},push:ra,sort:[].sort,splice:[].splice};j.fn.init.prototype=j.fn;j.extend=j.fn.extend=function(){var M,ca,ja,la,ya,va=arguments[0]||{},Da=1,Ea=arguments.length,gb=false;if(typeof va==="boolean"){gb=va;va=arguments[1]||
{};Da=2}if(typeof va!=="object"&&!j.isFunction(va))va={};if(Ea===Da){va=this;--Da}for(;Da<Ea;Da++)if((M=arguments[Da])!=null)for(ca in M){ja=va[ca];la=M[ca];if(va!==la)if(gb&&la&&(j.isPlainObject(la)||(ya=j.isArray(la)))){if(ya){ya=false;ja=ja&&j.isArray(ja)?ja:[]}else ja=ja&&j.isPlainObject(ja)?ja:{};va[ca]=j.extend(gb,ja,la)}else if(la!==d)va[ca]=la}return va};j.extend({noConflict:function(M){if(a.$===j)a.$=t;if(M&&a.jQuery===j)a.jQuery=q;return j},isReady:false,readyWait:1,holdReady:function(M){if(M)j.readyWait++;
else j.ready(true)},ready:function(M){if(M===true&&!--j.readyWait||M!==true&&!j.isReady){if(!V.body)return setTimeout(j.ready,1);j.isReady=true;if(!(M!==true&&--j.readyWait>0)){W.resolveWith(V,[j]);j.fn.trigger&&j(V).trigger("ready").unbind("ready")}}},bindReady:function(){if(!W){W=j._Deferred();if(V.readyState==="complete")return setTimeout(j.ready,1);if(V.addEventListener){V.addEventListener("DOMContentLoaded",aa,false);a.addEventListener("load",j.ready,false)}else if(V.attachEvent){V.attachEvent("onreadystatechange",
aa);a.attachEvent("onload",j.ready);var M=false;try{M=a.frameElement==null}catch(ca){}V.documentElement.doScroll&&M&&g()}}},isFunction:function(M){return j.type(M)==="function"},isArray:Array.isArray||function(M){return j.type(M)==="array"},isWindow:function(M){return M&&typeof M==="object"&&"setInterval"in M},isNaN:function(M){return M==null||!R.test(M)||isNaN(M)},type:function(M){return M==null?String(M):ta[ga.call(M)]||"object"},isPlainObject:function(M){if(!M||j.type(M)!=="object"||M.nodeType||
j.isWindow(M))return false;try{if(M.constructor&&!fa.call(M,"constructor")&&!fa.call(M.constructor.prototype,"isPrototypeOf"))return false}catch(ca){return false}var ja;for(ja in M);return ja===d||fa.call(M,ja)},isEmptyObject:function(M){for(var ca in M)return false;return true},error:function(M){throw M;},parseJSON:function(M){if(typeof M!=="string"||!M)return null;M=j.trim(M);if(a.JSON&&a.JSON.parse)return a.JSON.parse(M);if(ma.test(M.replace(pa,"@").replace(qa,"]").replace(xa,"")))return(new Function("return "+
M))();j.error("Invalid JSON: "+M)},parseXML:function(M){var ca,ja;try{if(a.DOMParser){ja=new DOMParser;ca=ja.parseFromString(M,"text/xml")}else{ca=new ActiveXObject("Microsoft.XMLDOM");ca.async="false";ca.loadXML(M)}}catch(la){ca=d}if(!ca||!ca.documentElement||ca.getElementsByTagName("parsererror").length)j.error("Invalid XML: "+M);return ca},noop:function(){},globalEval:function(M){if(M&&E.test(M))(a.execScript||function(ca){a.eval.call(a,ca)})(M)},camelCase:function(M){return M.replace(L,"ms-").replace(z,
U)},nodeName:function(M,ca){return M.nodeName&&M.nodeName.toUpperCase()===ca.toUpperCase()},each:function(M,ca,ja){var la,ya=0,va=M.length,Da=va===d||j.isFunction(M);if(ja)if(Da)for(la in M){if(ca.apply(M[la],ja)===false)break}else for(;ya<va;){if(ca.apply(M[ya++],ja)===false)break}else if(Da)for(la in M){if(ca.call(M[la],la,M[la])===false)break}else for(;ya<va;)if(ca.call(M[ya],ya,M[ya++])===false)break;return M},trim:za?function(M){return M==null?"":za.call(M)}:function(M){return M==null?"":M.toString().replace(N,
"").replace(Q,"")},makeArray:function(M,ca){ca=ca||[];if(M!=null){var ja=j.type(M);M.length==null||ja==="string"||ja==="function"||ja==="regexp"||j.isWindow(M)?ra.call(ca,M):j.merge(ca,M)}return ca},inArray:function(M,ca){if(!ca)return-1;if(Fa)return Fa.call(ca,M);for(var ja=0,la=ca.length;ja<la;ja++)if(ca[ja]===M)return ja;return-1},merge:function(M,ca){var ja=M.length,la=0;if(typeof ca.length==="number")for(var ya=ca.length;la<ya;la++)M[ja++]=ca[la];else for(;ca[la]!==d;)M[ja++]=ca[la++];M.length=
ja;return M},grep:function(M,ca,ja){var la=[],ya;ja=!!ja;for(var va=0,Da=M.length;va<Da;va++){ya=!!ca(M[va],va);ja!==ya&&la.push(M[va])}return la},map:function(M,ca,ja){var la,ya,va=[],Da=0,Ea=M.length;if(M instanceof j||Ea!==d&&typeof Ea==="number"&&(Ea>0&&M[0]&&M[Ea-1]||Ea===0||j.isArray(M)))for(;Da<Ea;Da++){la=ca(M[Da],Da,ja);if(la!=null)va[va.length]=la}else for(ya in M){la=ca(M[ya],ya,ja);if(la!=null)va[va.length]=la}return va.concat.apply([],va)},guid:1,proxy:function(M,ca){if(typeof ca==="string"){var ja=
M[ca];ca=M;M=ja}if(!j.isFunction(M))return d;var la=Ca.call(arguments,2);ja=function(){return M.apply(ca,la.concat(Ca.call(arguments)))};ja.guid=M.guid=M.guid||ja.guid||j.guid++;return ja},access:function(M,ca,ja,la,ya,va){var Da=M.length;if(typeof ca==="object"){for(var Ea in ca)j.access(M,Ea,ca[Ea],la,ya,ja);return M}if(ja!==d){la=!va&&la&&j.isFunction(ja);for(Ea=0;Ea<Da;Ea++)ya(M[Ea],ca,la?ja.call(M[Ea],Ea,ya(M[Ea],ca)):ja,va);return M}return Da?ya(M[0],ca):d},now:function(){return(new Date).getTime()},
uaMatch:function(M){M=M.toLowerCase();M=Qa.exec(M)||Ba.exec(M)||Ia.exec(M)||M.indexOf("compatible")<0&&La.exec(M)||[];return{browser:M[1]||"",version:M[2]||"0"}},sub:function(){function M(ja,la){return new M.fn.init(ja,la)}j.extend(true,M,this);M.superclass=this;M.fn=M.prototype=this();M.fn.constructor=M;M.sub=this.sub;M.fn.init=function(ja,la){if(la&&la instanceof j&&!(la instanceof M))la=M(la);return j.fn.init.call(this,ja,la,ca)};M.fn.init.prototype=M.fn;var ca=M(V);return M},browser:{}});j.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(M,ca){ta["[object "+ca+"]"]=ca.toLowerCase()});T=j.uaMatch(T);if(T.browser){j.browser[T.browser]=true;j.browser.version=T.version}if(j.browser.webkit)j.browser.safari=true;if(E.test("\u00a0")){N=/^[\s\xA0]+/;Q=/[\s\xA0]+$/}v=j(V);if(V.addEventListener)aa=function(){V.removeEventListener("DOMContentLoaded",aa,false);j.ready()};else if(V.attachEvent)aa=function(){if(V.readyState==="complete"){V.detachEvent("onreadystatechange",aa);j.ready()}};return j}(),wa="done fail isResolved isRejected promise then always pipe".split(" "),
Ha=[].slice;p.extend({_Deferred:function(){var g=[],j,q,t,v={done:function(){if(!t){var x=arguments,E,N,Q,R,Y;if(j){Y=j;j=0}E=0;for(N=x.length;E<N;E++){Q=x[E];R=p.type(Q);if(R==="array")v.done.apply(v,Q);else R==="function"&&g.push(Q)}Y&&v.resolveWith(Y[0],Y[1])}return this},resolveWith:function(x,E){if(!t&&!j&&!q){E=E||[];q=1;try{for(;g[0];)g.shift().apply(x,E)}finally{j=[x,E];q=0}}return this},resolve:function(){v.resolveWith(this,arguments);return this},isResolved:function(){return!!(q||j)},cancel:function(){t=
1;g=[];return this}};return v},Deferred:function(g){var j=p._Deferred(),q=p._Deferred(),t;p.extend(j,{then:function(v,x){j.done(v).fail(x);return this},always:function(){return j.done.apply(j,arguments).fail.apply(this,arguments)},fail:q.done,rejectWith:q.resolveWith,reject:q.resolve,isRejected:q.isResolved,pipe:function(v,x){return p.Deferred(function(E){p.each({done:[v,"resolve"],fail:[x,"reject"]},function(N,Q){var R=Q[0],Y=Q[1],ma;p.isFunction(R)?j[N](function(){(ma=R.apply(this,arguments))&&
p.isFunction(ma.promise)?ma.promise().then(E.resolve,E.reject):E[Y+"With"](this===j?E:this,[ma])}):j[N](E[Y])})}).promise()},promise:function(v){if(v==null){if(t)return t;t=v={}}for(var x=wa.length;x--;)v[wa[x]]=j[wa[x]];return v}});j.done(q.cancel).fail(j.cancel);delete j.cancel;g&&g.call(j,j);return j},when:function(g){function j(N){return function(Q){q[N]=arguments.length>1?Ha.call(arguments,0):Q;--x||E.resolveWith(E,Ha.call(q,0))}}var q=arguments,t=0,v=q.length,x=v,E=v<=1&&g&&p.isFunction(g.promise)?
g:p.Deferred();if(v>1){for(;t<v;t++)if(q[t]&&p.isFunction(q[t].promise))q[t].promise().then(j(t),E.reject);else--x;x||E.resolveWith(E,q)}else if(E!==g)E.resolveWith(E,v?[g]:[]);return E.promise()}});p.support=function(){var g=V.createElement("div"),j=V.documentElement,q,t,v,x,E,N;g.setAttribute("className","t");g.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";q=g.getElementsByTagName("*");t=g.getElementsByTagName("a")[0];if(!q||
!q.length||!t)return{};v=V.createElement("select");x=v.appendChild(V.createElement("option"));q=g.getElementsByTagName("input")[0];E={leadingWhitespace:g.firstChild.nodeType===3,tbody:!g.getElementsByTagName("tbody").length,htmlSerialize:!!g.getElementsByTagName("link").length,style:/top/.test(t.getAttribute("style")),hrefNormalized:t.getAttribute("href")==="/a",opacity:/^0.55$/.test(t.style.opacity),cssFloat:!!t.style.cssFloat,checkOn:q.value==="on",optSelected:x.selected,getSetAttribute:g.className!==
"t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};q.checked=true;E.noCloneChecked=q.cloneNode(true).checked;v.disabled=true;E.optDisabled=!x.disabled;try{delete g.test}catch(Q){E.deleteExpando=false}if(!g.addEventListener&&g.attachEvent&&g.fireEvent){g.attachEvent("onclick",function(){E.noCloneEvent=false});g.cloneNode(true).fireEvent("onclick")}q=V.createElement("input");
q.value="t";q.setAttribute("type","radio");E.radioValue=q.value==="t";q.setAttribute("checked","checked");g.appendChild(q);t=V.createDocumentFragment();t.appendChild(g.firstChild);E.checkClone=t.cloneNode(true).cloneNode(true).lastChild.checked;g.innerHTML="";g.style.width=g.style.paddingLeft="1px";v=V.getElementsByTagName("body")[0];t=V.createElement(v?"div":"body");x={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};v&&p.extend(x,{position:"absolute",left:"-1000px",top:"-1000px"});
for(N in x)t.style[N]=x[N];t.appendChild(g);j=v||j;j.insertBefore(t,j.firstChild);E.appendChecked=q.checked;E.boxModel=g.offsetWidth===2;if("zoom"in g.style){g.style.display="inline";g.style.zoom=1;E.inlineBlockNeedsLayout=g.offsetWidth===2;g.style.display="";g.innerHTML="<div style='width:4px;'></div>";E.shrinkWrapBlocks=g.offsetWidth!==2}g.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";v=g.getElementsByTagName("td");q=v[0].offsetHeight===0;v[0].style.display=
"";v[1].style.display="none";E.reliableHiddenOffsets=q&&v[0].offsetHeight===0;g.innerHTML="";if(V.defaultView&&V.defaultView.getComputedStyle){q=V.createElement("div");q.style.width="0";q.style.marginRight="0";g.appendChild(q);E.reliableMarginRight=(parseInt((V.defaultView.getComputedStyle(q,null)||{marginRight:0}).marginRight,10)||0)===0}t.innerHTML="";j.removeChild(t);if(g.attachEvent)for(N in{submit:1,change:1,focusin:1}){j="on"+N;q=j in g;if(!q){g.setAttribute(j,"return;");q=typeof g[j]==="function"}E[N+
"Bubbles"]=q}t=t=v=x=v=q=g=q=null;return E}();p.boxModel=p.support.boxModel;var da=/^(?:\{.*\}|\[.*\])$/,ia=/([A-Z])/g;p.extend({cache:{},uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(g){g=g.nodeType?p.cache[g[p.expando]]:g[p.expando];return!!g&&!f(g)},data:function(g,j,q,t){if(p.acceptData(g)){var v=p.expando,x=typeof j==="string",E=g.nodeType,N=E?p.cache:g,Q=E?g[p.expando]:
g[p.expando]&&p.expando;if(!((!Q||t&&Q&&N[Q]&&!N[Q][v])&&x&&q===d)){if(!Q)if(E)g[p.expando]=Q=++p.uuid;else Q=p.expando;if(!N[Q]){N[Q]={};if(!E)N[Q].toJSON=p.noop}if(typeof j==="object"||typeof j==="function")if(t)N[Q][v]=p.extend(N[Q][v],j);else N[Q]=p.extend(N[Q],j);g=N[Q];if(t){g[v]||(g[v]={});g=g[v]}if(q!==d)g[p.camelCase(j)]=q;if(j==="events"&&!g[j])return g[v]&&g[v].events;if(x){q=g[j];if(q==null)q=g[p.camelCase(j)]}else q=g;return q}}},removeData:function(g,j,q){if(p.acceptData(g)){var t,v=
p.expando,x=g.nodeType,E=x?p.cache:g,N=x?g[p.expando]:p.expando;if(E[N]){if(j)if(t=q?E[N][v]:E[N]){t[j]||(j=p.camelCase(j));delete t[j];if(!f(t))return}if(q){delete E[N][v];if(!f(E[N]))return}j=E[N][v];if(p.support.deleteExpando||!E.setInterval)delete E[N];else E[N]=null;if(j){E[N]={};if(!x)E[N].toJSON=p.noop;E[N][v]=j}else if(x)if(p.support.deleteExpando)delete g[p.expando];else if(g.removeAttribute)g.removeAttribute(p.expando);else g[p.expando]=null}}},_data:function(g,j,q){return p.data(g,j,q,
true)},acceptData:function(g){if(g.nodeName){var j=p.noData[g.nodeName.toLowerCase()];if(j)return!(j===true||g.getAttribute("classid")!==j)}return true}});p.fn.extend({data:function(g,j){var q=null;if(typeof g==="undefined"){if(this.length){q=p.data(this[0]);if(this[0].nodeType===1)for(var t=this[0].attributes,v,x=0,E=t.length;x<E;x++){v=t[x].name;if(v.indexOf("data-")===0){v=p.camelCase(v.substring(5));e(this[0],v,q[v])}}}return q}else if(typeof g==="object")return this.each(function(){p.data(this,
g)});var N=g.split(".");N[1]=N[1]?"."+N[1]:"";if(j===d){q=this.triggerHandler("getData"+N[1]+"!",[N[0]]);if(q===d&&this.length){q=p.data(this[0],g);q=e(this[0],g,q)}return q===d&&N[1]?this.data(N[0]):q}else return this.each(function(){var Q=p(this),R=[N[0],j];Q.triggerHandler("setData"+N[1]+"!",R);p.data(this,g,j);Q.triggerHandler("changeData"+N[1]+"!",R)})},removeData:function(g){return this.each(function(){p.removeData(this,g)})}});p.extend({_mark:function(g,j){if(g){j=(j||"fx")+"mark";p.data(g,
j,(p.data(g,j,d,true)||0)+1,true)}},_unmark:function(g,j,q){if(g!==true){q=j;j=g;g=false}if(j){q=q||"fx";var t=q+"mark";if(g=g?0:(p.data(j,t,d,true)||1)-1)p.data(j,t,g,true);else{p.removeData(j,t,true);c(j,q,"mark")}}},queue:function(g,j,q){if(g){j=(j||"fx")+"queue";var t=p.data(g,j,d,true);if(q)if(!t||p.isArray(q))t=p.data(g,j,p.makeArray(q),true);else t.push(q);return t||[]}},dequeue:function(g,j){j=j||"fx";var q=p.queue(g,j),t=q.shift();if(t==="inprogress")t=q.shift();if(t){j==="fx"&&q.unshift("inprogress");
t.call(g,function(){p.dequeue(g,j)})}if(!q.length){p.removeData(g,j+"queue",true);c(g,j,"queue")}}});p.fn.extend({queue:function(g,j){if(typeof g!=="string"){j=g;g="fx"}if(j===d)return p.queue(this[0],g);return this.each(function(){var q=p.queue(this,g,j);g==="fx"&&q[0]!=="inprogress"&&p.dequeue(this,g)})},dequeue:function(g){return this.each(function(){p.dequeue(this,g)})},delay:function(g,j){g=p.fx?p.fx.speeds[g]||g:g;j=j||"fx";return this.queue(j,function(){var q=this;setTimeout(function(){p.dequeue(q,
j)},g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,j){function q(){--x||t.resolveWith(v,[v])}if(typeof g!=="string"){j=g;g=d}g=g||"fx";var t=p.Deferred(),v=this;j=v.length;var x=1,E=g+"defer",N=g+"queue";g=g+"mark";for(var Q;j--;)if(Q=p.data(v[j],E,d,true)||(p.data(v[j],N,d,true)||p.data(v[j],g,d,true))&&p.data(v[j],E,p._Deferred(),true)){x++;Q.done(q)}q();return t.promise()}});var oa=/[\n\t\r]/g,ua=/\s+/,Aa=/\r/g,Ga=/^(?:button|input)$/i,Ja=/^(?:button|input|object|select|textarea)$/i,
Ma=/^a(?:rea)?$/i,Oa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Pa,ab;p.fn.extend({attr:function(g,j){return p.access(this,g,j,true,p.attr)},removeAttr:function(g){return this.each(function(){p.removeAttr(this,g)})},prop:function(g,j){return p.access(this,g,j,true,p.prop)},removeProp:function(g){g=p.propFix[g]||g;return this.each(function(){try{this[g]=d;delete this[g]}catch(j){}})},addClass:function(g){var j,q,t,v,
x,E,N;if(p.isFunction(g))return this.each(function(Q){p(this).addClass(g.call(this,Q,this.className))});if(g&&typeof g==="string"){j=g.split(ua);q=0;for(t=this.length;q<t;q++){v=this[q];if(v.nodeType===1)if(!v.className&&j.length===1)v.className=g;else{x=" "+v.className+" ";E=0;for(N=j.length;E<N;E++)~x.indexOf(" "+j[E]+" ")||(x+=j[E]+" ");v.className=p.trim(x)}}}return this},removeClass:function(g){var j,q,t,v,x,E,N;if(p.isFunction(g))return this.each(function(Q){p(this).removeClass(g.call(this,
Q,this.className))});if(g&&typeof g==="string"||g===d){j=(g||"").split(ua);q=0;for(t=this.length;q<t;q++){v=this[q];if(v.nodeType===1&&v.className)if(g){x=(" "+v.className+" ").replace(oa," ");E=0;for(N=j.length;E<N;E++)x=x.replace(" "+j[E]+" "," ");v.className=p.trim(x)}else v.className=""}}return this},toggleClass:function(g,j){var q=typeof g,t=typeof j==="boolean";if(p.isFunction(g))return this.each(function(v){p(this).toggleClass(g.call(this,v,this.className,j),j)});return this.each(function(){if(q===
"string")for(var v,x=0,E=p(this),N=j,Q=g.split(ua);v=Q[x++];){N=t?N:!E.hasClass(v);E[N?"addClass":"removeClass"](v)}else if(q==="undefined"||q==="boolean"){this.className&&p._data(this,"__className__",this.className);this.className=this.className||g===false?"":p._data(this,"__className__")||""}})},hasClass:function(g){g=" "+g+" ";for(var j=0,q=this.length;j<q;j++)if(this[j].nodeType===1&&(" "+this[j].className+" ").replace(oa," ").indexOf(g)>-1)return true;return false},val:function(g){var j,q,t=
this[0];if(!arguments.length){if(t){if((j=p.valHooks[t.nodeName.toLowerCase()]||p.valHooks[t.type])&&"get"in j&&(q=j.get(t,"value"))!==d)return q;q=t.value;return typeof q==="string"?q.replace(Aa,""):q==null?"":q}return d}var v=p.isFunction(g);return this.each(function(x){var E=p(this);if(this.nodeType===1){x=v?g.call(this,x,E.val()):g;if(x==null)x="";else if(typeof x==="number")x+="";else if(p.isArray(x))x=p.map(x,function(N){return N==null?"":N+""});j=p.valHooks[this.nodeName.toLowerCase()]||p.valHooks[this.type];
if(!j||!("set"in j)||j.set(this,x,"value")===d)this.value=x}})}});p.extend({valHooks:{option:{get:function(g){var j=g.attributes.value;return!j||j.specified?g.value:g.text}},select:{get:function(g){var j,q=g.selectedIndex,t=[],v=g.options;g=g.type==="select-one";if(q<0)return null;for(var x=g?q:0,E=g?q+1:v.length;x<E;x++){j=v[x];if(j.selected&&(p.support.optDisabled?!j.disabled:j.getAttribute("disabled")===null)&&(!j.parentNode.disabled||!p.nodeName(j.parentNode,"optgroup"))){j=p(j).val();if(g)return j;
t.push(j)}}if(g&&!t.length&&v.length)return p(v[q]).val();return t},set:function(g,j){var q=p.makeArray(j);p(g).find("option").each(function(){this.selected=p.inArray(p(this).val(),q)>=0});if(!q.length)g.selectedIndex=-1;return q}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(g,j,q,t){var v=g.nodeType;if(!g||v===3||v===8||v===2)return d;if(t&&j in p.attrFn)return p(g)[j](q);if(!("getAttribute"in g))return p.prop(g,
j,q);var x,E;if(t=v!==1||!p.isXMLDoc(g)){j=p.attrFix[j]||j;E=p.attrHooks[j];if(!E)if(Oa.test(j))E=ab;else if(Pa)E=Pa}if(q!==d)if(q===null){p.removeAttr(g,j);return d}else if(E&&"set"in E&&t&&(x=E.set(g,q,j))!==d)return x;else{g.setAttribute(j,""+q);return q}else if(E&&"get"in E&&t&&(x=E.get(g,j))!==null)return x;else{x=g.getAttribute(j);return x===null?d:x}},removeAttr:function(g,j){var q;if(g.nodeType===1){j=p.attrFix[j]||j;p.attr(g,j,"");g.removeAttribute(j);if(Oa.test(j)&&(q=p.propFix[j]||j)in
g)g[q]=false}},attrHooks:{type:{set:function(g,j){if(Ga.test(g.nodeName)&&g.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&j==="radio"&&p.nodeName(g,"input")){var q=g.value;g.setAttribute("type",j);if(q)g.value=q;return j}}},value:{get:function(g,j){if(Pa&&p.nodeName(g,"button"))return Pa.get(g,j);return j in g?g.value:null},set:function(g,j,q){if(Pa&&p.nodeName(g,"button"))return Pa.set(g,j,q);g.value=j}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor",
"class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(g,j,q){var t=g.nodeType;if(!g||t===3||t===8||t===2)return d;var v,x;if(t!==1||!p.isXMLDoc(g)){j=p.propFix[j]||j;x=p.propHooks[j]}return q!==d?x&&"set"in x&&(v=x.set(g,q,j))!==d?v:(g[j]=q):x&&"get"in x&&(v=x.get(g,j))!==null?v:g[j]},propHooks:{tabIndex:{get:function(g){var j=g.getAttributeNode("tabindex");
return j&&j.specified?parseInt(j.value,10):Ja.test(g.nodeName)||Ma.test(g.nodeName)&&g.href?0:d}}}});p.attrHooks.tabIndex=p.propHooks.tabIndex;ab={get:function(g,j){var q;return p.prop(g,j)===true||(q=g.getAttributeNode(j))&&q.nodeValue!==false?j.toLowerCase():d},set:function(g,j,q){if(j===false)p.removeAttr(g,q);else{j=p.propFix[q]||q;if(j in g)g[j]=true;g.setAttribute(q,q.toLowerCase())}return q}};if(!p.support.getSetAttribute){Pa=p.valHooks.button={get:function(g,j){return(g=g.getAttributeNode(j))&&
g.nodeValue!==""?g.nodeValue:d},set:function(g,j,q){var t=g.getAttributeNode(q);if(!t){t=V.createAttribute(q);g.setAttributeNode(t)}return t.nodeValue=j+""}};p.each(["width","height"],function(g,j){p.attrHooks[j]=p.extend(p.attrHooks[j],{set:function(q,t){if(t===""){q.setAttribute(j,"auto");return t}}})})}p.support.hrefNormalized||p.each(["href","src","width","height"],function(g,j){p.attrHooks[j]=p.extend(p.attrHooks[j],{get:function(q){q=q.getAttribute(j,2);return q===null?d:q}})});if(!p.support.style)p.attrHooks.style=
{get:function(g){return g.style.cssText.toLowerCase()||d},set:function(g,j){return g.style.cssText=""+j}};if(!p.support.optSelected)p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(){return null}});p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(g){return g.getAttribute("value")===null?"on":g.value}}});p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(g,j){if(p.isArray(j))return g.checked=p.inArray(p(g).val(),
j)>=0}})});var Ya=/\.(.*)$/,Wa=/^(?:textarea|input|select)$/i,Ta=/\./g,Fb=/ /g,Lb=/[^\w\s.|`]/g,Mb=function(g){return g.replace(Lb,"\\$&")};p.event={add:function(g,j,q,t){if(!(g.nodeType===3||g.nodeType===8)){if(q===false)q=k;else if(!q)return;var v,x;if(q.handler){v=q;q=v.handler}if(!q.guid)q.guid=p.guid++;if(x=p._data(g)){var E=x.events,N=x.handle;if(!E)x.events=E={};if(!N)x.handle=N=function(qa){return typeof p!=="undefined"&&(!qa||p.event.triggered!==qa.type)?p.event.handle.apply(N.elem,arguments):
d};N.elem=g;j=j.split(" ");for(var Q,R=0,Y;Q=j[R++];){x=v?p.extend({},v):{handler:q,data:t};if(Q.indexOf(".")>-1){Y=Q.split(".");Q=Y.shift();x.namespace=Y.slice(0).sort().join(".")}else{Y=[];x.namespace=""}x.type=Q;if(!x.guid)x.guid=q.guid;var ma=E[Q],pa=p.event.special[Q]||{};if(!ma){ma=E[Q]=[];if(!pa.setup||pa.setup.call(g,t,Y,N)===false)if(g.addEventListener)g.addEventListener(Q,N,false);else g.attachEvent&&g.attachEvent("on"+Q,N)}if(pa.add){pa.add.call(g,x);if(!x.handler.guid)x.handler.guid=q.guid}ma.push(x);
p.event.global[Q]=true}g=null}}},global:{},remove:function(g,j,q,t){if(!(g.nodeType===3||g.nodeType===8)){if(q===false)q=k;var v,x,E=0,N,Q,R,Y,ma,pa,qa=p.hasData(g)&&p._data(g),xa=qa&&qa.events;if(qa&&xa){if(j&&j.type){q=j.handler;j=j.type}if(!j||typeof j==="string"&&j.charAt(0)==="."){j=j||"";for(v in xa)p.event.remove(g,v+j)}else{for(j=j.split(" ");v=j[E++];){Y=v;N=v.indexOf(".")<0;Q=[];if(!N){Q=v.split(".");v=Q.shift();R=new RegExp("(^|\\.)"+p.map(Q.slice(0).sort(),Mb).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(ma=
xa[v])if(q){Y=p.event.special[v]||{};for(x=t||0;x<ma.length;x++){pa=ma[x];if(q.guid===pa.guid){if(N||R.test(pa.namespace)){t==null&&ma.splice(x--,1);Y.remove&&Y.remove.call(g,pa)}if(t!=null)break}}if(ma.length===0||t!=null&&ma.length===1){if(!Y.teardown||Y.teardown.call(g,Q)===false)p.removeEvent(g,v,qa.handle);delete xa[v]}}else for(x=0;x<ma.length;x++){pa=ma[x];if(N||R.test(pa.namespace)){p.event.remove(g,Y,pa.handler,x);ma.splice(x--,1)}}}if(p.isEmptyObject(xa)){if(j=qa.handle)j.elem=null;delete qa.events;
delete qa.handle;p.isEmptyObject(qa)&&p.removeData(g,d,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(g,j,q,t){var v=g.type||g,x=[],E;if(v.indexOf("!")>=0){v=v.slice(0,-1);E=true}if(v.indexOf(".")>=0){x=v.split(".");v=x.shift();x.sort()}if(!((!q||p.event.customEvent[v])&&!p.event.global[v])){g=typeof g==="object"?g[p.expando]?g:new p.Event(v,g):new p.Event(v);g.type=v;g.exclusive=E;g.namespace=x.join(".");g.namespace_re=new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.)?")+
"(\\.|$)");if(t||!q){g.preventDefault();g.stopPropagation()}if(q){if(!(q.nodeType===3||q.nodeType===8)){g.result=d;g.target=q;j=j!=null?p.makeArray(j):[];j.unshift(g);x=q;t=v.indexOf(":")<0?"on"+v:"";do{E=p._data(x,"handle");g.currentTarget=x;E&&E.apply(x,j);if(t&&p.acceptData(x)&&x[t]&&x[t].apply(x,j)===false){g.result=false;g.preventDefault()}x=x.parentNode||x.ownerDocument||x===g.target.ownerDocument&&a}while(x&&!g.isPropagationStopped());if(!g.isDefaultPrevented()){var N;x=p.event.special[v]||
{};if((!x._default||x._default.call(q.ownerDocument,g)===false)&&!(v==="click"&&p.nodeName(q,"a"))&&p.acceptData(q)){try{if(t&&q[v]){if(N=q[t])q[t]=null;p.event.triggered=v;q[v]()}}catch(Q){}if(N)q[t]=N;p.event.triggered=d}}return g.result}}else p.each(p.cache,function(){var R=this[p.expando];R&&R.events&&R.events[v]&&p.event.trigger(g,j,R.handle.elem)})}},handle:function(g){g=p.event.fix(g||a.event);var j=((p._data(this,"events")||{})[g.type]||[]).slice(0),q=!g.exclusive&&!g.namespace,t=Array.prototype.slice.call(arguments,
0);t[0]=g;g.currentTarget=this;for(var v=0,x=j.length;v<x;v++){var E=j[v];if(q||g.namespace_re.test(E.namespace)){g.handler=E.handler;g.data=E.data;g.handleObj=E;E=E.handler.apply(this,t);if(E!==d){g.result=E;if(E===false){g.preventDefault();g.stopPropagation()}}if(g.isImmediatePropagationStopped())break}}return g.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(g){if(g[p.expando])return g;var j=g;g=p.Event(j);for(var q=this.props.length,t;q;){t=this.props[--q];g[t]=j[t]}if(!g.target)g.target=g.srcElement||V;if(g.target.nodeType===3)g.target=g.target.parentNode;if(!g.relatedTarget&&g.fromElement)g.relatedTarget=g.fromElement===g.target?g.toElement:g.fromElement;if(g.pageX==null&&g.clientX!=null){q=g.target.ownerDocument||V;j=q.documentElement;q=q.body;g.pageX=g.clientX+(j&&j.scrollLeft||q&&q.scrollLeft||0)-(j&&j.clientLeft||q&&q.clientLeft||
0);g.pageY=g.clientY+(j&&j.scrollTop||q&&q.scrollTop||0)-(j&&j.clientTop||q&&q.clientTop||0)}if(g.which==null&&(g.charCode!=null||g.keyCode!=null))g.which=g.charCode!=null?g.charCode:g.keyCode;if(!g.metaKey&&g.ctrlKey)g.metaKey=g.ctrlKey;if(!g.which&&g.button!==d)g.which=g.button&1?1:g.button&2?3:g.button&4?2:0;return g},guid:1E8,proxy:p.proxy,special:{ready:{setup:p.bindReady,teardown:p.noop},live:{add:function(g){p.event.add(this,o(g.origType,g.selector),p.extend({},g,{handler:u,guid:g.handler.guid}))},
remove:function(g){p.event.remove(this,o(g.origType,g.selector),g)}},beforeunload:{setup:function(g,j,q){if(p.isWindow(this))this.onbeforeunload=q},teardown:function(g,j){if(this.onbeforeunload===j)this.onbeforeunload=null}}}};p.removeEvent=V.removeEventListener?function(g,j,q){g.removeEventListener&&g.removeEventListener(j,q,false)}:function(g,j,q){g.detachEvent&&g.detachEvent("on"+j,q)};p.Event=function(g,j){if(!this.preventDefault)return new p.Event(g,j);if(g&&g.type){this.originalEvent=g;this.type=
g.type;this.isDefaultPrevented=g.defaultPrevented||g.returnValue===false||g.getPreventDefault&&g.getPreventDefault()?n:k}else this.type=g;j&&p.extend(this,j);this.timeStamp=p.now();this[p.expando]=true};p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var g=this.originalEvent;if(g)if(g.preventDefault)g.preventDefault();else g.returnValue=false},stopPropagation:function(){this.isPropagationStopped=n;var g=this.originalEvent;if(g){g.stopPropagation&&g.stopPropagation();g.cancelBubble=
true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n;this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};var nb=function(g){var j=g.relatedTarget,q=false,t=g.type;g.type=g.data;if(j!==this){if(j)q=p.contains(this,j);if(!q){p.event.handle.apply(this,arguments);g.type=t}}},ob=function(g){g.type=g.data;p.event.handle.apply(this,arguments)};p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(g,j){p.event.special[g]=
{setup:function(q){p.event.add(this,j,q&&q.selector?ob:nb,g)},teardown:function(q){p.event.remove(this,j,q&&q.selector?ob:nb)}}});if(!p.support.submitBubbles)p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return false;else{p.event.add(this,"click.specialSubmit",function(g){var j=g.target,q=p.nodeName(j,"input")||p.nodeName(j,"button")?j.type:"";if((q==="submit"||q==="image")&&p(j).closest("form").length)h("submit",this,arguments)});p.event.add(this,"keypress.specialSubmit",function(g){var j=
g.target,q=p.nodeName(j,"input")||p.nodeName(j,"button")?j.type:"";if((q==="text"||q==="password")&&p(j).closest("form").length&&g.keyCode===13)h("submit",this,arguments)})}},teardown:function(){p.event.remove(this,".specialSubmit")}};if(!p.support.changeBubbles){var Za,pb=function(g){var j=p.nodeName(g,"input")?g.type:"",q=g.value;if(j==="radio"||j==="checkbox")q=g.checked;else if(j==="select-multiple")q=g.selectedIndex>-1?p.map(g.options,function(t){return t.selected}).join("-"):"";else if(p.nodeName(g,
"select"))q=g.selectedIndex;return q},bb=function(g,j){var q=g.target,t,v;if(!(!Wa.test(q.nodeName)||q.readOnly)){t=p._data(q,"_change_data");v=pb(q);if(g.type!=="focusout"||q.type!=="radio")p._data(q,"_change_data",v);if(!(t===d||v===t))if(t!=null||v){g.type="change";g.liveFired=d;p.event.trigger(g,j,q)}}};p.event.special.change={filters:{focusout:bb,beforedeactivate:bb,click:function(g){var j=g.target,q=p.nodeName(j,"input")?j.type:"";if(q==="radio"||q==="checkbox"||p.nodeName(j,"select"))bb.call(this,
g)},keydown:function(g){var j=g.target,q=p.nodeName(j,"input")?j.type:"";if(g.keyCode===13&&!p.nodeName(j,"textarea")||g.keyCode===32&&(q==="checkbox"||q==="radio")||q==="select-multiple")bb.call(this,g)},beforeactivate:function(g){g=g.target;p._data(g,"_change_data",pb(g))}},setup:function(){if(this.type==="file")return false;for(var g in Za)p.event.add(this,g+".specialChange",Za[g]);return Wa.test(this.nodeName)},teardown:function(){p.event.remove(this,".specialChange");return Wa.test(this.nodeName)}};
Za=p.event.special.change.filters;Za.focus=Za.beforeactivate}p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(g,j){function q(v){var x=p.event.fix(v);x.type=j;x.originalEvent={};p.event.trigger(x,null,x.target);x.isDefaultPrevented()&&v.preventDefault()}var t=0;p.event.special[j]={setup:function(){t++===0&&V.addEventListener(g,q,true)},teardown:function(){--t===0&&V.removeEventListener(g,q,true)}}});p.each(["bind","one"],function(g,j){p.fn[j]=function(q,t,v){var x;if(typeof q===
"object"){for(var E in q)this[j](E,t,q[E],v);return this}if(arguments.length===2||t===false){v=t;t=d}if(j==="one"){x=function(Q){p(this).unbind(Q,x);return v.apply(this,arguments)};x.guid=v.guid||p.guid++}else x=v;if(q==="unload"&&j!=="one")this.one(q,t,v);else{E=0;for(var N=this.length;E<N;E++)p.event.add(this[E],q,x,t)}return this}});p.fn.extend({unbind:function(g,j){if(typeof g==="object"&&!g.preventDefault)for(var q in g)this.unbind(q,g[q]);else{q=0;for(var t=this.length;q<t;q++)p.event.remove(this[q],
g,j)}return this},delegate:function(g,j,q,t){return this.live(j,q,t,g)},undelegate:function(g,j,q){return arguments.length===0?this.unbind("live"):this.die(j,null,q,g)},trigger:function(g,j){return this.each(function(){p.event.trigger(g,j,this)})},triggerHandler:function(g,j){if(this[0])return p.event.trigger(g,j,this[0],true)},toggle:function(g){var j=arguments,q=g.guid||p.guid++,t=0,v=function(x){var E=(p.data(this,"lastToggle"+g.guid)||0)%t;p.data(this,"lastToggle"+g.guid,E+1);x.preventDefault();
return j[E].apply(this,arguments)||false};for(v.guid=q;t<j.length;)j[t++].guid=q;return this.click(v)},hover:function(g,j){return this.mouseenter(g).mouseleave(j||g)}});var hb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};p.each(["live","die"],function(g,j){p.fn[j]=function(q,t,v,x){var E=0,N,Q,R=x||this.selector,Y=x?this:p(this.context);if(typeof q==="object"&&!q.preventDefault){for(N in q)Y[j](N,t,q[N],R);return this}if(j==="die"&&!q&&x&&x.charAt(0)==="."){Y.unbind(x);
return this}if(t===false||p.isFunction(t)){v=t||k;t=d}for(q=(q||"").split(" ");(x=q[E++])!=null;){N=Ya.exec(x);Q="";if(N){Q=N[0];x=x.replace(Ya,"")}if(x==="hover")q.push("mouseenter"+Q,"mouseleave"+Q);else{N=x;if(hb[x]){q.push(hb[x]+Q);x+=Q}else x=(hb[x]||x)+Q;if(j==="live"){Q=0;for(var ma=Y.length;Q<ma;Q++)p.event.add(Y[Q],"live."+o(x,R),{data:t,selector:R,handler:v,origType:x,origHandler:v,preType:N})}else Y.unbind("live."+o(x,R),v)}}return this}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(g,j){p.fn[j]=function(q,t){if(t==null){t=q;q=null}return arguments.length>0?this.bind(j,q,t):this.trigger(j)};if(p.attrFn)p.attrFn[j]=true});(function(){function g(z,L,U,T,W,aa){W=0;for(var ga=T.length;W<ga;W++){var fa=T[W];if(fa){var ra=false;for(fa=fa[z];fa;){if(fa.sizcache===U){ra=T[fa.sizset];break}if(fa.nodeType===1&&!aa){fa.sizcache=U;fa.sizset=W}if(fa.nodeName.toLowerCase()===L){ra=fa;break}fa=fa[z]}T[W]=ra}}}function j(z,L,U,T,W,aa){W=0;for(var ga=T.length;W<ga;W++){var fa=T[W];if(fa){var ra=
false;for(fa=fa[z];fa;){if(fa.sizcache===U){ra=T[fa.sizset];break}if(fa.nodeType===1){if(!aa){fa.sizcache=U;fa.sizset=W}if(typeof L!=="string"){if(fa===L){ra=true;break}}else if(R.filter(L,[fa]).length>0){ra=fa;break}}fa=fa[z]}T[W]=ra}}}var q=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t=0,v=Object.prototype.toString,x=false,E=true,N=/\\/g,Q=/\W/;[0,0].sort(function(){E=false;return 0});var R=function(z,L,U,
T){U=U||[];var W=L=L||V;if(L.nodeType!==1&&L.nodeType!==9)return[];if(!z||typeof z!=="string")return U;var aa,ga,fa,ra,Ca,za=true,Fa=R.isXML(L),ta=[],M=z;do{q.exec("");if(aa=q.exec(M)){M=aa[3];ta.push(aa[1]);if(aa[2]){ra=aa[3];break}}}while(aa);if(ta.length>1&&ma.exec(z))if(ta.length===2&&Y.relative[ta[0]])ga=La(ta[0]+ta[1],L);else for(ga=Y.relative[ta[0]]?[L]:R(ta.shift(),L);ta.length;){z=ta.shift();if(Y.relative[z])z+=ta.shift();ga=La(z,ga)}else{if(!T&&ta.length>1&&L.nodeType===9&&!Fa&&Y.match.ID.test(ta[0])&&
!Y.match.ID.test(ta[ta.length-1])){aa=R.find(ta.shift(),L,Fa);L=aa.expr?R.filter(aa.expr,aa.set)[0]:aa.set[0]}if(L){aa=T?{expr:ta.pop(),set:xa(T)}:R.find(ta.pop(),ta.length===1&&(ta[0]==="~"||ta[0]==="+")&&L.parentNode?L.parentNode:L,Fa);ga=aa.expr?R.filter(aa.expr,aa.set):aa.set;if(ta.length>0)fa=xa(ga);else za=false;for(;ta.length;){aa=Ca=ta.pop();if(Y.relative[Ca])aa=ta.pop();else Ca="";if(aa==null)aa=L;Y.relative[Ca](fa,aa,Fa)}}else fa=[]}fa||(fa=ga);fa||R.error(Ca||z);if(v.call(fa)==="[object Array]")if(za)if(L&&
L.nodeType===1)for(z=0;fa[z]!=null;z++){if(fa[z]&&(fa[z]===true||fa[z].nodeType===1&&R.contains(L,fa[z])))U.push(ga[z])}else for(z=0;fa[z]!=null;z++)fa[z]&&fa[z].nodeType===1&&U.push(ga[z]);else U.push.apply(U,fa);else xa(fa,U);if(ra){R(ra,W,U,T);R.uniqueSort(U)}return U};R.uniqueSort=function(z){if(Ba){x=E;z.sort(Ba);if(x)for(var L=1;L<z.length;L++)z[L]===z[L-1]&&z.splice(L--,1)}return z};R.matches=function(z,L){return R(z,null,null,L)};R.matchesSelector=function(z,L){return R(L,null,null,[z]).length>
0};R.find=function(z,L,U){var T;if(!z)return[];for(var W=0,aa=Y.order.length;W<aa;W++){var ga,fa=Y.order[W];if(ga=Y.leftMatch[fa].exec(z)){var ra=ga[1];ga.splice(1,1);if(ra.substr(ra.length-1)!=="\\"){ga[1]=(ga[1]||"").replace(N,"");T=Y.find[fa](ga,L,U);if(T!=null){z=z.replace(Y.match[fa],"");break}}}}T||(T=typeof L.getElementsByTagName!=="undefined"?L.getElementsByTagName("*"):[]);return{set:T,expr:z}};R.filter=function(z,L,U,T){for(var W,aa,ga=z,fa=[],ra=L,Ca=L&&L[0]&&R.isXML(L[0]);z&&L.length;){for(var za in Y.filter)if((W=
Y.leftMatch[za].exec(z))!=null&&W[2]){var Fa,ta,M=Y.filter[za];ta=W[1];aa=false;W.splice(1,1);if(ta.substr(ta.length-1)!=="\\"){if(ra===fa)fa=[];if(Y.preFilter[za])if(W=Y.preFilter[za](W,ra,U,fa,T,Ca)){if(W===true)continue}else aa=Fa=true;if(W)for(var ca=0;(ta=ra[ca])!=null;ca++)if(ta){Fa=M(ta,W,ca,ra);var ja=T^!!Fa;if(U&&Fa!=null)if(ja)aa=true;else ra[ca]=false;else if(ja){fa.push(ta);aa=true}}if(Fa!==d){U||(ra=fa);z=z.replace(Y.match[za],"");if(!aa)return[];break}}}if(z===ga)if(aa==null)R.error(z);
else break;ga=z}return ra};R.error=function(z){throw"Syntax error, unrecognized expression: "+z;};var Y=R.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(z){return z.getAttribute("href")},type:function(z){return z.getAttribute("type")}},relative:{"+":function(z,L){var U=typeof L==="string",T=U&&!Q.test(L);U=U&&!T;if(T)L=L.toLowerCase();T=0;for(var W=z.length,aa;T<W;T++)if(aa=z[T]){for(;(aa=aa.previousSibling)&&aa.nodeType!==
1;);z[T]=U||aa&&aa.nodeName.toLowerCase()===L?aa||false:aa===L}U&&R.filter(L,z,true)},">":function(z,L){var U,T=typeof L==="string",W=0,aa=z.length;if(T&&!Q.test(L))for(L=L.toLowerCase();W<aa;W++){if(U=z[W]){U=U.parentNode;z[W]=U.nodeName.toLowerCase()===L?U:false}}else{for(;W<aa;W++)if(U=z[W])z[W]=T?U.parentNode:U.parentNode===L;T&&R.filter(L,z,true)}},"":function(z,L,U){var T,W=t++,aa=j;if(typeof L==="string"&&!Q.test(L)){T=L=L.toLowerCase();aa=g}aa("parentNode",L,W,z,T,U)},"~":function(z,L,U){var T,
W=t++,aa=j;if(typeof L==="string"&&!Q.test(L)){T=L=L.toLowerCase();aa=g}aa("previousSibling",L,W,z,T,U)}},find:{ID:function(z,L,U){if(typeof L.getElementById!=="undefined"&&!U)return(z=L.getElementById(z[1]))&&z.parentNode?[z]:[]},NAME:function(z,L){if(typeof L.getElementsByName!=="undefined"){var U=[];L=L.getElementsByName(z[1]);for(var T=0,W=L.length;T<W;T++)L[T].getAttribute("name")===z[1]&&U.push(L[T]);return U.length===0?null:U}},TAG:function(z,L){if(typeof L.getElementsByTagName!=="undefined")return L.getElementsByTagName(z[1])}},
preFilter:{CLASS:function(z,L,U,T,W,aa){z=" "+z[1].replace(N,"")+" ";if(aa)return z;aa=0;for(var ga;(ga=L[aa])!=null;aa++)if(ga)if(W^(ga.className&&(" "+ga.className+" ").replace(/[\t\n\r]/g," ").indexOf(z)>=0))U||T.push(ga);else if(U)L[aa]=false;return false},ID:function(z){return z[1].replace(N,"")},TAG:function(z){return z[1].replace(N,"").toLowerCase()},CHILD:function(z){if(z[1]==="nth"){z[2]||R.error(z[0]);z[2]=z[2].replace(/^\+|\s*/g,"");var L=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(z[2]==="even"&&
"2n"||z[2]==="odd"&&"2n+1"||!/\D/.test(z[2])&&"0n+"+z[2]||z[2]);z[2]=L[1]+(L[2]||1)-0;z[3]=L[3]-0}else z[2]&&R.error(z[0]);z[0]=t++;return z},ATTR:function(z,L,U,T,W,aa){L=z[1]=z[1].replace(N,"");if(!aa&&Y.attrMap[L])z[1]=Y.attrMap[L];z[4]=(z[4]||z[5]||"").replace(N,"");if(z[2]==="~=")z[4]=" "+z[4]+" ";return z},PSEUDO:function(z,L,U,T,W){if(z[1]==="not")if((q.exec(z[3])||"").length>1||/^\w/.test(z[3]))z[3]=R(z[3],null,null,L);else{z=R.filter(z[3],L,U,true^W);U||T.push.apply(T,z);return false}else if(Y.match.POS.test(z[0])||
Y.match.CHILD.test(z[0]))return true;return z},POS:function(z){z.unshift(true);return z}},filters:{enabled:function(z){return z.disabled===false&&z.type!=="hidden"},disabled:function(z){return z.disabled===true},checked:function(z){return z.checked===true},selected:function(z){return z.selected===true},parent:function(z){return!!z.firstChild},empty:function(z){return!z.firstChild},has:function(z,L,U){return!!R(U[3],z).length},header:function(z){return/h\d/i.test(z.nodeName)},text:function(z){var L=
z.getAttribute("type"),U=z.type;return z.nodeName.toLowerCase()==="input"&&"text"===U&&(L===U||L===null)},radio:function(z){return z.nodeName.toLowerCase()==="input"&&"radio"===z.type},checkbox:function(z){return z.nodeName.toLowerCase()==="input"&&"checkbox"===z.type},file:function(z){return z.nodeName.toLowerCase()==="input"&&"file"===z.type},password:function(z){return z.nodeName.toLowerCase()==="input"&&"password"===z.type},submit:function(z){var L=z.nodeName.toLowerCase();return(L==="input"||
L==="button")&&"submit"===z.type},image:function(z){return z.nodeName.toLowerCase()==="input"&&"image"===z.type},reset:function(z){var L=z.nodeName.toLowerCase();return(L==="input"||L==="button")&&"reset"===z.type},button:function(z){var L=z.nodeName.toLowerCase();return L==="input"&&"button"===z.type||L==="button"},input:function(z){return/input|select|textarea|button/i.test(z.nodeName)},focus:function(z){return z===z.ownerDocument.activeElement}},setFilters:{first:function(z,L){return L===0},last:function(z,
L,U,T){return L===T.length-1},even:function(z,L){return L%2===0},odd:function(z,L){return L%2===1},lt:function(z,L,U){return L<U[3]-0},gt:function(z,L,U){return L>U[3]-0},nth:function(z,L,U){return U[3]-0===L},eq:function(z,L,U){return U[3]-0===L}},filter:{PSEUDO:function(z,L,U,T){var W=L[1],aa=Y.filters[W];if(aa)return aa(z,U,L,T);else if(W==="contains")return(z.textContent||z.innerText||R.getText([z])||"").indexOf(L[3])>=0;else if(W==="not"){L=L[3];U=0;for(T=L.length;U<T;U++)if(L[U]===z)return false;
return true}else R.error(W)},CHILD:function(z,L){var U=L[1],T=z;switch(U){case "only":case "first":for(;T=T.previousSibling;)if(T.nodeType===1)return false;if(U==="first")return true;T=z;case "last":for(;T=T.nextSibling;)if(T.nodeType===1)return false;return true;case "nth":U=L[2];var W=L[3];if(U===1&&W===0)return true;L=L[0];var aa=z.parentNode;if(aa&&(aa.sizcache!==L||!z.nodeIndex)){var ga=0;for(T=aa.firstChild;T;T=T.nextSibling)if(T.nodeType===1)T.nodeIndex=++ga;aa.sizcache=L}z=z.nodeIndex-W;return U===
0?z===0:z%U===0&&z/U>=0}},ID:function(z,L){return z.nodeType===1&&z.getAttribute("id")===L},TAG:function(z,L){return L==="*"&&z.nodeType===1||z.nodeName.toLowerCase()===L},CLASS:function(z,L){return(" "+(z.className||z.getAttribute("class"))+" ").indexOf(L)>-1},ATTR:function(z,L){var U=L[1];z=Y.attrHandle[U]?Y.attrHandle[U](z):z[U]!=null?z[U]:z.getAttribute(U);U=z+"";var T=L[2];L=L[4];return z==null?T==="!=":T==="="?U===L:T==="*="?U.indexOf(L)>=0:T==="~="?(" "+U+" ").indexOf(L)>=0:!L?U&&z!==false:
T==="!="?U!==L:T==="^="?U.indexOf(L)===0:T==="$="?U.substr(U.length-L.length)===L:T==="|="?U===L||U.substr(0,L.length+1)===L+"-":false},POS:function(z,L,U,T){var W=Y.setFilters[L[2]];if(W)return W(z,U,L,T)}}},ma=Y.match.POS,pa=function(z,L){return"\\"+(L-0+1)};for(var qa in Y.match){Y.match[qa]=new RegExp(Y.match[qa].source+/(?![^\[]*\])(?![^\(]*\))/.source);Y.leftMatch[qa]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Y.match[qa].source.replace(/\\(\d+)/g,pa))}var xa=function(z,L){z=Array.prototype.slice.call(z,
0);if(L){L.push.apply(L,z);return L}return z};try{Array.prototype.slice.call(V.documentElement.childNodes,0)}catch(Qa){xa=function(z,L){var U=0;L=L||[];if(v.call(z)==="[object Array]")Array.prototype.push.apply(L,z);else if(typeof z.length==="number")for(var T=z.length;U<T;U++)L.push(z[U]);else for(;z[U];U++)L.push(z[U]);return L}}var Ba,Ia;if(V.documentElement.compareDocumentPosition)Ba=function(z,L){if(z===L){x=true;return 0}if(!z.compareDocumentPosition||!L.compareDocumentPosition)return z.compareDocumentPosition?
-1:1;return z.compareDocumentPosition(L)&4?-1:1};else{Ba=function(z,L){if(z===L){x=true;return 0}else if(z.sourceIndex&&L.sourceIndex)return z.sourceIndex-L.sourceIndex;var U,T,W=[],aa=[];U=z.parentNode;T=L.parentNode;var ga=U;if(U===T)return Ia(z,L);else if(U){if(!T)return 1}else return-1;for(;ga;){W.unshift(ga);ga=ga.parentNode}for(ga=T;ga;){aa.unshift(ga);ga=ga.parentNode}U=W.length;T=aa.length;for(ga=0;ga<U&&ga<T;ga++)if(W[ga]!==aa[ga])return Ia(W[ga],aa[ga]);return ga===U?Ia(z,aa[ga],-1):Ia(W[ga],
L,1)};Ia=function(z,L,U){if(z===L)return U;for(z=z.nextSibling;z;){if(z===L)return-1;z=z.nextSibling}return 1}}R.getText=function(z){for(var L="",U,T=0;z[T];T++){U=z[T];if(U.nodeType===3||U.nodeType===4)L+=U.nodeValue;else if(U.nodeType!==8)L+=R.getText(U.childNodes)}return L};(function(){var z=V.createElement("div"),L="script"+(new Date).getTime(),U=V.documentElement;z.innerHTML="<a name='"+L+"'/>";U.insertBefore(z,U.firstChild);if(V.getElementById(L)){Y.find.ID=function(T,W,aa){if(typeof W.getElementById!==
"undefined"&&!aa)return(W=W.getElementById(T[1]))?W.id===T[1]||typeof W.getAttributeNode!=="undefined"&&W.getAttributeNode("id").nodeValue===T[1]?[W]:d:[]};Y.filter.ID=function(T,W){var aa=typeof T.getAttributeNode!=="undefined"&&T.getAttributeNode("id");return T.nodeType===1&&aa&&aa.nodeValue===W}}U.removeChild(z);U=z=null})();(function(){var z=V.createElement("div");z.appendChild(V.createComment(""));if(z.getElementsByTagName("*").length>0)Y.find.TAG=function(L,U){U=U.getElementsByTagName(L[1]);
if(L[1]==="*"){L=[];for(var T=0;U[T];T++)U[T].nodeType===1&&L.push(U[T]);U=L}return U};z.innerHTML="<a href='#'></a>";if(z.firstChild&&typeof z.firstChild.getAttribute!=="undefined"&&z.firstChild.getAttribute("href")!=="#")Y.attrHandle.href=function(L){return L.getAttribute("href",2)};z=null})();V.querySelectorAll&&function(){var z=R,L=V.createElement("div");L.innerHTML="<p class='TEST'></p>";if(!(L.querySelectorAll&&L.querySelectorAll(".TEST").length===0)){R=function(T,W,aa,ga){W=W||V;if(!ga&&!R.isXML(W)){var fa=
/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(T);if(fa&&(W.nodeType===1||W.nodeType===9))if(fa[1])return xa(W.getElementsByTagName(T),aa);else if(fa[2]&&Y.find.CLASS&&W.getElementsByClassName)return xa(W.getElementsByClassName(fa[2]),aa);if(W.nodeType===9){if(T==="body"&&W.body)return xa([W.body],aa);else if(fa&&fa[3]){var ra=W.getElementById(fa[3]);if(ra&&ra.parentNode){if(ra.id===fa[3])return xa([ra],aa)}else return xa([],aa)}try{return xa(W.querySelectorAll(T),aa)}catch(Ca){}}else if(W.nodeType===
1&&W.nodeName.toLowerCase()!=="object"){fa=W;var za=(ra=W.getAttribute("id"))||"__sizzle__",Fa=W.parentNode,ta=/^\s*[+~]/.test(T);if(ra)za=za.replace(/'/g,"\\$&");else W.setAttribute("id",za);if(ta&&Fa)W=W.parentNode;try{if(!ta||Fa)return xa(W.querySelectorAll("[id='"+za+"'] "+T),aa)}catch(M){}finally{ra||fa.removeAttribute("id")}}}return z(T,W,aa,ga)};for(var U in z)R[U]=z[U];L=null}}();(function(){var z=V.documentElement,L=z.matchesSelector||z.mozMatchesSelector||z.webkitMatchesSelector||z.msMatchesSelector;
if(L){var U=!L.call(V.createElement("div"),"div"),T=false;try{L.call(V.documentElement,"[test!='']:sizzle")}catch(W){T=true}R.matchesSelector=function(aa,ga){ga=ga.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!R.isXML(aa))try{if(T||!Y.match.PSEUDO.test(ga)&&!/!=/.test(ga)){var fa=L.call(aa,ga);if(fa||!U||aa.document&&aa.document.nodeType!==11)return fa}}catch(ra){}return R(ga,null,null,[aa]).length>0}}})();(function(){var z=V.createElement("div");z.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!z.getElementsByClassName||z.getElementsByClassName("e").length===0)){z.lastChild.className="e";if(z.getElementsByClassName("e").length!==1){Y.order.splice(1,0,"CLASS");Y.find.CLASS=function(L,U,T){if(typeof U.getElementsByClassName!=="undefined"&&!T)return U.getElementsByClassName(L[1])};z=null}}})();R.contains=V.documentElement.contains?function(z,L){return z!==L&&(z.contains?z.contains(L):true)}:V.documentElement.compareDocumentPosition?function(z,L){return!!(z.compareDocumentPosition(L)&
16)}:function(){return false};R.isXML=function(z){return(z=(z?z.ownerDocument||z:0).documentElement)?z.nodeName!=="HTML":false};var La=function(z,L){var U,T=[],W="";for(L=L.nodeType?[L]:L;U=Y.match.PSEUDO.exec(z);){W+=U[0];z=z.replace(Y.match.PSEUDO,"")}z=Y.relative[z]?z+"*":z;U=0;for(var aa=L.length;U<aa;U++)R(z,L[U],T);return R.filter(W,T)};p.find=R;p.expr=R.selectors;p.expr[":"]=p.expr.filters;p.unique=R.uniqueSort;p.text=R.getText;p.isXMLDoc=R.isXML;p.contains=R.contains})();var Nb=/Until$/,Ob=
/^(?:parents|prevUntil|prevAll)/,Pb=/,/,Gb=/^.[^:#\[\.,]*$/,Qb=Array.prototype.slice,qb=p.expr.match.POS,Rb={children:true,contents:true,next:true,prev:true};p.fn.extend({find:function(g){var j=this,q,t;if(typeof g!=="string")return p(g).filter(function(){q=0;for(t=j.length;q<t;q++)if(p.contains(j[q],this))return true});var v=this.pushStack("","find",g),x,E,N;q=0;for(t=this.length;q<t;q++){x=v.length;p.find(g,this[q],v);if(q>0)for(E=x;E<v.length;E++)for(N=0;N<x;N++)if(v[N]===v[E]){v.splice(E--,1);
break}}return v},has:function(g){var j=p(g);return this.filter(function(){for(var q=0,t=j.length;q<t;q++)if(p.contains(this,j[q]))return true})},not:function(g){return this.pushStack(A(this,g,false),"not",g)},filter:function(g){return this.pushStack(A(this,g,true),"filter",g)},is:function(g){return!!g&&(typeof g==="string"?p.filter(g,this).length>0:this.filter(g).length>0)},closest:function(g,j){var q=[],t,v,x=this[0];if(p.isArray(g)){var E,N={},Q=1;if(x&&g.length){t=0;for(v=g.length;t<v;t++){E=g[t];
N[E]||(N[E]=qb.test(E)?p(E,j||this.context):E)}for(;x&&x.ownerDocument&&x!==j;){for(E in N){g=N[E];if(g.jquery?g.index(x)>-1:p(x).is(g))q.push({selector:E,elem:x,level:Q})}x=x.parentNode;Q++}}return q}E=qb.test(g)||typeof g!=="string"?p(g,j||this.context):0;t=0;for(v=this.length;t<v;t++)for(x=this[t];x;)if(E?E.index(x)>-1:p.find.matchesSelector(x,g)){q.push(x);break}else{x=x.parentNode;if(!x||!x.ownerDocument||x===j||x.nodeType===11)break}q=q.length>1?p.unique(q):q;return this.pushStack(q,"closest",
g)},index:function(g){if(!g)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof g==="string")return p.inArray(this[0],p(g));return p.inArray(g.jquery?g[0]:g,this)},add:function(g,j){g=typeof g==="string"?p(g,j):p.makeArray(g&&g.nodeType?[g]:g);j=p.merge(this.get(),g);return this.pushStack(w(g[0])||w(j[0])?j:p.unique(j))},andSelf:function(){return this.add(this.prevObject)}});p.each({parent:function(g){return(g=g.parentNode)&&g.nodeType!==11?g:null},parents:function(g){return p.dir(g,
"parentNode")},parentsUntil:function(g,j,q){return p.dir(g,"parentNode",q)},next:function(g){return p.nth(g,2,"nextSibling")},prev:function(g){return p.nth(g,2,"previousSibling")},nextAll:function(g){return p.dir(g,"nextSibling")},prevAll:function(g){return p.dir(g,"previousSibling")},nextUntil:function(g,j,q){return p.dir(g,"nextSibling",q)},prevUntil:function(g,j,q){return p.dir(g,"previousSibling",q)},siblings:function(g){return p.sibling(g.parentNode.firstChild,g)},children:function(g){return p.sibling(g.firstChild)},
contents:function(g){return p.nodeName(g,"iframe")?g.contentDocument||g.contentWindow.document:p.makeArray(g.childNodes)}},function(g,j){p.fn[g]=function(q,t){var v=p.map(this,j,q),x=Qb.call(arguments);Nb.test(g)||(t=q);if(t&&typeof t==="string")v=p.filter(t,v);v=this.length>1&&!Rb[g]?p.unique(v):v;if((this.length>1||Pb.test(t))&&Ob.test(g))v=v.reverse();return this.pushStack(v,g,x.join(","))}});p.extend({filter:function(g,j,q){if(q)g=":not("+g+")";return j.length===1?p.find.matchesSelector(j[0],
g)?[j[0]]:[]:p.find.matches(g,j)},dir:function(g,j,q){var t=[];for(g=g[j];g&&g.nodeType!==9&&(q===d||g.nodeType!==1||!p(g).is(q));){g.nodeType===1&&t.push(g);g=g[j]}return t},nth:function(g,j,q){j=j||1;for(var t=0;g;g=g[q])if(g.nodeType===1&&++t===j)break;return g},sibling:function(g,j){for(var q=[];g;g=g.nextSibling)g.nodeType===1&&g!==j&&q.push(g);return q}});var Sb=/ jQuery\d+="(?:\d+|null)"/g,ib=/^\s+/,rb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,sb=/<([\w:]+)/,
Tb=/<tbody/i,Ub=/<|&#?\w+;/,tb=/<(?:script|object|embed|option|style)/i,ub=/checked\s*(?:[^=]|=\s*.checked.)/i,Vb=/\/(java|ecma)script/i,Hb=/^\s*<!(?:\[CDATA\[|\-\-)/,Ka={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Ka.optgroup=
Ka.option;Ka.tbody=Ka.tfoot=Ka.colgroup=Ka.caption=Ka.thead;Ka.th=Ka.td;if(!p.support.htmlSerialize)Ka._default=[1,"div<div>","</div>"];p.fn.extend({text:function(g){if(p.isFunction(g))return this.each(function(j){var q=p(this);q.text(g.call(this,j,q.text()))});if(typeof g!=="object"&&g!==d)return this.empty().append((this[0]&&this[0].ownerDocument||V).createTextNode(g));return p.text(this)},wrapAll:function(g){if(p.isFunction(g))return this.each(function(q){p(this).wrapAll(g.call(this,q))});if(this[0]){var j=
p(g,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&j.insertBefore(this[0]);j.map(function(){for(var q=this;q.firstChild&&q.firstChild.nodeType===1;)q=q.firstChild;return q}).append(this)}return this},wrapInner:function(g){if(p.isFunction(g))return this.each(function(j){p(this).wrapInner(g.call(this,j))});return this.each(function(){var j=p(this),q=j.contents();q.length?q.wrapAll(g):j.append(g)})},wrap:function(g){return this.each(function(){p(this).wrapAll(g)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,
"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(g){this.nodeType===1&&this.appendChild(g)})},prepend:function(){return this.domManip(arguments,true,function(g){this.nodeType===1&&this.insertBefore(g,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(j){this.parentNode.insertBefore(j,this)});else if(arguments.length){var g=p(arguments[0]);g.push.apply(g,this.toArray());
return this.pushStack(g,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(j){this.parentNode.insertBefore(j,this.nextSibling)});else if(arguments.length){var g=this.pushStack(this,"after",arguments);g.push.apply(g,p(arguments[0]).toArray());return g}},remove:function(g,j){for(var q=0,t;(t=this[q])!=null;q++)if(!g||p.filter(g,[t]).length){if(!j&&t.nodeType===1){p.cleanData(t.getElementsByTagName("*"));p.cleanData([t])}t.parentNode&&
t.parentNode.removeChild(t)}return this},empty:function(){for(var g=0,j;(j=this[g])!=null;g++)for(j.nodeType===1&&p.cleanData(j.getElementsByTagName("*"));j.firstChild;)j.removeChild(j.firstChild);return this},clone:function(g,j){g=g==null?false:g;j=j==null?g:j;return this.map(function(){return p.clone(this,g,j)})},html:function(g){if(g===d)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Sb,""):null;else if(typeof g==="string"&&!tb.test(g)&&(p.support.leadingWhitespace||!ib.test(g))&&
!Ka[(sb.exec(g)||["",""])[1].toLowerCase()]){g=g.replace(rb,"<$1></$2>");try{for(var j=0,q=this.length;j<q;j++)if(this[j].nodeType===1){p.cleanData(this[j].getElementsByTagName("*"));this[j].innerHTML=g}}catch(t){this.empty().append(g)}}else p.isFunction(g)?this.each(function(v){var x=p(this);x.html(g.call(this,v,x.html()))}):this.empty().append(g);return this},replaceWith:function(g){if(this[0]&&this[0].parentNode){if(p.isFunction(g))return this.each(function(j){var q=p(this),t=q.html();q.replaceWith(g.call(this,
j,t))});if(typeof g!=="string")g=p(g).detach();return this.each(function(){var j=this.nextSibling,q=this.parentNode;p(this).remove();j?p(j).before(g):p(q).append(g)})}else return this.length?this.pushStack(p(p.isFunction(g)?g():g),"replaceWith",g):this},detach:function(g){return this.remove(g,true)},domManip:function(g,j,q){var t,v,x,E=g[0],N=[];if(!p.support.checkClone&&arguments.length===3&&typeof E==="string"&&ub.test(E))return this.each(function(){p(this).domManip(g,j,q,true)});if(p.isFunction(E))return this.each(function(ma){var pa=
p(this);g[0]=E.call(this,ma,j?pa.html():d);pa.domManip(g,j,q)});if(this[0]){t=E&&E.parentNode;t=p.support.parentNode&&t&&t.nodeType===11&&t.childNodes.length===this.length?{fragment:t}:p.buildFragment(g,this,N);x=t.fragment;if(v=x.childNodes.length===1?(x=x.firstChild):x.firstChild){j=j&&p.nodeName(v,"tr");for(var Q=0,R=this.length,Y=R-1;Q<R;Q++)q.call(j?B(this[Q],v):this[Q],t.cacheable||R>1&&Q<Y?p.clone(x,true,true):x)}N.length&&p.each(N,F)}return this}});p.buildFragment=function(g,j,q){var t,v,
x,E;if(j&&j[0])E=j[0].ownerDocument||j[0];E.createDocumentFragment||(E=V);if(g.length===1&&typeof g[0]==="string"&&g[0].length<512&&E===V&&g[0].charAt(0)==="<"&&!tb.test(g[0])&&(p.support.checkClone||!ub.test(g[0]))){v=true;if((x=p.fragments[g[0]])&&x!==1)t=x}if(!t){t=E.createDocumentFragment();p.clean(g,E,t,q)}if(v)p.fragments[g[0]]=x?t:1;return{fragment:t,cacheable:v}};p.fragments={};p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(g,j){p.fn[g]=function(q){var t=[];q=p(q);var v=this.length===1&&this[0].parentNode;if(v&&v.nodeType===11&&v.childNodes.length===1&&q.length===1){q[j](this[0]);return this}else{v=0;for(var x=q.length;v<x;v++){var E=(v>0?this.clone(true):this).get();p(q[v])[j](E);t=t.concat(E)}return this.pushStack(t,g,q.selector)}}});p.extend({clone:function(g,j,q){var t=g.cloneNode(true),v,x,E;if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(g.nodeType===1||g.nodeType===11)&&!p.isXMLDoc(g)){D(g,
t);v=O(g);x=O(t);for(E=0;v[E];++E)x[E]&&D(v[E],x[E])}if(j){I(g,t);if(q){v=O(g);x=O(t);for(E=0;v[E];++E)I(v[E],x[E])}}return t},clean:function(g,j,q,t){j=j||V;if(typeof j.createElement==="undefined")j=j.ownerDocument||j[0]&&j[0].ownerDocument||V;for(var v=[],x,E=0,N;(N=g[E])!=null;E++){if(typeof N==="number")N+="";if(N){if(typeof N==="string")if(Ub.test(N)){N=N.replace(rb,"<$1></$2>");x=(sb.exec(N)||["",""])[1].toLowerCase();var Q=Ka[x]||Ka._default,R=Q[0],Y=j.createElement("div");for(Y.innerHTML=
Q[1]+N+Q[2];R--;)Y=Y.lastChild;if(!p.support.tbody){R=Tb.test(N);Q=x==="table"&&!R?Y.firstChild&&Y.firstChild.childNodes:Q[1]==="<table>"&&!R?Y.childNodes:[];for(x=Q.length-1;x>=0;--x)p.nodeName(Q[x],"tbody")&&!Q[x].childNodes.length&&Q[x].parentNode.removeChild(Q[x])}!p.support.leadingWhitespace&&ib.test(N)&&Y.insertBefore(j.createTextNode(ib.exec(N)[0]),Y.firstChild);N=Y.childNodes}else N=j.createTextNode(N);var ma;if(!p.support.appendChecked)if(N[0]&&typeof(ma=N.length)==="number")for(x=0;x<ma;x++)y(N[x]);
else y(N);if(N.nodeType)v.push(N);else v=p.merge(v,N)}}if(q){g=function(pa){return!pa.type||Vb.test(pa.type)};for(E=0;v[E];E++)if(t&&p.nodeName(v[E],"script")&&(!v[E].type||v[E].type.toLowerCase()==="text/javascript"))t.push(v[E].parentNode?v[E].parentNode.removeChild(v[E]):v[E]);else{if(v[E].nodeType===1){j=p.grep(v[E].getElementsByTagName("script"),g);v.splice.apply(v,[E+1,0].concat(j))}q.appendChild(v[E])}}return v},cleanData:function(g){for(var j,q,t=p.cache,v=p.expando,x=p.event.special,E=p.support.deleteExpando,
N=0,Q;(Q=g[N])!=null;N++)if(!(Q.nodeName&&p.noData[Q.nodeName.toLowerCase()]))if(q=Q[p.expando]){if((j=t[q]&&t[q][v])&&j.events){for(var R in j.events)x[R]?p.event.remove(Q,R):p.removeEvent(Q,R,j.handle);if(j.handle)j.handle.elem=null}if(E)delete Q[p.expando];else Q.removeAttribute&&Q.removeAttribute(p.expando);delete t[q]}}});var jb=/alpha\([^)]*\)/i,Wb=/opacity=([^)]*)/,Xb=/([A-Z]|^ms)/g,vb=/^-?\d+(?:px)?$/i,Yb=/^-?\d/,Zb=/^([\-+])=([\-+.\de]+)/,$b={position:"absolute",visibility:"hidden",display:"block"},
Ib=["Left","Right"],Jb=["Top","Bottom"],Ua,wb,xb;p.fn.css=function(g,j){if(arguments.length===2&&j===d)return this;return p.access(this,g,j,true,function(q,t,v){return v!==d?p.style(q,t,v):p.css(q,t)})};p.extend({cssHooks:{opacity:{get:function(g,j){if(j){g=Ua(g,"opacity","opacity");return g===""?"1":g}else return g.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":p.support.cssFloat?"cssFloat":
"styleFloat"},style:function(g,j,q,t){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var v,x=p.camelCase(j),E=g.style,N=p.cssHooks[x];j=p.cssProps[x]||x;if(q!==d){t=typeof q;if(t==="string"&&(v=Zb.exec(q))){q=+(v[1]+1)*+v[2]+parseFloat(p.css(g,j));t="number"}if(!(q==null||t==="number"&&isNaN(q))){if(t==="number"&&!p.cssNumber[x])q+="px";if(!N||!("set"in N)||(q=N.set(g,q))!==d)try{E[j]=q}catch(Q){}}}else{if(N&&"get"in N&&(v=N.get(g,false,t))!==d)return v;return E[j]}}},css:function(g,j,q){var t,
v;j=p.camelCase(j);v=p.cssHooks[j];j=p.cssProps[j]||j;if(j==="cssFloat")j="float";if(v&&"get"in v&&(t=v.get(g,true,q))!==d)return t;else if(Ua)return Ua(g,j)},swap:function(g,j,q){var t={};for(var v in j){t[v]=g.style[v];g.style[v]=j[v]}q.call(g);for(v in j)g.style[v]=t[v]}});p.curCSS=p.css;p.each(["height","width"],function(g,j){p.cssHooks[j]={get:function(q,t,v){var x;if(t){if(q.offsetWidth!==0)return s(q,j,v);else p.swap(q,$b,function(){x=s(q,j,v)});return x}},set:function(q,t){if(vb.test(t)){t=
parseFloat(t);if(t>=0)return t+"px"}else return t}}});if(!p.support.opacity)p.cssHooks.opacity={get:function(g,j){return Wb.test((j&&g.currentStyle?g.currentStyle.filter:g.style.filter)||"")?parseFloat(RegExp.$1)/100+"":j?"1":""},set:function(g,j){var q=g.style;g=g.currentStyle;var t=p.isNaN(j)?"":"alpha(opacity="+j*100+")",v=g&&g.filter||q.filter||"";q.zoom=1;if(j>=1&&p.trim(v.replace(jb,""))===""){q.removeAttribute("filter");if(g&&!g.filter)return}q.filter=jb.test(v)?v.replace(jb,t):v+" "+t}};p(function(){if(!p.support.reliableMarginRight)p.cssHooks.marginRight=
{get:function(g,j){var q;p.swap(g,{display:"inline-block"},function(){q=j?Ua(g,"margin-right","marginRight"):g.style.marginRight});return q}}});if(V.defaultView&&V.defaultView.getComputedStyle)wb=function(g,j){var q,t;j=j.replace(Xb,"-$1").toLowerCase();if(!(t=g.ownerDocument.defaultView))return d;if(t=t.getComputedStyle(g,null)){q=t.getPropertyValue(j);if(q===""&&!p.contains(g.ownerDocument.documentElement,g))q=p.style(g,j)}return q};if(V.documentElement.currentStyle)xb=function(g,j){var q,t=g.currentStyle&&
g.currentStyle[j],v=g.runtimeStyle&&g.runtimeStyle[j],x=g.style;if(!vb.test(t)&&Yb.test(t)){q=x.left;if(v)g.runtimeStyle.left=g.currentStyle.left;x.left=j==="fontSize"?"1em":t||0;t=x.pixelLeft+"px";x.left=q;if(v)g.runtimeStyle.left=v}return t===""?"auto":t};Ua=wb||xb;if(p.expr&&p.expr.filters){p.expr.filters.hidden=function(g){var j=g.offsetHeight;return g.offsetWidth===0&&j===0||!p.support.reliableHiddenOffsets&&(g.style.display||p.css(g,"display"))==="none"};p.expr.filters.visible=function(g){return!p.expr.filters.hidden(g)}}var ac=
/%20/g,Kb=/\[\]$/,yb=/\r?\n/g,bc=/#.*$/,cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ec=/^(?:GET|HEAD)$/,fc=/^\/\//,zb=/\?/,gc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,hc=/^(?:select|textarea)/i,lb=/\s+/,ic=/([?&])_=[^&]*/,Ab=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Bb=p.fn.load,eb={},Cb={},Ra,Sa,Db=["*/"]+["*"];try{Ra=na.href}catch(oc){Ra=V.createElement("a");Ra.href="";
Ra=Ra.href}Sa=Ab.exec(Ra.toLowerCase())||[];p.fn.extend({load:function(g,j,q){if(typeof g!=="string"&&Bb)return Bb.apply(this,arguments);else if(!this.length)return this;var t=g.indexOf(" ");if(t>=0){var v=g.slice(t,g.length);g=g.slice(0,t)}t="GET";if(j)if(p.isFunction(j)){q=j;j=d}else if(typeof j==="object"){j=p.param(j,p.ajaxSettings.traditional);t="POST"}var x=this;p.ajax({url:g,type:t,dataType:"html",data:j,complete:function(E,N,Q){Q=E.responseText;if(E.isResolved()){E.done(function(R){Q=R});
x.html(v?p("<div>").append(Q.replace(gc,"")).find(v):Q)}q&&x.each(q,[Q,N,E])}});return this},serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||hc.test(this.nodeName)||dc.test(this.type))}).map(function(g,j){g=p(this).val();return g==null?null:p.isArray(g)?p.map(g,function(q){return{name:j.name,value:q.replace(yb,"\r\n")}}):
{name:j.name,value:g.replace(yb,"\r\n")}}).get()}});p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(g,j){p.fn[j]=function(q){return this.bind(j,q)}});p.each(["get","post"],function(g,j){p[j]=function(q,t,v,x){if(p.isFunction(t)){x=x||v;v=t;t=d}return p.ajax({type:j,url:q,data:t,success:v,dataType:x})}});p.extend({getScript:function(g,j){return p.get(g,d,j,"script")},getJSON:function(g,j,q){return p.get(g,j,q,"json")},ajaxSetup:function(g,j){if(j)K(g,p.ajaxSettings);
else{j=g;g=p.ajaxSettings}K(g,j);return g},ajaxSettings:{url:Ra,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Sa[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Db},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":true,
"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:r(eb),ajaxTransport:r(Cb),ajax:function(g,j){function q(T,W,aa,ga){if(Ba!==2){Ba=2;Qa&&clearTimeout(Qa);xa=d;pa=ga||"";z.readyState=T>0?4:0;var fa,ra,Ca;ga=W;aa=aa?P(t,z,aa):d;var za;if(T>=200&&T<300||T===304){if(t.ifModified){if(za=z.getResponseHeader("Last-Modified"))p.lastModified[R]=za;if(za=z.getResponseHeader("Etag"))p.etag[R]=za}if(T===304){ga="notmodified";fa=true}else try{ra=Z(t,aa);ga="success";
fa=true}catch(Fa){ga="parsererror";Ca=Fa}}else{Ca=ga;if(!ga||T){ga="error";if(T<0)T=0}}z.status=T;z.statusText=""+(W||ga);fa?E.resolveWith(v,[ra,ga,z]):E.rejectWith(v,[z,ga,Ca]);z.statusCode(Q);Q=d;if(Ia)x.trigger("ajax"+(fa?"Success":"Error"),[z,t,fa?ra:Ca]);N.resolveWith(v,[z,ga]);if(Ia){x.trigger("ajaxComplete",[z,t]);--p.active||p.event.trigger("ajaxStop")}}}if(typeof g==="object"){j=g;g=d}j=j||{};var t=p.ajaxSetup({},j),v=t.context||t,x=v!==t&&(v.nodeType||v instanceof p)?p(v):p.event,E=p.Deferred(),
N=p._Deferred(),Q=t.statusCode||{},R,Y={},ma={},pa,qa,xa,Qa,Ba=0,Ia,La,z={readyState:0,setRequestHeader:function(T,W){if(!Ba){var aa=T.toLowerCase();T=ma[aa]=ma[aa]||T;Y[T]=W}return this},getAllResponseHeaders:function(){return Ba===2?pa:null},getResponseHeader:function(T){var W;if(Ba===2){if(!qa)for(qa={};W=cc.exec(pa);)qa[W[1].toLowerCase()]=W[2];W=qa[T.toLowerCase()]}return W===d?null:W},overrideMimeType:function(T){if(!Ba)t.mimeType=T;return this},abort:function(T){T=T||"abort";xa&&xa.abort(T);
q(0,T);return this}};E.promise(z);z.success=z.done;z.error=z.fail;z.complete=N.done;z.statusCode=function(T){if(T){var W;if(Ba<2)for(W in T)Q[W]=[Q[W],T[W]];else{W=T[z.status];z.then(W,W)}}return this};t.url=((g||t.url)+"").replace(bc,"").replace(fc,Sa[1]+"//");t.dataTypes=p.trim(t.dataType||"*").toLowerCase().split(lb);if(t.crossDomain==null){g=Ab.exec(t.url.toLowerCase());t.crossDomain=!!(g&&(g[1]!=Sa[1]||g[2]!=Sa[2]||(g[3]||(g[1]==="http:"?80:443))!=(Sa[3]||(Sa[1]==="http:"?80:443))))}if(t.data&&
t.processData&&typeof t.data!=="string")t.data=p.param(t.data,t.traditional);C(eb,t,j,z);if(Ba===2)return false;Ia=t.global;t.type=t.type.toUpperCase();t.hasContent=!ec.test(t.type);Ia&&p.active++===0&&p.event.trigger("ajaxStart");if(!t.hasContent){if(t.data){t.url+=(zb.test(t.url)?"&":"?")+t.data;delete t.data}R=t.url;if(t.cache===false){g=p.now();var L=t.url.replace(ic,"$1_="+g);t.url=L+(L===t.url?(zb.test(t.url)?"&":"?")+"_="+g:"")}}if(t.data&&t.hasContent&&t.contentType!==false||j.contentType)z.setRequestHeader("Content-Type",
t.contentType);if(t.ifModified){R=R||t.url;p.lastModified[R]&&z.setRequestHeader("If-Modified-Since",p.lastModified[R]);p.etag[R]&&z.setRequestHeader("If-None-Match",p.etag[R])}z.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+(t.dataTypes[0]!=="*"?", "+Db+"; q=0.01":""):t.accepts["*"]);for(La in t.headers)z.setRequestHeader(La,t.headers[La]);if(t.beforeSend&&(t.beforeSend.call(v,z,t)===false||Ba===2)){z.abort();return false}for(La in{success:1,error:1,
complete:1})z[La](t[La]);if(xa=C(Cb,t,j,z)){z.readyState=1;Ia&&x.trigger("ajaxSend",[z,t]);if(t.async&&t.timeout>0)Qa=setTimeout(function(){z.abort("timeout")},t.timeout);try{Ba=1;xa.send(Y,q)}catch(U){Ba<2?q(-1,U):p.error(U)}}else q(-1,"No Transport");return z},param:function(g,j){var q=[],t=function(x,E){E=p.isFunction(E)?E():E;q[q.length]=encodeURIComponent(x)+"="+encodeURIComponent(E)};if(j===d)j=p.ajaxSettings.traditional;if(p.isArray(g)||g.jquery&&!p.isPlainObject(g))p.each(g,function(){t(this.name,
this.value)});else for(var v in g)J(v,g[v],j,t);return q.join("&").replace(ac,"+")}});p.extend({active:0,lastModified:{},etag:{}});var jc=p.now(),cb=/(\=)\?(&|$)|\?\?/i;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return p.expando+"_"+jc++}});p.ajaxPrefilter("json jsonp",function(g,j,q){j=g.contentType==="application/x-www-form-urlencoded"&&typeof g.data==="string";if(g.dataTypes[0]==="jsonp"||g.jsonp!==false&&(cb.test(g.url)||j&&cb.test(g.data))){var t,v=g.jsonpCallback=p.isFunction(g.jsonpCallback)?
g.jsonpCallback():g.jsonpCallback,x=a[v],E=g.url,N=g.data,Q="$1"+v+"$2";if(g.jsonp!==false){E=E.replace(cb,Q);if(g.url===E){if(j)N=N.replace(cb,Q);if(g.data===N)E+=(/\?/.test(E)?"&":"?")+g.jsonp+"="+v}}g.url=E;g.data=N;a[v]=function(R){t=[R]};q.always(function(){a[v]=x;t&&p.isFunction(x)&&a[v](t[0])});g.converters["script json"]=function(){t||p.error(v+" was not called");return t[0]};g.dataTypes[0]="json";return"script"}});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(g){p.globalEval(g);return g}}});p.ajaxPrefilter("script",function(g){if(g.cache===d)g.cache=false;if(g.crossDomain){g.type="GET";g.global=false}});p.ajaxTransport("script",function(g){if(g.crossDomain){var j,q=V.head||V.getElementsByTagName("head")[0]||V.documentElement;return{send:function(t,v){j=V.createElement("script");j.async="async";if(g.scriptCharset)j.charset=g.scriptCharset;j.src=g.url;j.onload=j.onreadystatechange=
function(x,E){if(E||!j.readyState||/loaded|complete/.test(j.readyState)){j.onload=j.onreadystatechange=null;q&&j.parentNode&&q.removeChild(j);j=d;E||v(200,"success")}};q.insertBefore(j,q.firstChild)},abort:function(){j&&j.onload(0,1)}}}});var kb=a.ActiveXObject?function(){for(var g in Xa)Xa[g](0,1)}:false,kc=0,Xa;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&X()||ea()}:X;(function(g){p.extend(p.support,{ajax:!!g,cors:!!g&&"withCredentials"in g})})(p.ajaxSettings.xhr());p.support.ajax&&
p.ajaxTransport(function(g){if(!g.crossDomain||p.support.cors){var j;return{send:function(q,t){var v=g.xhr(),x,E;g.username?v.open(g.type,g.url,g.async,g.username,g.password):v.open(g.type,g.url,g.async);if(g.xhrFields)for(E in g.xhrFields)v[E]=g.xhrFields[E];g.mimeType&&v.overrideMimeType&&v.overrideMimeType(g.mimeType);if(!g.crossDomain&&!q["X-Requested-With"])q["X-Requested-With"]="XMLHttpRequest";try{for(E in q)v.setRequestHeader(E,q[E])}catch(N){}v.send(g.hasContent&&g.data||null);j=function(Q,
R){var Y,ma,pa,qa,xa;try{if(j&&(R||v.readyState===4)){j=d;if(x){v.onreadystatechange=p.noop;kb&&delete Xa[x]}if(R)v.readyState!==4&&v.abort();else{Y=v.status;pa=v.getAllResponseHeaders();qa={};if((xa=v.responseXML)&&xa.documentElement)qa.xml=xa;qa.text=v.responseText;try{ma=v.statusText}catch(Qa){ma=""}if(!Y&&g.isLocal&&!g.crossDomain)Y=qa.text?200:404;else if(Y===1223)Y=204}}}catch(Ba){R||t(-1,Ba)}qa&&t(Y,ma,qa,pa)};if(!g.async||v.readyState===4)j();else{x=++kc;if(kb){if(!Xa){Xa={};p(a).unload(kb)}Xa[x]=
j}v.onreadystatechange=j}},abort:function(){j&&j(0,1)}}}});var fb={},Na,Va,lc=/^(?:toggle|show|hide)$/,mc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,db,mb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],$a;p.fn.extend({show:function(g,j,q){if(g||g===0)return this.animate(S("show",3),g,j,q);else{q=0;for(var t=this.length;q<t;q++){g=this[q];if(g.style){j=g.style.display;if(!p._data(g,"olddisplay")&&j==="none")j=
g.style.display="";j===""&&p.css(g,"display")==="none"&&p._data(g,"olddisplay",ba(g.nodeName))}}for(q=0;q<t;q++){g=this[q];if(g.style){j=g.style.display;if(j===""||j==="none")g.style.display=p._data(g,"olddisplay")||""}}return this}},hide:function(g,j,q){if(g||g===0)return this.animate(S("hide",3),g,j,q);else{g=0;for(j=this.length;g<j;g++)if(this[g].style){q=p.css(this[g],"display");q!=="none"&&!p._data(this[g],"olddisplay")&&p._data(this[g],"olddisplay",q)}for(g=0;g<j;g++)if(this[g].style)this[g].style.display=
"none";return this}},_toggle:p.fn.toggle,toggle:function(g,j,q){var t=typeof g==="boolean";if(p.isFunction(g)&&p.isFunction(j))this._toggle.apply(this,arguments);else g==null||t?this.each(function(){var v=t?g:p(this).is(":hidden");p(this)[v?"show":"hide"]()}):this.animate(S("toggle",3),g,j,q);return this},fadeTo:function(g,j,q,t){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:j},g,q,t)},animate:function(g,j,q,t){var v=p.speed(j,q,t);if(p.isEmptyObject(g))return this.each(v.complete,
[false]);g=p.extend({},g);return this[v.queue===false?"each":"queue"](function(){v.queue===false&&p._mark(this);var x=p.extend({},v),E=this.nodeType===1,N=E&&p(this).is(":hidden"),Q,R,Y,ma,pa;x.animatedProperties={};for(Y in g){Q=p.camelCase(Y);if(Y!==Q){g[Q]=g[Y];delete g[Y]}R=g[Q];if(p.isArray(R)){x.animatedProperties[Q]=R[1];R=g[Q]=R[0]}else x.animatedProperties[Q]=x.specialEasing&&x.specialEasing[Q]||x.easing||"swing";if(R==="hide"&&N||R==="show"&&!N)return x.complete.call(this);if(E&&(Q==="height"||
Q==="width")){x.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(p.css(this,"display")==="inline"&&p.css(this,"float")==="none")if(p.support.inlineBlockNeedsLayout){R=ba(this.nodeName);if(R==="inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}}else this.style.display="inline-block"}}if(x.overflow!=null)this.style.overflow="hidden";for(Y in g){E=new p.fx(this,x,Y);R=g[Y];if(lc.test(R))E[R==="toggle"?N?"show":"hide":R]();else{Q=mc.exec(R);
ma=E.cur();if(Q){R=parseFloat(Q[2]);pa=Q[3]||(p.cssNumber[Y]?"":"px");if(pa!=="px"){p.style(this,Y,(R||1)+pa);ma=(R||1)/E.cur()*ma;p.style(this,Y,ma+pa)}if(Q[1])R=(Q[1]==="-="?-1:1)*R+ma;E.custom(ma,R,pa)}else E.custom(ma,R,"")}}return true})},stop:function(g,j){g&&this.queue([]);this.each(function(){var q=p.timers,t=q.length;for(j||p._unmark(true,this);t--;)if(q[t].elem===this){j&&q[t](true);q.splice(t,1)}});j||this.dequeue();return this}});p.each({slideDown:S("show",1),slideUp:S("hide",1),slideToggle:S("toggle",
1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,j){p.fn[g]=function(q,t,v){return this.animate(j,q,t,v)}});p.extend({speed:function(g,j,q){var t=g&&typeof g==="object"?p.extend({},g):{complete:q||!q&&j||p.isFunction(g)&&g,duration:g,easing:q&&j||j&&!p.isFunction(j)&&j};t.duration=p.fx.off?0:typeof t.duration==="number"?t.duration:t.duration in p.fx.speeds?p.fx.speeds[t.duration]:p.fx.speeds._default;t.old=t.complete;t.complete=function(v){p.isFunction(t.old)&&
t.old.call(this);if(t.queue!==false)p.dequeue(this);else v!==false&&p._unmark(this)};return t},easing:{linear:function(g,j,q,t){return q+t*g},swing:function(g,j,q,t){return(-Math.cos(g*Math.PI)/2+0.5)*t+q}},timers:[],fx:function(g,j,q){this.options=j;this.elem=g;this.prop=q;j.orig=j.orig||{}}});p.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(p.fx.step[this.prop]||p.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||
this.elem.style[this.prop]==null))return this.elem[this.prop];var g,j=p.css(this.elem,this.prop);return isNaN(g=parseFloat(j))?!j||j==="auto"?0:j:g},custom:function(g,j,q){function t(E){return v.step(E)}var v=this,x=p.fx;this.startTime=$a||ka();this.start=g;this.end=j;this.unit=q||this.unit||(p.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;t.elem=this.elem;if(t()&&p.timers.push(t)&&!db)db=setInterval(x.tick,x.interval)},show:function(){this.options.orig[this.prop]=p.style(this.elem,
this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());p(this.elem).show()},hide:function(){this.options.orig[this.prop]=p.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(g){var j=$a||ka(),q=true,t=this.elem,v=this.options,x;if(g||j>=v.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();v.animatedProperties[this.prop]=true;for(x in v.animatedProperties)if(v.animatedProperties[x]!==
true)q=false;if(q){v.overflow!=null&&!p.support.shrinkWrapBlocks&&p.each(["","X","Y"],function(N,Q){t.style["overflow"+Q]=v.overflow[N]});v.hide&&p(t).hide();if(v.hide||v.show)for(var E in v.animatedProperties)p.style(t,E,v.orig[E]);v.complete.call(t)}return false}else{if(v.duration==Infinity)this.now=j;else{g=j-this.startTime;this.state=g/v.duration;this.pos=p.easing[v.animatedProperties[this.prop]](this.state,g,0,1,v.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};
p.extend(p.fx,{tick:function(){for(var g=p.timers,j=0;j<g.length;++j)g[j]()||g.splice(j--,1);g.length||p.fx.stop()},interval:13,stop:function(){clearInterval(db);db=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(g){p.style(g.elem,"opacity",g.now)},_default:function(g){if(g.elem.style&&g.elem.style[g.prop]!=null)g.elem.style[g.prop]=(g.prop==="width"||g.prop==="height"?Math.max(0,g.now):g.now)+g.unit;else g.elem[g.prop]=g.now}}});if(p.expr&&p.expr.filters)p.expr.filters.animated=
function(g){return p.grep(p.timers,function(j){return g===j.elem}).length};var nc=/^t(?:able|d|h)$/i,Eb=/^(?:body|html)$/i;p.fn.offset="getBoundingClientRect"in V.documentElement?function(g){var j=this[0],q;if(g)return this.each(function(E){p.offset.setOffset(this,g,E)});if(!j||!j.ownerDocument)return null;if(j===j.ownerDocument.body)return p.offset.bodyOffset(j);try{q=j.getBoundingClientRect()}catch(t){}var v=j.ownerDocument,x=v.documentElement;if(!q||!p.contains(x,j))return q?{top:q.top,left:q.left}:
{top:0,left:0};j=v.body;v=ha(v);return{top:q.top+(v.pageYOffset||p.support.boxModel&&x.scrollTop||j.scrollTop)-(x.clientTop||j.clientTop||0),left:q.left+(v.pageXOffset||p.support.boxModel&&x.scrollLeft||j.scrollLeft)-(x.clientLeft||j.clientLeft||0)}}:function(g){var j=this[0];if(g)return this.each(function(Y){p.offset.setOffset(this,g,Y)});if(!j||!j.ownerDocument)return null;if(j===j.ownerDocument.body)return p.offset.bodyOffset(j);p.offset.initialize();var q,t=j.offsetParent,v=j,x=j.ownerDocument,
E=x.documentElement,N=x.body;q=(x=x.defaultView)?x.getComputedStyle(j,null):j.currentStyle;for(var Q=j.offsetTop,R=j.offsetLeft;(j=j.parentNode)&&j!==N&&j!==E;){if(p.offset.supportsFixedPosition&&q.position==="fixed")break;q=x?x.getComputedStyle(j,null):j.currentStyle;Q-=j.scrollTop;R-=j.scrollLeft;if(j===t){Q+=j.offsetTop;R+=j.offsetLeft;if(p.offset.doesNotAddBorder&&!(p.offset.doesAddBorderForTableAndCells&&nc.test(j.nodeName))){Q+=parseFloat(q.borderTopWidth)||0;R+=parseFloat(q.borderLeftWidth)||
0}v=t;t=j.offsetParent}if(p.offset.subtractsBorderForOverflowNotVisible&&q.overflow!=="visible"){Q+=parseFloat(q.borderTopWidth)||0;R+=parseFloat(q.borderLeftWidth)||0}q=q}if(q.position==="relative"||q.position==="static"){Q+=N.offsetTop;R+=N.offsetLeft}if(p.offset.supportsFixedPosition&&q.position==="fixed"){Q+=Math.max(E.scrollTop,N.scrollTop);R+=Math.max(E.scrollLeft,N.scrollLeft)}return{top:Q,left:R}};p.offset={initialize:function(){var g=V.body,j=V.createElement("div"),q,t,v,x=parseFloat(p.css(g,
"marginTop"))||0;p.extend(j.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});j.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";g.insertBefore(j,g.firstChild);q=j.firstChild;t=q.firstChild;v=
q.nextSibling.firstChild.firstChild;this.doesNotAddBorder=t.offsetTop!==5;this.doesAddBorderForTableAndCells=v.offsetTop===5;t.style.position="fixed";t.style.top="20px";this.supportsFixedPosition=t.offsetTop===20||t.offsetTop===15;t.style.position=t.style.top="";q.style.overflow="hidden";q.style.position="relative";this.subtractsBorderForOverflowNotVisible=t.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=g.offsetTop!==x;g.removeChild(j);p.offset.initialize=p.noop},bodyOffset:function(g){var j=
g.offsetTop,q=g.offsetLeft;p.offset.initialize();if(p.offset.doesNotIncludeMarginInBodyOffset){j+=parseFloat(p.css(g,"marginTop"))||0;q+=parseFloat(p.css(g,"marginLeft"))||0}return{top:j,left:q}},setOffset:function(g,j,q){var t=p.css(g,"position");if(t==="static")g.style.position="relative";var v=p(g),x=v.offset(),E=p.css(g,"top"),N=p.css(g,"left"),Q={},R={};if((t==="absolute"||t==="fixed")&&p.inArray("auto",[E,N])>-1){R=v.position();t=R.top;N=R.left}else{t=parseFloat(E)||0;N=parseFloat(N)||0}if(p.isFunction(j))j=
j.call(g,q,x);if(j.top!=null)Q.top=j.top-x.top+t;if(j.left!=null)Q.left=j.left-x.left+N;"using"in j?j.using.call(g,Q):v.css(Q)}};p.fn.extend({position:function(){if(!this[0])return null;var g=this[0],j=this.offsetParent(),q=this.offset(),t=Eb.test(j[0].nodeName)?{top:0,left:0}:j.offset();q.top-=parseFloat(p.css(g,"marginTop"))||0;q.left-=parseFloat(p.css(g,"marginLeft"))||0;t.top+=parseFloat(p.css(j[0],"borderTopWidth"))||0;t.left+=parseFloat(p.css(j[0],"borderLeftWidth"))||0;return{top:q.top-t.top,
left:q.left-t.left}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent||V.body;g&&!Eb.test(g.nodeName)&&p.css(g,"position")==="static";)g=g.offsetParent;return g})}});p.each(["Left","Top"],function(g,j){var q="scroll"+j;p.fn[q]=function(t){var v,x;if(t===d){v=this[0];if(!v)return null;return(x=ha(v))?"pageXOffset"in x?x[g?"pageYOffset":"pageXOffset"]:p.support.boxModel&&x.document.documentElement[q]||x.document.body[q]:v[q]}return this.each(function(){if(x=ha(this))x.scrollTo(!g?
t:p(x).scrollLeft(),g?t:p(x).scrollTop());else this[q]=t})}});p.each(["Height","Width"],function(g,j){var q=j.toLowerCase();p.fn["inner"+j]=function(){var t=this[0];return t&&t.style?parseFloat(p.css(t,q,"padding")):null};p.fn["outer"+j]=function(t){var v=this[0];return v&&v.style?parseFloat(p.css(v,q,t?"margin":"border")):null};p.fn[q]=function(t){var v=this[0];if(!v)return t==null?null:this;if(p.isFunction(t))return this.each(function(N){var Q=p(this);Q[q](t.call(this,N,Q[q]()))});if(p.isWindow(v)){var x=
v.document.documentElement["client"+j],E=v.document.body;return v.document.compatMode==="CSS1Compat"&&x||E&&E["client"+j]||x}else if(v.nodeType===9)return Math.max(v.documentElement["client"+j],v.body["scroll"+j],v.documentElement["scroll"+j],v.body["offset"+j],v.documentElement["offset"+j]);else if(t===d){v=p.css(v,q);x=parseFloat(v);return p.isNaN(x)?v:x}else return this.css(q,typeof t==="string"?t:t+"px")}});a.jQuery=a.$=p})(window);steal.loaded("jquery/jquery.js");window.Storage=window.localStorage;
var storage=function(){try{localStorage.setItem("testLocalStorage","testLocalStorage");return true}catch(a){return false}}();
storage||function(){var a=function(d){function e(u,o,w){var A;if(w){A=new Date;A.setTime(A.getTime()+w*24*60*60*1E3);w="; expires="+A.toGMTString()}else w="";document.cookie=u+"="+o+w+"; path=/"}function f(u){u=u+"=";var o=document.cookie.split(";"),w,A;for(w=0;w<o.length;w++){for(A=o[w];A.charAt(0)==" ";)A=A.substring(1,A.length);if(A.indexOf(u)==0)return A.substring(u.length,A.length)}return null}function c(u){u=JSON.stringify(u);if(d=="session")window.name=u;else e("localStorage",u,365)}function k(){if(d==
"session")window.name="";else e("localStorage","",365)}function n(){var u=d=="session"?window.name:f("localStorage");return u?JSON.parse(u):{}}var h=n();return{length:0,clear:function(){h={};this.length=0;k()},getItem:function(u){return h[u]===undefined?null:h[u]},key:function(u){var o=0;for(var w in h)if(o==u)return w;else o++;return null},removeItem:function(u){delete h[u];this.length--;c(h)},setItem:function(u,o){h[u]=o+"";this.length++;c(h)}}};window.Storage=new a("local");window.sessionStorage=
new a("session")}();
(function(){if(!("JSON"in window&&JSON.stringify&&JSON.parse)){if(!this.JSON)this.JSON={};(function(){function a(o){return o<10?"0"+o:o}function d(o){c.lastIndex=0;return c.test(o)?'"'+o.replace(c,function(w){var A=h[w];return typeof A==="string"?A:"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'}function e(o,w){var A,B,I=k,D,O=w[o];if(O&&typeof O==="object"&&typeof O.toJSON==="function")O=O.toJSON(o);if(typeof u==="function")O=u.call(w,o,O);switch(typeof O){case "string":return d(O);case "number":return isFinite(O)?
String(O):"null";case "boolean":case "null":return String(O);case "object":if(!O)return"null";k+=n;D=[];if(Object.prototype.toString.apply(O)==="[object Array]"){B=O.length;for(o=0;o<B;o+=1)D[o]=e(o,O)||"null";w=D.length===0?"[]":k?"[\n"+k+D.join(",\n"+k)+"\n"+I+"]":"["+D.join(",")+"]";k=I;return w}if(u&&typeof u==="object"){B=u.length;for(o=0;o<B;o+=1){A=u[o];if(typeof A==="string")if(w=e(A,O))D.push(d(A)+(k?": ":":")+w)}}else for(A in O)if(Object.hasOwnProperty.call(O,A))if(w=e(A,O))D.push(d(A)+
(k?": ":":")+w);w=D.length===0?"{}":k?"{\n"+k+D.join(",\n"+k)+"\n"+I+"}":"{"+D.join(",")+"}";k=I;return w}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,n,h={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof JSON.stringify!=="function")JSON.stringify=function(o,w,A){var B;n=k="";if(typeof A==="number")for(B=0;B<A;B+=1)n+=" ";else if(typeof A==="string")n=A;if((u=w)&&typeof w!=="function"&&(typeof w!=="object"||typeof w.length!=="number"))throw new Error("JSON.stringify");return e("",
{"":o})};if(typeof JSON.parse!=="function")JSON.parse=function(o,w){function A(B,I){var D,O,G=B[I];if(G&&typeof G==="object")for(D in G)if(Object.hasOwnProperty.call(G,D)){O=A(G,D);if(O!==undefined)G[D]=O;else delete G[D]}return w.call(B,I,G)}o=String(o);f.lastIndex=0;if(f.test(o))o=o.replace(f,function(B){return"\\u"+("0000"+B.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(o.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){o=eval("("+o+")");return typeof w==="function"?A({"":o},""):o}throw new SyntaxError("JSON.parse");}})()}})();function empty(a){if(!a)return false;var d;for(d=a.childNodes.length-1;d>=0;d--)a.removeChild(a.childNodes[d])}$.extend({linkUrl:function(a){if(a)return a.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$1" target="_blank">$1</a>')}});
$.extend({URLEncode:function(a){if(!a)return false;var d="",e=0;a=a.toString();for(var f=/(^[a-zA-Z0-9_.]*)/;e<a.length;){var c=f.exec(a.substr(e));if(c!=null&&c.length>1&&c[1]!=""){d+=c[1];e+=c[1].length}else{if(a[e]==" ")d+="+";else{c=a.charCodeAt(e).toString(16);d+="%"+(c.length<2?"0":"")+c.toUpperCase()}e++}}return d},URLDecode:function(a){a=a;for(var d,e=/(%[^%]{2})/;(m=e.exec(a))!=null&&m.length>1&&m[1]!="";){b=parseInt(m[1].substr(1),16);d=String.fromCharCode(b);a=a.replace(m[1],d)}return a}});
$.extend({encode64:function(a){var d="",e,f,c,k,n,h,u=0;for(a=function(o){o=o.replace(/\r\n/g,"\n");for(var w="",A=0;A<o.length;A++){var B=o.charCodeAt(A);if(B<128)w+=String.fromCharCode(B);else{if(B>127&&B<2048)w+=String.fromCharCode(B>>6|192);else{w+=String.fromCharCode(B>>12|224);w+=String.fromCharCode(B>>6&63|128)}w+=String.fromCharCode(B&63|128)}}return w}(a);u<a.length;){e=a.charCodeAt(u++);f=a.charCodeAt(u++);c=a.charCodeAt(u++);k=e>>2;e=(e&3)<<4|f>>4;n=(f&15)<<2|c>>6;h=c&63;if(isNaN(f))n=
h=64;else if(isNaN(c))h=64;d=d+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)}return d}});
$.fn.serializeObject=function(){var a={},d=this.serializeArray();$.each(d,function(){if(a[this.name]!==undefined){a[this.name].push||(a[this.name]=[a[this.name]]);a[this.name].push(this.value||"")}else a[this.name]=this.value||""});return a};steal.loaded("webapp/core/utils.js");
var finforeBaseUrl="http://api.finfore.net",finforeAppUrl="http://"+window.location.hostname+window.location.pathname,WebService={auth:function(a){$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/user_sessions.json",type:"POST",data:{user_session:{login:a.username,password:a.password}},success:function(d){a.complete&&a.complete(d)},error:function(){$().toastmessage("showErrorToast","<strong>Invalid Username or Password</strong><br /> Please try again. ")},complete:function(){$.mobile.hidePageLoadingMsg()}})},
focus:function(a){var d=function(e,f){e=e.title.toLowerCase();f=f.title.toLowerCase();if(e<f)return-1;if(e>f)return 1;return 0};$.ajax({url:finforeBaseUrl+"/category_focus.json",type:"GET",success:function(e){e[0].profiles.sort(d);e[1].profiles.sort(d);e[2].profiles.sort(d);a.complete&&a.complete(e)},error:function(){$().toastmessage("showToast",{text:"<strong>Could not connect to Finfore.net web service. </strong><br>Please try again in a few minutes. <br> Sorry for the delay in accessing our service. If the problem persists, please contact us. ",
sticky:true,position:"top-right",type:"error"});Loader.hide()}})},updateUser:function(a){Loader.show();$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:a.data},success:function(d){finfore.data.user=d;finfore.storeData({user:d});a.complete&&a.complete(d)},error:function(){$().toastmessage("showToast",{text:"There was a problem updating your profile. Please try again later. ",type:"error",sticky:true})},complete:function(){Loader.hide()}})},refreshUser:function(a){Loader.show();
$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"GET",success:function(d){finfore.data.user=d;finfore.storeData({user:d});a.complete&&a.complete(d)},error:function(){$().toastmessage("showToast",{text:"<strong>Could not connect to Finfore.net web service. </strong><br>Please try again in a few minutes. <br> Sorry for the delay in accessing our service. If the problem persists, please contact us. ",sticky:true,position:"top-right",type:"error"})},complete:function(){Loader.hide()}})},
updateCompanies:function(a){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:{user_company_tabs_attributes:a.userCompanyTabs}},success:function(){a.complete&&a.complete()}})},updateColumns:function(a){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:{feed_accounts_attributes:a.columns}},success:function(){a.complete&&a.complete()}})},getColumn:function(){}},Loader={$body:$("body"),show:function(){this.$body.addClass("ui-loading")},
hide:function(){this.$body.removeClass("ui-loading")}},feedReader={},callbackCounter=-1;
feedReader.get=function(a){var d="select channel.title, channel.item.title, channel.item.link, channel.item.description, channel.item.date, channel.item.pubDate from xml where url in(";$.each(a.sources,function(f,c){if(f!==0)d+=",";d+="'"+c+"'"});d+=') | unique(field="channel.item.link") | sort(field="channel.item.date", descending="true") | sort(field="channel.item.pubDate", descending="true")  | truncate(count='+a.limit+")";callbackCounter++;var e="feedReaderCallback"+callbackCounter;window[e]=
function(f){feedReaderCallback(f,a);delete window[e]};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:e,cache:true,data:{q:d,format:"json",_maxage:300,diagnostics:false}})};
function feedReaderCallback(a,d){var e=[],f="";if(a.query&&a.query.results&&a.query.results.rss){if(!$.isArray(a.query.results.rss))a.query.results.rss=[a.query.results.rss];e=$.map(a.query.results.rss,function(c){if(!c.channel.item)return null;if(c.channel.item.description)f=c.channel.item.description.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";else if(c.channel.item.summary)f=c.channel.item.summary.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";try{return{title:c.channel.item.title.replace(/(<([^>]+)>)/ig,
""),link:c.channel.item.link,description:f,pubDate:c.channel.item.pubDate?new Date(c.channel.item.pubDate):new Date(c.channel.item.date),source:c.channel.title}}catch(k){return null}})}d.complete(e)}steal.loaded("webapp/core/api.js");
(function(a,d){if(a.cleanData){var e=a.cleanData;a.cleanData=function(c){for(var k=0,n;(n=c[k])!=null;k++)a(n).triggerHandler("remove");e(c)}}else{var f=a.fn.remove;a.fn.remove=function(c,k){return this.each(function(){if(!k)if(!c||a.filter(c,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return f.call(a(this),c,k)})}}a.widget=function(c,k,n){var h=c.split(".")[0],u;c=c.split(".")[1];u=h+"-"+c;if(!n){n=k;k=a.Widget}a.expr[":"][u]=function(o){return!!a.data(o,
c)};a[h]=a[h]||{};a[h][c]=function(o,w){arguments.length&&this._createWidget(o,w)};k=new k;k.options=a.extend(true,{},k.options);a[h][c].prototype=a.extend(true,k,{namespace:h,widgetName:c,widgetEventPrefix:a[h][c].prototype.widgetEventPrefix||c,widgetBaseClass:u},n);a.widget.bridge(c,a[h][c])};a.widget.bridge=function(c,k){a.fn[c]=function(n){var h=typeof n==="string",u=Array.prototype.slice.call(arguments,1),o=this;n=!h&&u.length?a.extend.apply(null,[true,n].concat(u)):n;if(h&&n.charAt(0)==="_")return o;
h?this.each(function(){var w=a.data(this,c);if(!w)throw"cannot call methods on "+c+" prior to initialization; attempted to call method '"+n+"'";if(!a.isFunction(w[n]))throw"no such method '"+n+"' for "+c+" widget instance";var A=w[n].apply(w,u);if(A!==w&&A!==d){o=A;return false}}):this.each(function(){var w=a.data(this,c);w?w.option(n||{})._init():a.data(this,c,new k(n,this))});return o}};a.Widget=function(c,k){arguments.length&&this._createWidget(c,k)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",
options:{disabled:false},_createWidget:function(c,k){a.data(k,this.widgetName,this);this.element=a(k);this.options=a.extend(true,{},this.options,this._getCreateOptions(),c);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){var c={};if(a.metadata)c=a.metadata.get(element)[this.widgetName];return c},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);
this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,k){var n=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c==="string"){if(k===d)return this.options[c];n={};n[c]=k}this._setOptions(n);return this},_setOptions:function(c){var k=this;a.each(c,function(n,h){k._setOption(n,h)});return this},_setOption:function(c,k){this.options[c]=k;if(c===
"disabled")this.widget()[k?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",k);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(c,k,n){var h=this.options[c];k=a.Event(k);k.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();n=n||{};if(k.originalEvent){c=a.event.props.length;for(var u;c;){u=a.event.props[--c];k[u]=k.originalEvent[u]}}this.element.trigger(k,
n);return!(a.isFunction(h)&&h.call(this.element[0],k,n)===false||k.isDefaultPrevented())}}})(jQuery);
(function(a,d){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var e=this.element,f={};a.each(this.options,function(c){var k=e.jqmData(c.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}));if(k!==d)f[c]=k});return f},enhanceWithin:function(e){var f=a.mobile.closestPageData(a(e));f=f&&f.keepNativeSelector()||"";a(this.options.initSelector,e).not(f)[this.widgetName]()}})})(jQuery);
(function(a){a(window);var d=a("html");a.mobile.media=function(){var e={},f=a("<div id='jquery-mediatest'>"),c=a("<body>").append(f);return function(k){if(!(k in e)){var n=document.createElement("style"),h="@media "+k+" { #jquery-mediatest { position:absolute; } }";n.type="text/css";if(n.styleSheet)n.styleSheet.cssText=h;else n.appendChild(document.createTextNode(h));d.prepend(c).prepend(n);e[k]=f.css("position")==="absolute";c.add(n).remove()}return e[k]}}()})(jQuery);
(function(a,d){function e(w){var A=w.charAt(0).toUpperCase()+w.substr(1);w=(w+" "+n.join(A+" ")+A).split(" ");for(var B in w)if(k[w[B]]!==d)return true}function f(){var w=location.protocol+"//"+location.host+location.pathname+"ui-dir/",A=a("head base"),B=null,I="",D;if(A.length)I=A.attr("href");else A=B=a("<base>",{href:w}).appendTo("head");D=a("<a href='testurl' />").prependTo(c)[0].href;A[0].href=I||location.pathname;B&&B.remove();return D.indexOf(w)===0}var c=a("<body>").prependTo("html"),k=c[0].style,
n=["Webkit","Moz","O"],h="palmGetResource"in window,u=window.operamini&&{}.toString.call(window.operamini)==="[object OperaMini]",o=window.blackberry;a.mobile.browser={};a.mobile.browser.ie=function(){for(var w=3,A=document.createElement("div"),B=A.all||[];A.innerHTML="<!--[if gt IE "+ ++w+"]><br><![endif]--\>",B[0];);return w>4?w:!w}();a.extend(a.support,{orientation:"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,
pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),boxShadow:!!e("boxShadow")&&!o,scrollTop:("pageXOffset"in window||"scrollTop"in document.documentElement||"scrollTop"in c[0])&&!h&&!u,dynamicBaseTag:f()});c.remove();h=function(){var w=window.navigator.userAgent;return w.indexOf("Nokia")>-1&&(w.indexOf("Symbian/3")>-1||w.indexOf("Series60/5")>-1)&&w.indexOf("AppleWebKit")>-1&&w.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();
a.mobile.ajaxBlacklist=window.blackberry&&!window.WebKitPoint||u||h;h&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);
(function(a,d,e,f){function c(da){for(;da&&typeof da.originalEvent!=="undefined";)da=da.originalEvent;return da}function k(da,ia){var oa=da.type,ua,Aa,Ga;da=a.Event(da);da.type=ia;ua=da.originalEvent;Aa=a.event.props;if(ua)for(Ga=Aa.length;Ga;){ia=Aa[--Ga];da[ia]=ua[ia]}if(oa.search(/mouse(down|up)|click/)>-1&&!da.which)da.which=1;if(oa.search(/^touch/)!==-1){ia=c(ua);oa=ia.touches;ia=ia.changedTouches;if(oa=oa&&oa.length?oa[0]:ia&&ia.length?ia[0]:f){ua=0;for(len=Z.length;ua<len;ua++){ia=Z[ua];da[ia]=
oa[ia]}}}return da}function n(da){for(var ia={},oa,ua;da;){oa=a.data(da,J);for(ua in oa)if(oa[ua])ia[ua]=ia.hasVirtualBinding=true;da=da.parentNode}return ia}function h(da,ia){for(var oa;da;){if((oa=a.data(da,J))&&(!ia||oa[ia]))return da;da=da.parentNode}return null}function u(){V=false}function o(){V=true}function w(){wa=0;ba.length=0;ha=false;o()}function A(){u()}function B(){I();ea=setTimeout(function(){ea=0;w()},a.vmouse.resetTimerDuration)}function I(){if(ea){clearTimeout(ea);ea=0}}function D(da,
ia,oa){var ua;if(oa&&oa[da]||!oa&&h(ia.target,da)){ua=k(ia,da);a(ia.target).trigger(ua)}return ua}function O(da){var ia=a.data(da.target,P);if(!ha&&(!wa||wa!==ia))if(ia=D("v"+da.type,da)){ia.isDefaultPrevented()&&da.preventDefault();ia.isPropagationStopped()&&da.stopPropagation();ia.isImmediatePropagationStopped()&&da.stopImmediatePropagation()}}function G(da){var ia=c(da).touches,oa;if(ia&&ia.length===1){oa=da.target;ia=n(oa);if(ia.hasVirtualBinding){wa=p++;a.data(oa,P,wa);I();A();S=false;oa=c(da).touches[0];
ka=oa.pageX;H=oa.pageY;D("vmouseover",da,ia);D("vmousedown",da,ia)}}}function y(da){if(!V){S||D("vmousecancel",da,n(da.target));S=true;B()}}function F(da){if(!V){var ia=c(da).touches[0],oa=S,ua=a.vmouse.moveDistanceThreshold;S=S||Math.abs(ia.pageX-ka)>ua||Math.abs(ia.pageY-H)>ua;flags=n(da.target);S&&!oa&&D("vmousecancel",da,flags);D("vmousemove",da,flags);B()}}function s(da){if(!V){o();var ia=n(da.target),oa;D("vmouseup",da,ia);if(!S)if((oa=D("vclick",da,ia))&&oa.isDefaultPrevented()){oa=c(da).changedTouches[0];
ba.push({touchID:wa,x:oa.clientX,y:oa.clientY});ha=true}D("vmouseout",da,ia);S=false;B()}}function r(da){da=a.data(da,J);var ia;if(da)for(ia in da)if(da[ia])return true;return false}function C(){}function K(da){var ia=da.substr(1);return{setup:function(){r(this)||a.data(this,J,{});a.data(this,J)[da]=true;X[da]=(X[da]||0)+1;X[da]===1&&na.bind(ia,O);a(this).bind(ia,C);if(sa){X.touchstart=(X.touchstart||0)+1;X.touchstart===1&&na.bind("touchstart",G).bind("touchend",s).bind("touchmove",F).bind("scroll",
y)}},teardown:function(){--X[da];X[da]||na.unbind(ia,O);if(sa){--X.touchstart;X.touchstart||na.unbind("touchstart",G).unbind("touchmove",F).unbind("touchend",s).unbind("scroll",y)}var oa=a(this),ua=a.data(this,J);if(ua)ua[da]=false;oa.unbind(ia,C);r(this)||oa.removeData(J)}}}var J="virtualMouseBindings",P="virtualTouchID";d="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var Z="clientX clientY pageX pageY screenX screenY".split(" "),X={},ea=0,ka=0,H=0,S=false,
ba=[],ha=false,V=false,sa="addEventListener"in e,na=a(e),p=1,wa=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var Ha=0;Ha<d.length;Ha++)a.event.special[d[Ha]]=K(d[Ha]);sa&&e.addEventListener("click",function(da){var ia=ba.length,oa=da.target,ua,Aa,Ga,Ja,Ma;if(ia){ua=da.clientX;Aa=da.clientY;threshold=a.vmouse.clickDistanceThreshold;for(Ga=oa;Ga;){for(Ja=0;Ja<ia;Ja++){Ma=ba[Ja];if(Ga===oa&&Math.abs(Ma.x-ua)<threshold&&Math.abs(Ma.y-Aa)<threshold||a.data(Ga,
P)===Ma.touchID){da.preventDefault();da.stopPropagation();return}}Ga=Ga.parentNode}}},true)})(jQuery,window,document);
(function(a,d,e){function f(u,o,w){var A=w.type;w.type=o;a.event.handle.call(u,w);w.type=A}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(u,o){a.fn[o]=function(w){return w?this.bind(o,w):this.trigger(o)};a.attrFn[o]=true});var c=a.support.touch,k=c?"touchstart":"mousedown",n=c?"touchend":"mouseup",h=c?"touchmove":"mousemove";a.event.special.scrollstart={enabled:true,setup:function(){function u(B,
I){w=I;f(o,w?"scrollstart":"scrollstop",B)}var o=this,w,A;a(o).bind("touchmove scroll",function(B){if(a.event.special.scrollstart.enabled){w||u(B,true);clearTimeout(A);A=setTimeout(function(){u(B,false)},50)}})}};a.event.special.tap={setup:function(){var u=this,o=a(u);o.bind("vmousedown",function(w){function A(){clearTimeout(O)}function B(){A();o.unbind("vclick",I).unbind("vmouseup",A).unbind("vmousecancel",B)}function I(G){B();D==G.target&&f(u,"tap",G)}if(w.which&&w.which!==1)return false;var D=
w.target,O;o.bind("vmousecancel",B).bind("vmouseup",A).bind("vclick",I);O=setTimeout(function(){f(u,"taphold",a.Event("taphold"))},750)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var u=a(this);u.bind(k,function(o){function w(D){if(B){var O=D.originalEvent.touches?D.originalEvent.touches[0]:D;I={time:(new Date).getTime(),coords:[O.pageX,O.pageY]};Math.abs(B.coords[0]-I.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&
D.preventDefault()}}var A=o.originalEvent.touches?o.originalEvent.touches[0]:o,B={time:(new Date).getTime(),coords:[A.pageX,A.pageY],origin:a(o.target)},I;u.bind(h,w).one(n,function(){u.unbind(h,w);if(B&&I)if(I.time-B.time<a.event.special.swipe.durationThreshold&&Math.abs(B.coords[0]-I.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(B.coords[1]-I.coords[1])<a.event.special.swipe.verticalDistanceThreshold)B.origin.trigger("swipe").trigger(B.coords[0]>I.coords[0]?"swipeleft":
"swiperight");B=I=e})})}};(function(u,o){function w(){var y=B();if(y!==I){I=y;A.trigger("orientationchange")}}var A=u(o),B,I,D,O,G={"0":true,"180":true};if(u.support.orientation){D=u.mobile.media("all and (orientation: landscape)");O=G[o.orientation];if(D&&O||!D&&!O)G={"-90":true,"90":true}}u.event.special.orientationchange={setup:function(){if(u.support.orientation&&u.mobile.orientationChangeEnabled)return false;I=B();A.bind("throttledresize",w)},teardown:function(){if(u.support.orientation&&u.mobile.orientationChangeEnabled)return false;
A.unbind("throttledresize",w)},add:function(y){var F=y.handler;y.handler=function(s){s.orientation=B();return F.apply(this,arguments)}}};u.event.special.orientationchange.orientation=B=function(){var y=true;y=document.documentElement;return(y=u.support.orientation?G[o.orientation]:y&&y.clientWidth/y.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,d);(function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",u)},teardown:function(){a(this).unbind("resize",u)}};var u=function(){A=
(new Date).getTime();B=A-o;if(B>=250){o=A;a(this).trigger("throttledresize")}else{w&&clearTimeout(w);w=setTimeout(u,250-B)}},o=0,w,A,B})();a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(u,o){a.event.special[u]={setup:function(){a(this).bind(o,a.noop)}}})})(jQuery,this);
(function(a,d,e){function f(w){w=w||location.href;return"#"+w.replace(/^[^#]*#?(.*)$/,"$1")}var c="hashchange",k=document,n,h=a.event.special,u=k.documentMode,o="on"+c in d&&(u===e||u>7);a.fn[c]=function(w){return w?this.bind(c,w):this.trigger(c)};a.fn[c].delay=50;h[c]=a.extend(h[c],{setup:function(){if(o)return false;a(n.start)},teardown:function(){if(o)return false;a(n.stop)}});n=function(){function w(){var y=f(),F=G(I);if(y!==I){O(I=y,F);a(d).trigger(c)}else if(F!==I)location.href=location.href.replace(/#.*/,
"")+F;B=setTimeout(w,a.fn[c].delay)}var A={},B,I=f(),D=function(y){return y},O=D,G=D;A.start=function(){B||w()};A.stop=function(){B&&clearTimeout(B);B=e};a.browser.msie&&!o&&function(){var y,F;A.start=function(){if(!y){F=(F=a.fn[c].src)&&F+f();y=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){F||O(f());w()}).attr("src",F||"javascript:0").insertAfter("body")[0].contentWindow;k.onpropertychange=function(){try{if(event.propertyName==="title")y.document.title=k.title}catch(s){}}}};
A.stop=D;G=function(){return f(y.location.href)};O=function(s,r){var C=y.document,K=a.fn[c].domain;if(s!==r){C.title=k.title;C.open();K&&C.write('<script>document.domain="'+K+'"<\/script>');C.close();y.location.hash=s}}}();return A}()})(jQuery,this);
(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){this._trigger("beforecreate");this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme)},keepNativeSelector:function(){var d=this.options;if(d.keepNative&&a.trim(d.keepNative)&&d.keepNative!==d.keepNativeDefault)return[d.keepNative,d.keepNativeDefault].join(", ");return d.keepNativeDefault}})})(jQuery);
(function(a,d){var e={};a.extend(a.mobile,{ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"slide",minScrollBack:250,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",autoInitializePage:true,pushStateEnabled:true,orientationChangeEnabled:true,gradeA:function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=
7},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(k){if(a.type(k)!=="number")k=a.mobile.defaultHomeScroll;a.event.special.scrollstart.enabled=false;
setTimeout(function(){d.scrollTo(0,k);a(document).trigger("silentscroll",{x:0,y:k})},20);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:e,nsNormalize:function(k){if(k)return e[k]||(e[k]=a.camelCase(a.mobile.ns+k))},getInheritedTheme:function(k,n){k=k[0];for(var h="",u=/ui-(bar|body)-([a-z])\b/,o,w;k;){o=k.className||"";if((w=u.exec(o))&&(h=w[2]))break;k=k.parentNode}return h||n||"a"},closestPageData:function(k){return k.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")}});
a.fn.jqmData=function(k,n){var h;if(typeof k!="undefined")h=this.data(k?a.mobile.nsNormalize(k):k,n);return h};a.jqmData=function(k,n,h){var u;if(typeof n!="undefined")u=a.data(k,n?a.mobile.nsNormalize(n):n,h);return u};a.fn.jqmRemoveData=function(k){return this.removeData(a.mobile.nsNormalize(k))};a.jqmRemoveData=function(k,n){return a.removeData(k,a.mobile.nsNormalize(n))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=function(k){k=a(k);(k.jqmData("dependents")||
a()).remove();k.remove()};a.fn.addDependents=function(k){a.addDependents(a(this),k)};a.addDependents=function(k,n){var h=a(k).jqmData("dependents")||a();a(k).jqmData("dependents",a.merge(h,n))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};var f=a.find,c=/:jqmData\(([^)]*)\)/g;a.find=function(k,n,h,u){k=k.replace(c,"[data-"+(a.mobile.ns||"")+"$1]");return f.call(this,k,n,h,u)};a.extend(a.find,f);a.find.matches=function(k,n){return a.find(k,null,null,n)};a.find.matchesSelector=
function(k,n){return a.find(n,null,null,[k]).length>0}})(jQuery,this);
(function(a,d){function e(H){var S=H.find(".ui-title:eq(0)");S.length?S.focus():H.focus()}function f(H){if(O&&(!O.closest(".ui-page-active").length||H))O.removeClass(a.mobile.activeBtnClass);O=null}function c(){F=false;y.length>0&&a.mobile.changePage.apply(null,y.pop())}function k(H,S,ba,ha){var V=a.mobile.urlHistory.getActive(),sa=a.support.touchOverflow&&a.mobile.touchOverflowEnabled,na=V.lastScroll||(sa?0:a.mobile.defaultHomeScroll);V=n();window.scrollTo(0,a.mobile.defaultHomeScroll);S&&S.data("page")._trigger("beforehide",
null,{nextPage:H});sa||H.height(V+na);H.data("page")._trigger("beforeshow",null,{prevPage:S||a("")});a.mobile.hidePageLoadingMsg();if(sa&&na){H.addClass("ui-mobile-pre-transition");e(H);H.is(".ui-native-fixed")?H.find(".ui-content").scrollTop(na):H.scrollTop(na)}ba=(a.mobile.transitionHandlers[ba||"none"]||a.mobile.defaultTransitionHandler)(ba,ha,H,S);ba.done(function(){if(!sa){H.height("");e(H)}sa||a.mobile.silentScroll(na);if(S){sa||S.height("");S.data("page")._trigger("hide",null,{nextPage:H})}H.data("page")._trigger("show",
null,{prevPage:S||a("")})});return ba}function n(){var H=a.event.special.orientationchange.orientation()==="portrait",S=H?screen.availHeight:screen.availWidth;H=Math.max(H?480:320,a(window).height());return Math.min(S,H)}function h(){a.support.touchOverflow&&a.mobile.touchOverflowEnabled||a("."+a.mobile.activePageClass).css("min-height",n())}function u(H,S){S&&H.attr("data-"+a.mobile.ns+"role",S);H.page()}function o(H){for(;H;){if(typeof H.nodeName==="string"&&H.nodeName.toLowerCase()=="a")break;
H=H.parentNode}return H}function w(H){H=a(H).closest(".ui-page").jqmData("url");var S=K.hrefNoHash;if(!H||!D.isPath(H))H=S;return D.makeUrlAbsolute(H,S)}var A=a(window),B=a("html"),I=a("head"),D={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(H){if(a.type(H)==="object")return H;H=D.urlParseRE.exec(H||"")||[];return{href:H[0]||"",hrefNoHash:H[1]||
"",hrefNoSearch:H[2]||"",domain:H[3]||"",protocol:H[4]||"",doubleSlash:H[5]||"",authority:H[6]||"",username:H[8]||"",password:H[9]||"",host:H[10]||"",hostname:H[11]||"",port:H[12]||"",pathname:H[13]||"",directory:H[14]||"",filename:H[15]||"",search:H[16]||"",hash:H[17]||""}},makePathAbsolute:function(H,S){if(H&&H.charAt(0)==="/")return H;H=H||"";S=(S=S?S.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?S.split("/"):[];H=H.split("/");for(var ba=0;ba<H.length;ba++){var ha=H[ba];switch(ha){case ".":break;case "..":S.length&&
S.pop();break;default:S.push(ha);break}}return"/"+S.join("/")},isSameDomain:function(H,S){return D.parseUrl(H).domain===D.parseUrl(S).domain},isRelativeUrl:function(H){return D.parseUrl(H).protocol===""},isAbsoluteUrl:function(H){return D.parseUrl(H).protocol!==""},makeUrlAbsolute:function(H,S){if(!D.isRelativeUrl(H))return H;H=D.parseUrl(H);S=D.parseUrl(S);var ba=H.protocol||S.protocol,ha=H.protocol?H.doubleSlash:H.doubleSlash||S.doubleSlash,V=H.authority||S.authority,sa=H.pathname!=="",na=D.makePathAbsolute(H.pathname||
S.filename,S.pathname);return ba+ha+V+na+(H.search||!sa&&S.search||"")+H.hash},addSearchParams:function(H,S){H=D.parseUrl(H);S=typeof S==="object"?a.param(S):S;var ba=H.search||"?";return H.hrefNoSearch+ba+(ba.charAt(ba.length-1)!=="?"?"&":"")+S+(H.hash||"")},convertUrlToDataUrl:function(H){var S=D.parseUrl(H);if(D.isEmbeddedPage(S))return S.hash.split(s)[0].replace(/^#/,"");else if(D.isSameDomain(S,K))return S.hrefNoHash.replace(K.domain,"");return H},get:function(H){if(H===d)H=location.hash;return D.stripHash(H).replace(/[^\/]*\.[^\/*]+$/,
"")},getFilePath:function(H){var S="&"+a.mobile.subPageUrlKey;return H&&H.split(S)[0].split(s)[0]},set:function(H){location.hash=H},isPath:function(H){return/\//.test(H)},clean:function(H){return H.replace(K.domain,"")},stripHash:function(H){return H.replace(/^#/,"")},cleanHash:function(H){return D.stripHash(H.replace(/\?.*$/,"").replace(s,""))},isExternal:function(H){H=D.parseUrl(H);return H.protocol&&H.domain!==C.domain?true:false},hasProtocol:function(H){return/^(:?\w+:)/.test(H)},isFirstPageUrl:function(H){H=
D.parseUrl(D.makeUrlAbsolute(H,K));var S=a.mobile.firstPage;S=S&&S[0]?S[0].id:d;return(H.hrefNoHash===C.hrefNoHash||J&&H.hrefNoHash===K.hrefNoHash)&&(!H.hash||H.hash==="#"||S&&H.hash.replace(/^#/,"")===S)},isEmbeddedPage:function(H){H=D.parseUrl(H);if(H.protocol!=="")return H.hash&&(H.hrefNoHash===C.hrefNoHash||J&&H.hrefNoHash===K.hrefNoHash);return/^#/.test(H.href)},isPermittedCrossDomainRequest:function(H,S){return a.mobile.allowCrossDomainPages&&H.protocol==="file:"&&S.search(/^https?:/)!=-1}},
O=null,G={stack:[],activeIndex:0,getActive:function(){return G.stack[G.activeIndex]},getPrev:function(){return G.stack[G.activeIndex-1]},getNext:function(){return G.stack[G.activeIndex+1]},addNew:function(H,S,ba,ha,V){G.getNext()&&G.clearForward();G.stack.push({url:H,transition:S,title:ba,pageUrl:ha,role:V});G.activeIndex=G.stack.length-1},clearForward:function(){G.stack=G.stack.slice(0,G.activeIndex+1)},directHashChange:function(H){var S,ba,ha;this.getActive();a.each(G.stack,function(V,sa){if(H.currentUrl===
sa.url){S=V<G.activeIndex;ba=!S;ha=V}});this.activeIndex=ha!==d?ha:this.activeIndex;if(S)(H.either||H.isBack)(true);else if(ba)(H.either||H.isForward)(false)},ignoreNextHashChange:false},y=[],F=false,s="&ui-state=dialog",r=I.children("base"),C=D.parseUrl(location.href),K=r.length?D.parseUrl(D.makeUrlAbsolute(r.attr("href"),C.href)):C,J=C.hrefNoHash!==K.hrefNoHash,P=a.support.dynamicBaseTag?{element:r.length?r:a("<base>",{href:K.hrefNoHash}).prependTo(I),set:function(H){P.element.attr("href",D.makeUrlAbsolute(H,
K))},reset:function(){P.element.attr("href",K.hrefNoHash)}}:d,Z=true,X,ea,ka;X=function(){var H=A;if(a.support.touchOverflow&&a.mobile.touchOverflowEnabled){H=a(".ui-page-active");H=H.is(".ui-native-fixed")?H.find(".ui-content"):H}return H};ea=function(H){if(Z){var S=a.mobile.urlHistory.getActive();if(S){H=H&&H.scrollTop();S.lastScroll=H<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:H}}};ka=function(){setTimeout(ea,100,a(this))};A.bind(a.support.pushState?"popstate":"hashchange",function(){Z=
false});A.one(a.support.pushState?"popstate":"hashchange",function(){Z=true});A.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){var H=X();Z=true;H.unbind("scrollstop",ka);H.bind("scrollstop",ka)})});X().bind("scrollstop",ka);a.mobile.getScreenHeight=n;a.fn.animationComplete=function(H){if(a.support.cssTransitions)return a(this).one("webkitAnimationEnd",H);else{setTimeout(H,0);return a(this)}};a.mobile.path=D;a.mobile.base=P;a.mobile.urlHistory=G;a.mobile.dialogHashKey=
s;a.mobile.noneTransitionHandler=function(H,S,ba,ha){ha&&ha.removeClass(a.mobile.activePageClass);ba.addClass(a.mobile.activePageClass);return a.Deferred().resolve(H,S,ba,ha).promise()};a.mobile.defaultTransitionHandler=a.mobile.noneTransitionHandler;a.mobile.transitionHandlers={none:a.mobile.defaultTransitionHandler};a.mobile.allowCrossDomainPages=false;a.mobile.getDocumentUrl=function(H){return H?a.extend({},C):C.href};a.mobile.getDocumentBase=function(H){return H?a.extend({},K):K.href};a.mobile._bindPageRemove=
function(){var H=a(this);!H.data("page").options.domCache&&H.is(":jqmData(external-page='true')")&&H.bind("pagehide.remove",function(){var S=a(this),ba=new a.Event("pageremove");S.trigger(ba);ba.isDefaultPrevented()||S.removeWithDependents()})};a.mobile.loadPage=function(H,S){var ba=a.Deferred(),ha=a.extend({},a.mobile.loadPage.defaults,S),V=null,sa=null,na=D.makeUrlAbsolute(H,function(){return a.mobile.activePage&&w(a.mobile.activePage)||K.hrefNoHash}());if(ha.data&&ha.type==="get"){na=D.addSearchParams(na,
ha.data);ha.data=d}if(ha.data&&ha.type==="post")ha.reloadPage=true;var p=D.getFilePath(na),wa=D.convertUrlToDataUrl(na);ha.pageContainer=ha.pageContainer||a.mobile.pageContainer;V=ha.pageContainer.children(":jqmData(url='"+wa+"')");if(V.length===0&&wa&&!D.isPath(wa))V=ha.pageContainer.children("#"+wa).attr("data-"+a.mobile.ns+"url",wa);if(V.length===0)if(a.mobile.firstPage&&D.isFirstPageUrl(p)){if(a.mobile.firstPage.parent().length)V=a(a.mobile.firstPage)}else if(D.isEmbeddedPage(p)){ba.reject(na,
S);return ba.promise()}P&&P.reset();if(V.length){if(!ha.reloadPage){u(V,ha.role);ba.resolve(na,S,V);return ba.promise()}sa=V}var Ha=ha.pageContainer,da=new a.Event("pagebeforeload"),ia={url:H,absUrl:na,dataUrl:wa,deferred:ba,options:ha};Ha.trigger(da,ia);if(da.isDefaultPrevented())return ba.promise();if(ha.showLoadMsg)var oa=setTimeout(function(){a.mobile.showPageLoadingMsg()},ha.loadMsgDelay),ua=function(){clearTimeout(oa);a.mobile.hidePageLoadingMsg()};a.mobile.allowCrossDomainPages||D.isSameDomain(C,
na)?a.ajax({url:p,type:ha.type,data:ha.data,dataType:"html",success:function(Aa,Ga,Ja){var Ma=a("<div></div>"),Oa=Aa.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,Pa=new RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),ab=new RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(Pa.test(Aa)&&RegExp.$1&&ab.test(RegExp.$1)&&RegExp.$1)H=p=D.getFilePath(RegExp.$1);P&&P.set(p);Ma.get(0).innerHTML=Aa;V=Ma.find(":jqmData(role='page'), :jqmData(role='dialog')").first();V.length||(V=
a("<div data-"+a.mobile.ns+"role='page'>"+Aa.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));if(Oa&&!V.jqmData("title")){if(~Oa.indexOf("&"))Oa=a("<div>"+Oa+"</div>").text();V.jqmData("title",Oa)}if(!a.support.dynamicBaseTag){var Ya=D.get(p);V.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var Wa=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",Ta=a(this).attr(Wa);Ta=Ta.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(Ta)||
a(this).attr(Wa,Ya+Ta)})}V.attr("data-"+a.mobile.ns+"url",D.convertUrlToDataUrl(p)).attr("data-"+a.mobile.ns+"external-page",true).appendTo(ha.pageContainer);V.one("pagecreate",a.mobile._bindPageRemove);u(V,ha.role);if(na.indexOf("&"+a.mobile.subPageUrlKey)>-1)V=ha.pageContainer.children(":jqmData(url='"+wa+"')");ha.showLoadMsg&&ua();ia.xhr=Ja;ia.textStatus=Ga;ia.page=V;ha.pageContainer.trigger("pageload",ia);ba.resolve(na,S,V,sa)},error:function(Aa,Ga,Ja){P&&P.set(D.get());ia.xhr=Aa;ia.textStatus=
Ga;ia.errorThrown=Ja;Aa=new a.Event("pageloadfailed");ha.pageContainer.trigger(Aa,ia);if(!Aa.isDefaultPrevented()){if(ha.showLoadMsg){ua();a("<div class='ui-loader ui-overlay-shadow ui-body-e ui-corner-all'><h1>"+a.mobile.pageLoadErrorMessage+"</h1></div>").css({display:"block",opacity:0.96,top:A.scrollTop()+100}).appendTo(ha.pageContainer).delay(800).fadeOut(400,function(){a(this).remove()})}ba.reject(na,S)}}}):ba.reject(na,S);return ba.promise()};a.mobile.loadPage.defaults={type:"get",data:d,reloadPage:false,
role:d,showLoadMsg:false,pageContainer:d,loadMsgDelay:50};a.mobile.changePage=function(H,S){if(F)y.unshift(arguments);else{var ba=a.extend({},a.mobile.changePage.defaults,S);ba.pageContainer=ba.pageContainer||a.mobile.pageContainer;ba.fromPage=ba.fromPage||a.mobile.activePage;var ha=ba.pageContainer,V=new a.Event("pagebeforechange"),sa={toPage:H,options:ba};ha.trigger(V,sa);if(!V.isDefaultPrevented()){H=sa.toPage;F=true;if(typeof H=="string")a.mobile.loadPage(H,ba).done(function(Ga,Ja,Ma,Oa){F=false;
Ja.duplicateCachedPage=Oa;a.mobile.changePage(Ma,Ja)}).fail(function(){F=false;f(true);c();ba.pageContainer.trigger("pagechangefailed",sa)});else{if(H[0]===a.mobile.firstPage[0]&&!ba.dataUrl)ba.dataUrl=C.hrefNoHash;V=ba.fromPage;var na=ba.dataUrl&&D.convertUrlToDataUrl(ba.dataUrl)||H.jqmData("url"),p=na;D.getFilePath(na);var wa=G.getActive(),Ha=G.activeIndex===0,da=0,ia=document.title,oa=ba.role==="dialog"||H.jqmData("role")==="dialog";if(V&&V[0]===H[0]&&!ba.allowSamePageTransition){F=false;ha.trigger("pagechange",
sa)}else{u(H,ba.role);ba.fromHashChange&&G.directHashChange({currentUrl:na,isBack:function(){da=-1},isForward:function(){da=1}});try{document.activeElement&&document.activeElement.nodeName.toLowerCase()!="body"?a(document.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(ua){}if(oa&&wa)na=(wa.url||"")+s;if(ba.changeHash!==false&&na){G.ignoreNextHashChange=true;D.set(na)}var Aa=!wa?ia:H.jqmData("title")||H.children(":jqmData(role='header')").find(".ui-title").getEncodedText();
if(Aa&&ia==document.title)ia=Aa;H.jqmData("title")||H.jqmData("title",ia);ba.transition=ba.transition||(da&&!Ha?wa.transition:d)||(oa?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);da||G.addNew(na,ba.transition,ia,p,ba.role);document.title=G.getActive().title;a.mobile.activePage=H;ba.reverse=ba.reverse||da<0;k(H,V,ba.transition,ba.reverse).done(function(){f();ba.duplicateCachedPage&&ba.duplicateCachedPage.remove();B.removeClass("ui-mobile-rendering");c();ha.trigger("pagechange",
sa)})}}}}};a.mobile.changePage.defaults={transition:d,reverse:false,changeHash:true,fromHashChange:false,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:true,dataUrl:d,fromPage:d,allowSamePageTransition:false};a.mobile._registerInternalEvents=function(){a(document).delegate("form","submit",function(H){var S=a(this);if(!(!a.mobile.ajaxEnabled||S.is(":jqmData(ajax='false')"))){var ba=S.attr("method"),ha=S.attr("target"),V=S.attr("action");if(!V){V=w(S);if(V===K.hrefNoHash)V=C.hrefNoSearch}V=
D.makeUrlAbsolute(V,w(S));if(!(D.isExternal(V)&&!D.isPermittedCrossDomainRequest(C,V)||ha)){a.mobile.changePage(V,{type:ba&&ba.length&&ba.toLowerCase()||"get",data:S.serialize(),transition:S.jqmData("transition"),direction:S.jqmData("direction"),reloadPage:true});H.preventDefault()}}});a(document).bind("vclick",function(H){if(!(H.which>1||!a.mobile.linkBindingEnabled))if(H=o(H.target))if(D.parseUrl(H.getAttribute("href")||"#").hash!=="#"){f(true);O=a(H).closest(".ui-btn").not(".ui-disabled");O.addClass(a.mobile.activeBtnClass);
a("."+a.mobile.activePageClass+" .ui-btn").not(H).blur()}});a(document).bind("click",function(H){if(a.mobile.linkBindingEnabled){var S=o(H.target);if(!(!S||H.which>1)){var ba=a(S),ha=function(){window.setTimeout(function(){f(true)},200)};if(ba.is(":jqmData(rel='back')")){window.history.back();return false}var V=w(ba);S=D.makeUrlAbsolute(ba.attr("href")||"#",V);if(!a.mobile.ajaxEnabled&&!D.isEmbeddedPage(S))ha();else{if(S.search("#")!=-1)if(S=S.replace(/[^#]*#/,""))S=D.isPath(S)?D.makeUrlAbsolute(S,
V):D.makeUrlAbsolute("#"+S,C.hrefNoHash);else{H.preventDefault();return}if(ba.is("[rel='external']")||ba.is(":jqmData(ajax='false')")||ba.is("[target]")||D.isExternal(S)&&!D.isPermittedCrossDomainRequest(C,S))ha();else{ha=ba.jqmData("transition");V=(V=ba.jqmData("direction"))&&V==="reverse"||ba.jqmData("back");ba=ba.attr("data-"+a.mobile.ns+"rel")||d;a.mobile.changePage(S,{transition:ha,reverse:V,role:ba});H.preventDefault()}}}}});a(document).delegate(".ui-page","pageshow.prefetch",function(){var H=
[];a(this).find("a:jqmData(prefetch)").each(function(){var S=a(this),ba=S.attr("href");if(ba&&a.inArray(ba,H)===-1){H.push(ba);a.mobile.loadPage(ba,{role:S.attr("data-"+a.mobile.ns+"rel")})}})});a.mobile._handleHashChange=function(H){var S=D.stripHash(H),ba={transition:a.mobile.urlHistory.stack.length===0?"none":d,changeHash:false,fromHashChange:true};if(!a.mobile.hashListeningEnabled||G.ignoreNextHashChange)G.ignoreNextHashChange=false;else{if(G.stack.length>1&&S.indexOf(s)>-1)if(a.mobile.activePage.is(".ui-dialog"))G.directHashChange({currentUrl:S,
either:function(ha){var V=a.mobile.urlHistory.getActive();S=V.pageUrl;a.extend(ba,{role:V.role,transition:V.transition,reverse:ha})}});else{G.directHashChange({currentUrl:S,isBack:function(){window.history.back()},isForward:function(){window.history.forward()}});return}if(S){S=typeof S==="string"&&!D.isPath(S)?D.makeUrlAbsolute("#"+S,K):S;a.mobile.changePage(S,ba)}else a.mobile.changePage(a.mobile.firstPage,ba)}};A.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)});a(document).bind("pageshow",
h);a(window).bind("throttledresize",h)}})(jQuery);
(function(a,d){var e={},f=a(d),c=a.mobile.path.parseUrl(location.href);a.extend(e,{initialFilePath:function(){return c.pathname+c.search}(),initialHref:c.hrefNoHash,hashchangeFired:false,state:function(){return{hash:location.hash||"#"+e.initialFilePath,title:document.title,initialHref:e.initialHref}},resetUIKeys:function(k){var n="&"+a.mobile.subPageUrlKey,h=k.indexOf(a.mobile.dialogHashKey);if(h>-1)k=k.slice(0,h)+"#"+k.slice(h);else if(k.indexOf(n)>-1)k=k.split(n).join("#"+n);return k},nextHashChangePrevented:function(k){a.mobile.urlHistory.ignoreNextHashChange=
k;e.onHashChangeDisabled=k},onHashChange:function(){if(!e.onHashChangeDisabled){var k,n;k=location.hash;var h=a.mobile.path.isPath(k),u=h?location.href:a.mobile.getDocumentUrl();k=h?k.replace("#",""):k;n=e.state();k=a.mobile.path.makeUrlAbsolute(k,u);if(h)k=e.resetUIKeys(k);history.replaceState(n,document.title,k)}},onPopState:function(k){var n=k.originalEvent.state;if(n){e.nextHashChangePrevented(true);setTimeout(function(){e.nextHashChangePrevented(false);a.mobile._handleHashChange(n.hash)},100)}},
init:function(){f.bind("hashchange",e.onHashChange);f.bind("popstate",e.onPopState);location.hash===""&&history.replaceState(e.state(),document.title,location.href)}});a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&e.init()})})(jQuery,this);
(function(a){function d(e,f,c,k){var n=new a.Deferred,h=f?" reverse":"",u="ui-mobile-viewport-transitioning viewport-"+e;c.animationComplete(function(){c.add(k).removeClass("out in reverse "+e);k&&k[0]!==c[0]&&k.removeClass(a.mobile.activePageClass);c.parent().removeClass(u);n.resolve(e,f,c,k)});c.parent().addClass(u);k&&k.addClass(e+" out"+h);c.addClass(a.mobile.activePageClass+" "+e+" in"+h);return n.promise()}a.mobile.css3TransitionHandler=d;if(a.mobile.defaultTransitionHandler===a.mobile.noneTransitionHandler)a.mobile.defaultTransitionHandler=
d})(jQuery,this);
(function(a){a.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};a(document).bind("pagecreate create",function(d){var e=a.mobile.closestPageData(a(d.target));if(e){options=e.options;a(d.target).find("input").not(e.keepNativeSelector()).each(function(){var f=a(this),c=this.getAttribute("type"),k=options.degradeInputs[c]||"text";if(options.degradeInputs[c]){var n=
a("<div>").html(f.clone()).html(),h=n.indexOf(" type=")>-1;f.replaceWith(n.replace(h?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+k+'" data-'+a.mobile.ns+'type="'+c+'"'+(h?"":">")))}})}})})(jQuery);
(function(a,d){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var e=this,f=this.element,c=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");f.addClass("ui-overlay-"+this.options.overlayTheme);f.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(c).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");
c.bind("click",function(){e.close()});f.bind("vclick submit",function(k){k=a(k.target).closest(k.type==="vclick"?"a":"form");var n;if(k.length&&!k.jqmData("transition")){n=a.mobile.urlHistory.getActive()||{};k.attr("data-"+a.mobile.ns+"transition",n.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)})},close:function(){d.history.back()}});a(document).delegate(a.mobile.dialog.prototype.options.initSelector,
"pagecreate",function(){a(this).dialog()})})(jQuery,this);
(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=false;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme="a";a.mobile.page.prototype.options.contentTheme=null;a(document).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var d=a(this),e=d.data("page").options,f=d.jqmData("role"),c=e.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",
this).each(function(){var k=a(this),n=k.jqmData("role"),h=k.jqmData("theme"),u=h||e.contentTheme||f==="dialog"&&c,o;k.addClass("ui-"+n);if(n==="header"||n==="footer"){var w=h||(n==="header"?e.headerTheme:e.footerTheme)||c;k.addClass("ui-bar-"+w).attr("role",n==="header"?"banner":"contentinfo");h=k.children("a");u=h.hasClass("ui-btn-left");o=h.hasClass("ui-btn-right");u=u||h.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;o||h.eq(1).addClass("ui-btn-right");if(e.addBackBtn&&n==="header"&&
a(".ui-page").length>1&&k.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!u)a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+e.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",e.backBtnTheme||w).prependTo(k);k.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({tabindex:"0",role:"heading","aria-level":"1"})}else if(n==="content"){u&&k.addClass("ui-body-"+u);k.attr("role","main")}})})})(jQuery);
(function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",initSelector:":jqmData(role='collapsible')"},_create:function(){var d=this.element,e=this.options,f=d.addClass("ui-collapsible"),c=d.children(e.heading).first(),k=f.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),
n=d.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");if(c.is("legend")){c=a("<div role='heading'>"+c.html()+"</div>").insertBefore(c);c.next().remove()}if(n.length){if(!e.theme)e.theme=n.jqmData("theme");if(!e.contentTheme)e.contentTheme=n.jqmData("content-theme")}k.addClass(e.contentTheme?"ui-body-"+e.contentTheme:"");c.insertBefore(k).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,
corners:false,iconPos:"left",icon:"plus",theme:e.theme}).add(".ui-btn-inner").addClass("ui-corner-top ui-corner-bottom");f.bind("expand collapse",function(h){if(!h.isDefaultPrevented()){h.preventDefault();var u=a(this);h=h.type==="collapse";var o=e.contentTheme;c.toggleClass("ui-collapsible-heading-collapsed",h).find(".ui-collapsible-heading-status").text(h?e.expandCueText:e.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!h).toggleClass("ui-icon-plus",h);u.toggleClass("ui-collapsible-collapsed",
h);k.toggleClass("ui-collapsible-content-collapsed",h).attr("aria-hidden",h);if(o&&(!n.length||f.jqmData("collapsible-last"))){c.find("a").first().add(c.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",h);k.toggleClass("ui-corner-bottom",!h)}k.trigger("updatelayout")}}).trigger(e.collapsed?"collapse":"expand");c.bind("click",function(h){var u=c.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";f.trigger(u);h.preventDefault()})}});a(document).bind("pagecreate create",function(d){a(a.mobile.collapsible.prototype.options.initSelector,
d.target).collapsible()})})(jQuery);
(function(a){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var d=this.element.addClass("ui-collapsible-set"),e=this.options,f=d.children(":jqmData(role='collapsible')");if(!e.theme)e.theme=d.jqmData("theme");if(!e.contentTheme)e.contentTheme=d.jqmData("content-theme");if(!d.jqmData("collapsiblebound")){d.jqmData("collapsiblebound",true).bind("expand collapse",function(c){var k=c.type==="collapse";c=a(c.target).closest(".ui-collapsible");
var n=c.data("collapsible");if(n.options.contentTheme&&c.jqmData("collapsible-last")){c.find(n.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",k);c.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!k)}}).bind("expand",function(c){a(c.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")});f.each(function(){a(this).find(a.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});
f.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top");f.last().jqmData("collapsible-last",true).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom")}}});a(document).bind("pagecreate create",function(d){a(a.mobile.collapsibleset.prototype.options.initSelector,d.target).collapsibleset()})})(jQuery);
(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};a(document).bind("pagecreate create",function(d){a(":jqmData(role='fieldcontain')",d.target).fieldcontain()})})(jQuery);
(function(a){a.fn.grid=function(d){return this.each(function(){var e=a(this),f=a.extend({grid:null},d),c=e.children(),k={solo:1,a:2,b:3,c:4,d:5};f=f.grid;if(!f)if(c.length<=5)for(var n in k){if(k[n]===c.length)f=n}else f="a";k=k[f];e.addClass("ui-grid-"+f);c.filter(":nth-child("+k+"n+1)").addClass("ui-block-a");k>1&&c.filter(":nth-child("+k+"n+2)").addClass("ui-block-b");k>2&&c.filter(":nth-child(3n+3)").addClass("ui-block-c");k>3&&c.filter(":nth-child(4n+4)").addClass("ui-block-d");k>4&&c.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);
(function(a,d){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var e=this.element,f=e.find("a"),c=f.filter(":jqmData(icon)").length?this.options.iconpos:d;e.addClass("ui-navbar").attr("role","navigation").find("ul").grid({grid:this.options.grid});c||e.addClass("ui-navbar-noicons");f.buttonMarkup({corners:false,shadow:false,iconpos:c});e.delegate("a","vclick",function(k){if(!a(k.target).hasClass("ui-disabled")){f.not(".ui-state-persist").removeClass(a.mobile.activeBtnClass);
a(this).addClass(a.mobile.activeBtnClass)}})}});a(document).bind("pagecreate create",function(e){a(a.mobile.navbar.prototype.options.initSelector,e.target).navbar()})})(jQuery);
(function(a){var d={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var e=this;e.element.addClass(function(f,c){return c+" ui-listview "+(e.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"")});e.refresh(true)},_removeCorners:function(e,f){e=e.add(e.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));if(f==="top")e.removeClass("ui-corner-top ui-corner-tr ui-corner-tl");
else f==="bottom"?e.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):e.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(e){var f,c;if(this.options.inset){f=this.element.children("li");c=e?f.not(".ui-screen-hidden"):f.filter(":visible");this._removeCorners(f);f=c.first().addClass("ui-corner-top");f.add(f.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl");
c=c.last().addClass("ui-corner-bottom");c.add(c.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")}e||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(e,f,c,k){var n={};for(n[c]=n[k]=true;e;){if(n[e.nodeName])return e;e=e[f]}return null},_getChildrenByTagName:function(e,f,c){var k=[],n={};n[f]=n[c]=true;for(e=e.firstChild;e;){n[e.nodeName]&&k.push(e);e=e.nextSibling}return a(k)},_addThumbClasses:function(e){var f,
c,k=e.length;for(f=0;f<k;f++){c=a(this._findFirstElementByTagName(e[f].firstChild,"nextSibling","img","IMG"));if(c.length){c.addClass("ui-li-thumb");a(this._findFirstElementByTagName(c[0].parentNode,"parentNode","li","LI")).addClass(c.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")}}},refresh:function(e){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var f=this.options,c=this.element,k=c.jqmData("dividertheme")||f.dividerTheme,n=c.jqmData("splittheme"),h=c.jqmData("spliticon"),
u=this._getChildrenByTagName(c[0],"li","LI"),o=a.support.cssPseudoElement||!a.nodeName(c[0],"ol")?0:1,w={},A,B,I,D,O;o&&c.find(".ui-li-dec").remove();if(!f.theme)f.theme=a.mobile.getInheritedTheme(this.element,"c");for(var G=0,y=u.length;G<y;G++){A=u.eq(G);B="ui-li";if(e||!A.hasClass("ui-li")){I=A.jqmData("theme")||f.theme;D=this._getChildrenByTagName(A[0],"a","A");if(D.length){O=A.jqmData("icon");A.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:D.length>1||O===false?
false:O||"arrow-r",theme:I});O!=false&&D.length==1&&A.addClass("ui-li-has-arrow");D.first().addClass("ui-link-inherit");if(D.length>1){B+=" ui-li-has-alt";D=D.last();O=n||D.jqmData("theme")||f.splitTheme;D.appendTo(A).attr("title",D.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:I,icon:false,iconpos:false}).find(".ui-btn-inner").append(a(document.createElement("span")).buttonMarkup({shadow:true,corners:true,theme:O,iconpos:"notext",icon:h||D.jqmData("icon")||
f.splitIcon}))}}else if(A.jqmData("role")==="list-divider"){B+=" ui-li-divider ui-btn ui-bar-"+k;A.attr("role","heading");if(o)o=1}else B+=" ui-li-static ui-body-"+I}if(o&&B.indexOf("ui-li-divider")<0){I=A.is(".ui-li-static:first")?A:A.find(".ui-link-inherit");I.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+o++ +". </span>")}w[B]||(w[B]=[]);w[B].push(A[0])}for(B in w)a(w[B]).addClass(B).children(".ui-btn-inner").addClass(B);c.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var F=
a(this);F.prependTo(F.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(c.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(u);this._addThumbClasses(c.find(".ui-link-inherit"));this._refreshCorners(e)},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var e=this.element,f=e.closest(".ui-page"),c=f.jqmData("url"),k=c||f[0][a.expando],
n=e.attr("id"),h=this.options,u="data-"+a.mobile.ns,o=this,w=f.find(":jqmData(role='footer')").jqmData("id"),A;if(typeof d[k]==="undefined")d[k]=-1;n=n||++d[k];a(e.find("li>ul, li>ol").toArray().reverse()).each(function(B){var I=a(this),D=I.attr("id")||n+"-"+B;B=I.parent();var O=a(I.prevAll().toArray().reverse());O=O.length?O:a("<span>"+a.trim(B.contents()[0].nodeValue)+"</span>");var G=O.first().getEncodedText();D=(c||"")+"&"+a.mobile.subPageUrlKey+"="+D;var y=I.jqmData("theme")||h.theme,F=I.jqmData("counttheme")||
e.jqmData("counttheme")||h.countTheme;A=true;I.detach().wrap("<div "+u+"role='page' "+u+"url='"+D+"' "+u+"theme='"+y+"' "+u+"count-theme='"+F+"'><div "+u+"role='content'></div></div>").parent().before("<div "+u+"role='header' "+u+"theme='"+h.headerTheme+"'><div class='ui-title'>"+G+"</div></div>").after(w?a("<div "+u+"role='footer' "+u+"id='"+w+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();I=B.find("a:first");I.length||(I=a("<a/>").html(O||G).prependTo(B.empty()));I.attr("href","#"+D)}).listview();
A&&f.is(":jqmData(external-page='true')")&&f.data("page").options.domCache===false&&f.unbind("pagehide.remove").bind("pagehide.remove",function(B,I){if(B=I.nextPage){I=B.jqmData("url");if(I.indexOf(c+"&"+a.mobile.subPageUrlKey)!==0){o.childPages().remove();f.remove()}}})},childPages:function(){var e=this.parentPage.jqmData("url");return a(":jqmData(url^='"+e+"&"+a.mobile.subPageUrlKey+"')")}});a(document).bind("pagecreate create",function(e){a(a.mobile.listview.prototype.options.initSelector,e.target).listview()})})(jQuery);
(function(a){a.mobile.listview.prototype.options.filter=false;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";a.mobile.listview.prototype.options.filterCallback=function(d,e){return d.toLowerCase().indexOf(e)===-1};a(document).delegate(":jqmData(role='listview')","listviewcreate",function(){var d=a(this),e=d.data("listview");if(e.options.filter){var f=a("<form>",{"class":"ui-listview-filter ui-bar-"+e.options.filterTheme,
role:"search"});a("<input>",{placeholder:e.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var c=a(this),k=this.value.toLowerCase(),n=null;n=c.jqmData("lastval")+"";var h=false,u="";c.jqmData("lastval",k);n=k.length<n.length||k.indexOf(n)!==0?d.children():d.children(":not(.ui-screen-hidden)");if(k){for(var o=n.length-1;o>=0;o--){c=a(n[o]);u=c.jqmData("filtertext")||c.text();if(c.is("li:jqmData(role=list-divider)")){c.toggleClass("ui-filter-hidequeue",
!h);h=false}else if(e.options.filterCallback(u,k))c.toggleClass("ui-filter-hidequeue",true);else h=true}n.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);n.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else n.toggleClass("ui-screen-hidden",false);e._refreshCorners()}).appendTo(f).textinput();a(this).jqmData("inset")&&f.addClass("ui-listview-filter-inset");f.bind("submit",function(){return false}).insertBefore(d)}})})(jQuery);
(function(a){a(document).bind("pagecreate create",function(d){a(":jqmData(role='nojs')",d.target).addClass("ui-nojs")})})(jQuery);
(function(a,d){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var e=this,f=this.element,c=f.closest("form,fieldset,:jqmData(role='page')").find("label").filter("[for='"+f[0].id+"']"),k=f.attr("type"),n=k+"-on",h=k+"-off",u=f.parents(":jqmData(type='horizontal')").length?d:h;if(!(k!=="checkbox"&&k!=="radio")){a.extend(this,{label:c,inputtype:k,checkedClass:"ui-"+n+(u?"":" "+a.mobile.activeBtnClass),
uncheckedClass:"ui-"+h,checkedicon:"ui-icon-"+n,uncheckedicon:"ui-icon-"+h});if(!this.options.theme)this.options.theme=this.element.jqmData("theme");c.buttonMarkup({theme:this.options.theme,icon:u,shadow:false});f.add(c).wrapAll("<div class='ui-"+k+"'></div>");c.bind({vmouseover:function(o){a(this).parent().is(".ui-disabled")&&o.stopPropagation()},vclick:function(o){if(f.is(":disabled"))o.preventDefault();else{e._cacheVals();f.prop("checked",k==="radio"&&true||!f.prop("checked"));f.triggerHandler("click");
e._getInputSet().not(f).prop("checked",false);e._updateAll();return false}}});f.bind({vmousedown:function(){e._cacheVals()},vclick:function(){var o=a(this);if(o.is(":checked")){o.prop("checked",true);e._getInputSet().not(o).prop("checked",false)}else o.prop("checked",false);e._updateAll()},focus:function(){c.addClass("ui-focus")},blur:function(){c.removeClass("ui-focus")}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){var e=a(this);e.jqmData("cacheVal",e.is(":checked"))})},
_getInputSet:function(){if(this.inputtype=="checkbox")return this.element;return this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element.attr("name")+"'][type='"+this.inputtype+"']")},_updateAll:function(){var e=this;this._getInputSet().each(function(){var f=a(this);if(f.is(":checked")||e.inputtype==="checkbox")f.trigger("change")}).checkboxradio("refresh")},refresh:function(){var e=this.element,f=this.label,c=f.find(".ui-icon");if(a(e[0]).prop("checked")){f.addClass(this.checkedClass).removeClass(this.uncheckedClass);
c.addClass(this.checkedicon).removeClass(this.uncheckedicon)}else{f.removeClass(this.checkedClass).addClass(this.uncheckedClass);c.removeClass(this.checkedicon).addClass(this.uncheckedicon)}e.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(e){a.mobile.checkboxradio.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a,d){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:null,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']"},_create:function(){var e=this.element,f=this.options,c,k;if(e[0].tagName==="A")e.hasClass("ui-btn")||e.buttonMarkup();else{this.button=a("<div></div>").text(e.text()||e.val()).insertBefore(e).buttonMarkup({theme:f.theme,icon:f.icon,iconpos:f.iconpos,inline:f.inline,
corners:f.corners,shadow:f.shadow,iconshadow:f.iconshadow}).append(e.addClass("ui-btn-hidden"));f=e.attr("type");c=e.attr("name");f!=="button"&&f!=="reset"&&c&&e.bind("vclick",function(){if(k===d){k=a("<input>",{type:"hidden",name:e.attr("name"),value:e.attr("value")}).insertBefore(e);a(document).one("submit",function(){k.remove();k=d})}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",
false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var e=this.element;e.prop("disabled")?this.disable():this.enable();this.button.data("textWrapper").text(e.text()||e.val())}});a(document).bind("pagecreate create",function(e){a.mobile.button.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a,d){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')"},_create:function(){var e=this,f=this.element,c=a.mobile.getInheritedTheme(f,"c"),k=this.options.theme||c,n=this.options.trackTheme||c,h=f[0].nodeName.toLowerCase();c=h=="select"?"ui-slider-switch":"";var u=f.attr("id"),o=u+"-label";u=a("[for='"+u+"']").attr("id",o);var w=function(){return h=="input"?parseFloat(f.val()):
f[0].selectedIndex},A=h=="input"?parseFloat(f.attr("min")):0,B=h=="input"?parseFloat(f.attr("max")):f.find("option").length-1,I=window.parseFloat(f.attr("step")||1),D=a("<div class='ui-slider "+c+" ui-btn-down-"+n+" ui-btn-corner-all' role='application'></div>"),O=a("<a href='#' class='ui-slider-handle'></a>").appendTo(D).buttonMarkup({corners:true,theme:k,shadow:true}).attr({role:"slider","aria-valuemin":A,"aria-valuemax":B,"aria-valuenow":w(),"aria-valuetext":w(),title:w(),"aria-labelledby":o});
a.extend(this,{slider:D,handle:O,dragging:false,beforeStart:null,userModified:false,mouseMoved:false});if(h=="select"){D.wrapInner("<div class='ui-slider-inneroffset'></div>");O.addClass("ui-slider-handle-snapping");f.find("option");f.find("option").each(function(G){var y=!G?"b":"a",F=!G?"right":"left";G=!G?" ui-btn-down-"+n:" "+a.mobile.activeBtnClass;a("<div class='ui-slider-labelbg ui-slider-labelbg-"+y+G+" ui-btn-corner-"+F+"'></div>").prependTo(D);a("<span class='ui-slider-label ui-slider-label-"+
y+G+" ui-btn-corner-"+F+"' role='img'>"+a(this).getEncodedText()+"</span>").prependTo(O)})}u.addClass("ui-slider");f.addClass(h==="input"?"ui-slider-input":"ui-slider-switch").change(function(){e.mouseMoved||e.refresh(w(),true)}).keyup(function(){e.refresh(w(),true,true)}).blur(function(){e.refresh(w(),true)});a(document).bind("vmousemove",function(G){if(e.dragging){e.mouseMoved=true;h==="select"&&O.removeClass("ui-slider-handle-snapping");e.refresh(G);e.userModified=e.beforeStart!==f[0].selectedIndex;
return false}});D.bind("vmousedown",function(G){e.dragging=true;e.userModified=false;e.mouseMoved=false;if(h==="select")e.beforeStart=f[0].selectedIndex;e.refresh(G);return false});D.add(document).bind("vmouseup",function(){if(e.dragging){e.dragging=false;if(h==="select"){O.addClass("ui-slider-handle-snapping");if(e.mouseMoved)e.userModified?e.refresh(e.beforeStart==0?1:0):e.refresh(e.beforeStart);else e.refresh(e.beforeStart==0?1:0)}return e.mouseMoved=false}});D.insertAfter(f);this.handle.bind("vmousedown",
function(){a(this).focus()}).bind("vclick",false);this.handle.bind("keydown",function(G){var y=w();if(!e.options.disabled){switch(G.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:G.preventDefault();if(!e._keySliding){e._keySliding=true;a(this).addClass("ui-state-active")}break}switch(G.keyCode){case a.mobile.keyCode.HOME:e.refresh(A);
break;case a.mobile.keyCode.END:e.refresh(B);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:e.refresh(y+I);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:e.refresh(y-I);break}}}).keyup(function(){if(e._keySliding){e._keySliding=false;a(this).removeClass("ui-state-active")}});this.refresh(d,d,true)},refresh:function(e,f,c){if(this.options.disabled||this.element.attr("disabled"))this.disable();var k=this.element,
n=k[0].nodeName.toLowerCase(),h=n==="input"?parseFloat(k.attr("min")):0,u=n==="input"?parseFloat(k.attr("max")):k.find("option").length-1,o=n==="input"&&parseFloat(k.attr("step"))>0?parseFloat(k.attr("step")):1;if(typeof e==="object"){e=e;if(!this.dragging||e.pageX<this.slider.offset().left-8||e.pageX>this.slider.offset().left+this.slider.width()+8)return;e=Math.round((e.pageX-this.slider.offset().left)/this.slider.width()*100)}else{if(e==null)e=n==="input"?parseFloat(k.val()||0):k[0].selectedIndex;
e=(parseFloat(e)-h)/(u-h)*100}if(!isNaN(e)){if(e<0)e=0;if(e>100)e=100;var w=e/100*(u-h)+h,A=(w-h)%o;w=w-A;if(Math.abs(A)*2>=o)w+=A>0?o:-o;w=parseFloat(w.toFixed(5));if(w<h)w=h;if(w>u)w=u;this.handle.css("left",e+"%");this.handle.attr({"aria-valuenow":n==="input"?w:k.find("option").eq(w).attr("value"),"aria-valuetext":n==="input"?w:k.find("option").eq(w).getEncodedText(),title:n==="input"?w:k.find("option").eq(w).getEncodedText()});if(n==="select")w===0?this.slider.addClass("ui-slider-switch-a").removeClass("ui-slider-switch-b"):
this.slider.addClass("ui-slider-switch-b").removeClass("ui-slider-switch-a");if(!c){c=false;if(n==="input"){c=k.val()!==w;k.val(w)}else{c=k[0].selectedIndex!==w;k[0].selectedIndex=w}!f&&c&&k.trigger("change")}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",
true)}});a(document).bind("pagecreate create",function(e){a.mobile.slider.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])"},_create:function(){var d=this.element,
e=this.options.theme||a.mobile.getInheritedTheme(this.element,"c"),f=" ui-body-"+e,c,k;a("label[for='"+d.attr("id")+"']").addClass("ui-input-text");c=d.addClass("ui-input-text ui-body-"+e);if(typeof d[0].autocorrect!=="undefined"&&!a.support.touchOverflow){d[0].setAttribute("autocorrect","off");d[0].setAttribute("autocomplete","off")}if(d.is("[type='search'],:jqmData(type='search')")){c=d.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+f+"'></div>").parent();
k=a("<a href='#' class='ui-input-clear' title='clear text'>clear text</a>").tap(function(o){d.val("").focus();d.trigger("change");k.addClass("ui-input-clear-hidden");o.preventDefault()}).appendTo(c).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true});function n(){setTimeout(function(){k.toggleClass("ui-input-clear-hidden",!d.val())},0)}n();d.bind("paste cut keyup focus change blur",n)}else d.addClass("ui-corner-all ui-shadow-inset"+f);d.focus(function(){c.addClass("ui-focus")}).blur(function(){c.removeClass("ui-focus")});
if(d.is("textarea")){var h=function(){var o=d[0].scrollHeight;d[0].clientHeight<o&&d.height(o+15)},u;d.keyup(function(){clearTimeout(u);u=setTimeout(h,100)});a(document).one("pagechange",h);a.trim(d.val())&&a(window).load(h)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():
this.element).removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(d){a.mobile.textinput.prototype.enhanceWithin(d.target)})})(jQuery);
(function(a){var d=function(e){var f=e.selectID,c=e.label,k=e.select.closest(".ui-page"),n=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(k),h=e._selectOptions(),u=e.isMultiple=e.select[0].multiple,o=f+"-button",w=f+"-menu",A=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+"theme='"+e.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+e.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+c.getEncodedText()+"</div></div><div data-"+
a.mobile.ns+"role='content'></div></div>").appendTo(a.mobile.pageContainer).page(),B=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+e.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(n),I=a("<ul>",{"class":"ui-selectmenu-list",id:w,role:"listbox","aria-labelledby":o}).attr("data-"+a.mobile.ns+"theme",e.options.theme).appendTo(B),D=a("<div>",{"class":"ui-header ui-bar-"+e.options.theme}).prependTo(B),O=a("<h1>",{"class":"ui-title"}).appendTo(D),
G=a("<a>",{text:e.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(D).buttonMarkup(),y=A.find(".ui-content"),F=A.find(".ui-header a");a.extend(e,{select:e.select,selectID:f,buttonId:o,menuId:w,thisPage:k,menuPage:A,label:c,screen:n,selectOptions:h,isMultiple:u,theme:e.options.theme,listbox:B,list:I,header:D,headerTitle:O,headerClose:G,menuPageContent:y,menuPageClose:F,placeholder:"",build:function(){var s=
this;s.refresh();s.select.attr("tabindex","-1").focus(function(){a(this).blur();s.button.focus()});s.button.bind("vclick keydown",function(r){if(r.type=="vclick"||r.keyCode&&(r.keyCode===a.mobile.keyCode.ENTER||r.keyCode===a.mobile.keyCode.SPACE)){s.open();r.preventDefault()}});s.list.attr("role","listbox").delegate(".ui-li>a","focusin",function(){a(this).attr("tabindex","0")}).delegate(".ui-li>a","focusout",function(){a(this).attr("tabindex","-1")}).delegate("li:not(.ui-disabled, .ui-li-divider)",
"click",function(r){var C=s.select[0].selectedIndex,K=s.list.find("li:not(.ui-li-divider)").index(this),J=s._selectOptions().eq(K)[0];J.selected=s.isMultiple?!J.selected:true;s.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",J.selected).toggleClass("ui-icon-checkbox-off",!J.selected);if(s.isMultiple||C!==K)s.select.trigger("change");s.isMultiple||s.close();r.preventDefault()}).keydown(function(r){var C=a(r.target),K=C.closest("li");switch(r.keyCode){case 38:r=K.prev();if(r.length){C.blur().attr("tabindex",
"-1");r.find("a").first().focus()}return false;case 40:r=K.next();if(r.length){C.blur().attr("tabindex","-1");r.find("a").first().focus()}return false;case 13:case 32:C.trigger("click");return false}});s.menuPage.bind("pagehide",function(){s.list.appendTo(s.listbox);s._focusButton();a.mobile._bindPageRemove.call(s.thisPage)});s.screen.bind("vclick",function(){s.close()});s.headerClose.click(function(){if(s.menuType=="overlay"){s.close();return false}});s.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var s=
this.list.find("li");return this._selectOptions().text()!==s.text()},refresh:function(s){var r=this;this._selectOptions();this.selected();var C=this.selectedIndices();if(s||this._isRebuildRequired())r._buildList();r.setButtonText();r.setButtonCount();r.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",false).each(function(K){if(a.inArray(K,C)>-1){K=a(this);K.attr("aria-selected",true);r.isMultiple?K.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):
K.addClass(a.mobile.activeBtnClass)}})},close:function(){if(!(this.options.disabled||!this.isOpen)){var s=this;if(s.menuType=="page")window.history.back();else{s.screen.addClass("ui-screen-hidden");s.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in");s.list.appendTo(s.listbox);s._focusButton()}s.isOpen=false}},open:function(){function s(){r.list.find(a.mobile.activeBtnClass).focus()}if(!this.options.disabled){var r=this,C=r.list.parent().outerHeight(),K=r.list.parent().outerWidth(),
J=a(".ui-page-active"),P=a.support.touchOverflow&&a.mobile.touchOverflowEnabled;J=J.is(".ui-native-fixed")?J.find(".ui-content"):J;var Z=P?J.scrollTop():a(window).scrollTop(),X=r.button.offset().top,ea=a(window).height();P=a(window).width();r.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){r.button.removeClass(a.mobile.activeBtnClass)},300);if(C>ea-80||!a.support.scrollTop){r.thisPage.unbind("pagehide.remove");Z==0&&X>ea&&r.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",
X)});r.menuPage.one("pageshow",function(){a(window).one("silentscroll",function(){s()});r.isOpen=true});r.menuType="page";r.menuPageContent.append(r.list);r.menuPage.find("div .ui-title").text(r.label.text());a.mobile.changePage(r.menuPage,{transition:a.mobile.defaultDialogTransition})}else{r.menuType="overlay";r.screen.height(a(document).height()).removeClass("ui-screen-hidden");var ka=X-Z,H=Z+ea-X,S=C/2;J=parseFloat(r.list.parent().css("max-width"));C=ka>C/2&&H>C/2?X+r.button.outerHeight()/2-S:
ka>H?Z+ea-C-30:Z+30;if(K<J)J=(P-K)/2;else{J=r.button.offset().left+r.button.outerWidth()/2-K/2;if(J<30)J=30;else if(J+K>P)J=P-K-30}r.listbox.append(r.list).removeClass("ui-selectmenu-hidden").css({top:C,left:J}).addClass("in");s();r.isOpen=true}}},_buildList:function(){var s=this,r=this.options,C=this.placeholder,K=[],J=[],P=s.isMultiple?"checkbox-off":"false";s.list.empty().filter(".ui-listview").listview("destroy");s.select.find("option").each(function(Z){var X=a(this),ea=X.parent(),ka=X.getEncodedText(),
H="<a href='#'>"+ka+"</a>",S=[],ba=[];if(ea.is("optgroup")){ea=ea.attr("label");if(a.inArray(ea,K)===-1){J.push("<li data-"+a.mobile.ns+"role='list-divider'>"+ea+"</li>");K.push(ea)}}if(!this.getAttribute("value")||ka.length==0||X.jqmData("placeholder")){r.hidePlaceholderMenuItems&&S.push("ui-selectmenu-placeholder");C=s.placeholder=ka}if(this.disabled){S.push("ui-disabled");ba.push("aria-disabled='true'")}J.push("<li data-"+a.mobile.ns+"option-index='"+Z+"' data-"+a.mobile.ns+"icon='"+P+"' class='"+
S.join(" ")+"' "+ba.join(" ")+">"+H+"</li>")});s.list.html(J.join(" "));s.list.find("li").attr({role:"option",tabindex:"-1"}).first().attr("tabindex","0");this.isMultiple||this.headerClose.hide();!this.isMultiple&&!C.length?this.header.hide():this.headerTitle.text(this.placeholder);s.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a(document).delegate("select","selectmenubeforecreate",function(){var e=
a(this).data("selectmenu");e.options.nativeMenu||d(e)})})(jQuery);
(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:null,corners:true,shadow:true,iconshadow:true,menuPageTheme:"b",overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,initSelector:"select:not(:jqmData(role='slider'))"},_button:function(){return a("<div/>")},_setDisabled:function(d){this.element.attr("disabled",d);this.button.attr("aria-disabled",d);return this._setOption("disabled",d)},_focusButton:function(){var d=
this;setTimeout(function(){d.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){this.select=this.element.wrap("<div class='ui-select'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=
this._button();var d=this,e=this.options,f=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:e.theme,icon:e.icon,iconpos:e.iconpos,inline:e.inline,corners:e.corners,shadow:e.shadow,iconshadow:e.iconshadow});e.nativeMenu&&window.opera&&window.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(f.addClass("ui-li-has-count"));
if(e.disabled||this.element.attr("disabled"))this.disable();this.select.change(function(){d.refresh()});this.build()},build:function(){var d=this;this.select.appendTo(d.button).bind("vmousedown",function(){d.button.addClass(a.mobile.activeBtnClass)}).bind("focus vmouseover",function(){d.button.trigger("vmouseover")}).bind("vmousemove",function(){d.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){d.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",
function(){d.button.removeClass("ui-btn-down-"+d.options.theme)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var d=this;return this.selected().map(function(){return d._selectOptions().index(this)}).get()},setButtonText:function(){var d=this,e=this.selected();this.button.find(".ui-btn-text").text(function(){if(!d.isMultiple)return e.text();return e.length?e.map(function(){return a(this).text()}).get().join(", "):d.placeholder})},setButtonCount:function(){var d=
this.selected();if(this.isMultiple)this.buttonCount[d.length>1?"show":"hide"]().text(d.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(d){a.mobile.selectmenu.prototype.enhanceWithin(d.target)})})(jQuery);
(function(a,d){function e(c){for(var k;c;){if((k=typeof c.className==="string"&&c.className+" ")&&k.indexOf("ui-btn ")>-1&&k.indexOf("ui-disabled ")<0)break;c=c.parentNode}return c}a.fn.buttonMarkup=function(c){c=c||{};for(var k=0;k<this.length;k++){var n=this.eq(k),h=n[0],u=a.extend({},a.fn.buttonMarkup.defaults,{icon:c.icon!==d?c.icon:n.jqmData("icon"),iconpos:c.iconpos!==d?c.iconpos:n.jqmData("iconpos"),theme:c.theme!==d?c.theme:n.jqmData("theme"),inline:c.inline!==d?c.inline:n.jqmData("inline"),
shadow:c.shadow!==d?c.shadow:n.jqmData("shadow"),corners:c.corners!==d?c.corners:n.jqmData("corners"),iconshadow:c.iconshadow!==d?c.iconshadow:n.jqmData("iconshadow")},c),o="ui-btn-inner",w,A,B=document.createElement(u.wrapperEls),I=document.createElement(u.wrapperEls),D=u.icon?document.createElement("span"):null;if(!(h.tagName==="INPUT"&&n.jqmData("role")==="button"))if(h.tagName==="BUTTON")a(h.parentNode).hasClass("ui-btn")||a(h).button();else{f&&f();if(!u.theme)u.theme=a.mobile.getInheritedTheme(n,
"c");w="ui-btn ui-btn-up-"+u.theme;if(u.inline)w+=" ui-btn-inline";if(u.icon){u.icon="ui-icon-"+u.icon;u.iconpos=u.iconpos||"left";A="ui-icon "+u.icon;if(u.iconshadow)A+=" ui-icon-shadow"}if(u.iconpos){w+=" ui-btn-icon-"+u.iconpos;u.iconpos=="notext"&&!n.attr("title")&&n.attr("title",n.getEncodedText())}if(u.corners){w+=" ui-btn-corner-all";o+=" ui-btn-corner-all"}if(u.shadow)w+=" ui-shadow";h.setAttribute("data-"+a.mobile.ns+"theme",u.theme);n.addClass(w);B.className=o;I.className="ui-btn-text";
B.appendChild(I);if(D){D.className=A;B.appendChild(D)}for(;h.firstChild;)I.appendChild(h.firstChild);h.appendChild(B);a.data(h,"textWrapper",a(I))}}return this};a.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,inline:false,wrapperEls:"span"};var f=function(){a(document).bind({vmousedown:function(c){c=e(c.target);var k;if(c){c=a(c);k=c.attr("data-"+a.mobile.ns+"theme");c.removeClass("ui-btn-up-"+k).addClass("ui-btn-down-"+k)}},"vmousecancel vmouseup":function(c){c=e(c.target);var k;
if(c){c=a(c);k=c.attr("data-"+a.mobile.ns+"theme");c.removeClass("ui-btn-down-"+k).addClass("ui-btn-up-"+k)}},"vmouseover focus":function(c){c=e(c.target);var k;if(c){c=a(c);k=c.attr("data-"+a.mobile.ns+"theme");c.removeClass("ui-btn-up-"+k).addClass("ui-btn-hover-"+k)}},"vmouseout blur":function(c){c=e(c.target);var k;if(c){c=a(c);k=c.attr("data-"+a.mobile.ns+"theme");c.removeClass("ui-btn-hover-"+k+" ui-btn-down-"+k).addClass("ui-btn-up-"+k)}}});f=null};a(document).bind("pagecreate create",function(c){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",
c.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);
(function(a){a.fn.controlgroup=function(d){return this.each(function(){function e(h){h.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(n[0]).end().last().addClass(n[1]).addClass("ui-controlgroup-last")}var f=a(this),c=a.extend({direction:f.jqmData("type")||"vertical",shadow:false,excludeInvisible:true},d),k=f.children("legend"),n=c.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];f.find("input").first().attr("type");if(k.length){f.wrapInner("<div class='ui-controlgroup-controls'></div>");
a("<div role='heading' class='ui-controlgroup-label'>"+k.html()+"</div>").insertBefore(f.children(0));k.remove()}f.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+c.direction);e(f.find(".ui-btn"+(c.excludeInvisible?":visible":"")));e(f.find(".ui-btn-inner"));c.shadow&&f.addClass("ui-shadow")})};a(document).bind("pagecreate create",function(d){a(":jqmData(role='controlgroup')",d.target).controlgroup({excludeInvisible:false})})})(jQuery);(function(a){a(document).bind("pagecreate create",function(d){a(d.target).find("a").not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);
(function(a,d){a.fn.fixHeaderFooter=function(){if(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;return this.each(function(){var e=a(this);e.jqmData("fullscreen")&&e.addClass("ui-page-fullscreen");e.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade");e.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})};a.mobile.fixedToolbars=function(){function e(){if(!u&&h==="overlay"){n||
a.mobile.fixedToolbars.hide(true);a.mobile.fixedToolbars.startShowTimer()}}function f(B){var I=0,D,O;if(B){O=document.body;D=B.offsetParent;for(I=B.offsetTop;B&&B!=O;){I+=B.scrollTop||0;if(B==D){I+=D.offsetTop;D=B.offsetParent}B=B.parentNode}}return I}function c(B){var I=a(window).scrollTop(),D=f(B[0]),O=B.css("top")=="auto"?0:parseFloat(B.css("top")),G=window.innerHeight,y=B.outerHeight(),F=B.parents(".ui-page:not(.ui-page-fullscreen)").length;if(B.is(".ui-header-fixed")){O=I-D+O;if(O<D)O=0;return B.css("top",
F?O:I)}else{O=I+G-y-(D-O);return B.css("top",F?O:I+G-y)}}if(!(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)){var k,n,h="inline",u=false,o=null,w=false,A=true;a(function(){var B=a(document),I=a(window);B.bind("vmousedown",function(){if(A)o=h}).bind("vclick",function(D){if(A)if(!a(D.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length)if(!w){a.mobile.fixedToolbars.toggle(o);o=null}}).bind("silentscroll",e);(B.scrollTop()===
0?I:B).bind("scrollstart",function(){w=true;if(o===null)o=h;var D=o=="overlay";if(u=D||!!n){a.mobile.fixedToolbars.clearShowTimer();D&&a.mobile.fixedToolbars.hide(true)}}).bind("scrollstop",function(D){if(!a(D.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length){w=false;if(u){a.mobile.fixedToolbars.startShowTimer();u=false}o=null}});I.bind("resize updatelayout",e)});a(document).delegate(".ui-page","pagebeforeshow",function(B,I){B=a(B.target).find(":jqmData(role='footer')");
var D=B.data("id");I=(I=I.prevPage)&&I.find(":jqmData(role='footer')");I=I.length&&I.jqmData("id")===D;if(D&&I){k=B;c(k.removeClass("fade in out").appendTo(a.mobile.pageContainer))}}).delegate(".ui-page","pageshow",function(){var B=a(this);k&&k.length&&setTimeout(function(){c(k.appendTo(B).addClass("fade"));k=null},500);a.mobile.fixedToolbars.show(true,this)});a(document).delegate(".ui-collapsible-contain","collapse expand",e);return{show:function(B,I){a.mobile.fixedToolbars.clearShowTimer();h="overlay";
return(I?a(I):a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var D=a(this),O=a(window).scrollTop(),G=f(D[0]),y=window.innerHeight,F=D.outerHeight();O=D.is(".ui-header-fixed")&&O<=G+F||D.is(".ui-footer-fixed")&&G<=O+y;D.addClass("ui-fixed-overlay").removeClass("ui-fixed-inline");!O&&!B&&D.animationComplete(function(){D.removeClass("in")}).addClass("in");c(D)})},hide:function(B){h="inline";
return(a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var I=a(this),D=I.css("top");D=D=="auto"?0:parseFloat(D);I.addClass("ui-fixed-inline").removeClass("ui-fixed-overlay");if(D<0||I.is(".ui-header-fixed")&&D!==0)if(B)I.css("top",0);else I.css("top")!=="auto"&&parseFloat(I.css("top"))!==0&&I.animationComplete(function(){I.removeClass("out reverse").css("top",0)}).addClass("out reverse")})},
startShowTimer:function(){a.mobile.fixedToolbars.clearShowTimer();var B=[].slice.call(arguments);n=setTimeout(function(){n=d;a.mobile.fixedToolbars.show.apply(null,B)},100)},clearShowTimer:function(){n&&clearTimeout(n);n=d},toggle:function(B){if(B)h=B;return h==="overlay"?a.mobile.fixedToolbars.hide():a.mobile.fixedToolbars.show()},setTouchToggleEnabled:function(B){A=B}}}}();a(document).bind("pagecreate create",function(e){a(":jqmData(position='fixed')",e.target).length&&a(e.target).each(function(){if(!a.support.scrollTop||
a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;var f=a(this);f.jqmData("fullscreen")&&f.addClass("ui-page-fullscreen");f.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade");f.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})})})(jQuery);
(function(a){a.mobile.touchOverflowEnabled=false;a.mobile.touchOverflowZoomEnabled=false;a(document).bind("pagecreate",function(d){if(a.support.touchOverflow&&a.mobile.touchOverflowEnabled){d=a(d.target);d.is(":jqmData(role='page')")&&d.each(function(){var e=a(this),f=e.find(":jqmData(role='header'), :jqmData(role='footer')").filter(":jqmData(position='fixed')"),c=e.jqmData("fullscreen"),k=f.length?e.find(".ui-content"):e;e.addClass("ui-mobile-touch-overflow");k.bind("scrollstop",function(){k.scrollTop()>
0&&window.scrollTo(0,a.mobile.defaultHomeScroll)});if(f.length){e.addClass("ui-native-fixed");if(c){e.addClass("ui-native-fullscreen");f.addClass("fade in");a(document).bind("vclick",function(){f.removeClass("ui-native-bars-hidden").toggleClass("in out").animationComplete(function(){a(this).not(".in").addClass("ui-native-bars-hidden")})})}}})}})})(jQuery);
(function(a,d){function e(){var n=a("meta[name='viewport']");n.length?n.attr("content",n.attr("content")+", user-scalable=no"):a("head").prepend("<meta>",{name:"viewport",content:"user-scalable=no"})}var f=a("html");a("head");var c=a(d);a(d.document).trigger("mobileinit");if(a.mobile.gradeA()){if(a.mobile.ajaxBlacklist)a.mobile.ajaxEnabled=false;f.addClass("ui-mobile ui-mobile-rendering");var k=a("<div class='ui-loader ui-body-a ui-corner-all'><span class='ui-icon ui-icon-loading spin'></span><h1></h1></div>");
a.extend(a.mobile,{showPageLoadingMsg:function(){if(a.mobile.loadingMessage){var n=a("."+a.mobile.activeBtnClass).first();k.find("h1").text(a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer).css({top:a.support.scrollTop&&c.scrollTop()+c.height()/2||n.length&&n.offset().top||100})}f.addClass("ui-loading")},hidePageLoadingMsg:function(){f.removeClass("ui-loading")},initializePage:function(){var n,h=a(":jqmData(role='page')");if(!h.length){n=a(":jqmData(role='dialog')");if(n.length){n.first().attr("data-"+
a.mobile.ns+"role","page");h=h.add(n.get().shift())}else h=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)}h.add(":jqmData(role='dialog')").each(function(){var u=a(this);u.jqmData("url")||u.attr("data-"+a.mobile.ns+"url",u.attr("id")||location.pathname+location.search)});a.mobile.firstPage=h.first();a.mobile.pageContainer=h.first().parent().addClass("ui-mobile-viewport");c.trigger("pagecontainercreate");a.mobile.showPageLoadingMsg();!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?
a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):c.trigger("hashchange",[true])}});a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&!a.mobile.touchOverflowZoomEnabled&&e();a.mobile._registerInternalEvents();a(function(){d.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||a(d).scrollTop()===1?0:1;a.mobile.autoInitializePage&&a.mobile.initializePage();c.load(a.mobile.silentScroll)})}})(jQuery,this);steal.loaded("webapp/lib/jquery.mobile.js");
var FlashDetect=new (function(){var a=this;a.installed=false;a.raw="";a.major=-1;a.minor=-1;a.revision=-1;a.revisionStr="";var d=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(h){return e(h)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(h){var u="6,0,21";try{h.AllowScriptAccess="always";u=e(h)}catch(o){}return u}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(h){return e(h)}}],e=function(h){var u=-1;try{u=h.GetVariable("$version")}catch(o){}return u},f=function(h){var u=
-1;try{u=new ActiveXObject(h)}catch(o){u={activeXError:true}}return u},c=function(h){var u=h.split(",");return{raw:h,major:parseInt(u[0].split(" ")[1],10),minor:parseInt(u[1],10),revision:parseInt(u[2],10),revisionStr:u[2]}},k=function(h){var u=h.split(/ +/),o=u[2].split(/\./);u=u[3];return{raw:h,major:parseInt(o[0],10),minor:parseInt(o[1],10),revisionStr:u,revision:n(u)}},n=function(h){return parseInt(h.replace(/[a-zA-Z]/g,""),10)||a.revision};a.majorAtLeast=function(h){return a.major>=h};a.minorAtLeast=
function(h){return a.minor>=h};a.revisionAtLeast=function(h){return a.revision>=h};a.versionAtLeast=function(){var h=[a.major,a.minor,a.revision],u=Math.min(h.length,arguments.length);for(i=0;i<u;i++)if(h[i]>=arguments[i]){if(!(i+1<u&&h[i]==arguments[i]))return true}else return false};a.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var h=navigator.mimeTypes;if(h&&h["application/x-shockwave-flash"]&&h["application/x-shockwave-flash"].enabledPlugin&&h["application/x-shockwave-flash"].enabledPlugin.description){h=
h["application/x-shockwave-flash"].enabledPlugin.description;var u=k(h);a.raw=u.raw;a.major=u.major;a.minor=u.minor;a.revisionStr=u.revisionStr;a.revision=u.revision;a.installed=true}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){h=-1;for(var o=0;o<d.length&&h==-1;o++){u=f(d[o].name);if(!u.activeXError){a.installed=true;h=d[o].version(u);if(h!=-1){u=c(h);a.raw=u.raw;a.major=u.major;a.minor=u.minor;a.revision=u.revision;a.revisionStr=u.revisionStr}}}}}()});
FlashDetect.JS_RELEASE="1.0.4";steal.loaded("webapp/lib/flash_detect_min.js");
(function(a,d){function e(c,k){var n=c.nodeName.toLowerCase();if("area"===n){k=c.parentNode;n=k.name;if(!c.href||!n||k.nodeName.toLowerCase()!=="map")return false;c=a("img[usemap=#"+n+"]")[0];return!!c&&f(c)}return(/input|select|textarea|button|object/.test(n)?!c.disabled:"a"==n?c.href||k:k)&&f(c)}function f(c){return!a(c).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.16",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(c,k){return typeof c==="number"?this.each(function(){var n=
this;setTimeout(function(){a(n).focus();k&&k.call(n)},c)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,
"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?a(document):c},zIndex:function(c){if(c!==d)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var k;c.length&&c[0]!==document;){k=c.css("position");if(k==="absolute"||k==="relative"||k==="fixed"){k=parseInt(c.css("zIndex"),10);if(!isNaN(k)&&k!==0)return k}c=c.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(c,k){function n(w,A,B,I){a.each(h,function(){A-=parseFloat(a.curCSS(w,"padding"+this,true))||0;if(B)A-=parseFloat(a.curCSS(w,"border"+this+"Width",true))||0;if(I)A-=parseFloat(a.curCSS(w,"margin"+this,true))||0});return A}var h=k==="Width"?["Left","Right"]:["Top","Bottom"],u=k.toLowerCase(),o={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,
outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+k]=function(w){if(w===d)return o["inner"+k].call(this);return this.each(function(){a(this).css(u,n(this,w)+"px")})};a.fn["outer"+k]=function(w,A){if(typeof w!=="number")return o["outer"+k].call(this,w);return this.each(function(){a(this).css(u,n(this,w,true,A)+"px")})}});a.extend(a.expr[":"],{data:function(c,k,n){return!!a.data(c,n[3])},focusable:function(c){return e(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var k=a.attr(c,
"tabindex"),n=isNaN(k);return(n||k>=0)&&e(c,!n)}});a(function(){var c=document.body,k=c.appendChild(k=document.createElement("div"));a.extend(k.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=k.offsetHeight===100;a.support.selectstart="onselectstart"in k;c.removeChild(k).style.display="none"});a.extend(a.ui,{plugin:{add:function(c,k,n){c=a.ui[c].prototype;for(var h in n){c.plugins[h]=c.plugins[h]||[];c.plugins[h].push([k,n[h]])}},call:function(c,k,n){if((k=c.plugins[k])&&
c.element[0].parentNode)for(var h=0;h<k.length;h++)c.options[k[h][0]]&&k[h][1].apply(c.element,n)}},contains:function(c,k){return document.compareDocumentPosition?c.compareDocumentPosition(k)&16:c!==k&&c.contains(k)},hasScroll:function(c,k){if(a(c).css("overflow")==="hidden")return false;k=k&&k==="left"?"scrollLeft":"scrollTop";var n=false;if(c[k]>0)return true;c[k]=1;n=c[k]>0;c[k]=0;return n},isOverAxis:function(c,k,n){return c>k&&c<k+n},isOver:function(c,k,n,h,u,o){return a.ui.isOverAxis(c,n,u)&&
a.ui.isOverAxis(k,h,o)}})}})(jQuery);
(function(a,d){if(a.cleanData){var e=a.cleanData;a.cleanData=function(c){for(var k=0,n;(n=c[k])!=null;k++)try{a(n).triggerHandler("remove")}catch(h){}e(c)}}else{var f=a.fn.remove;a.fn.remove=function(c,k){return this.each(function(){if(!k)if(!c||a.filter(c,[this]).length)a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(n){}});return f.call(a(this),c,k)})}}a.widget=function(c,k,n){var h=c.split(".")[0],u;c=c.split(".")[1];u=h+"-"+c;if(!n){n=k;k=a.Widget}a.expr[":"][u]=
function(o){return!!a.data(o,c)};a[h]=a[h]||{};a[h][c]=function(o,w){arguments.length&&this._createWidget(o,w)};k=new k;k.options=a.extend(true,{},k.options);a[h][c].prototype=a.extend(true,k,{namespace:h,widgetName:c,widgetEventPrefix:a[h][c].prototype.widgetEventPrefix||c,widgetBaseClass:u},n);a.widget.bridge(c,a[h][c])};a.widget.bridge=function(c,k){a.fn[c]=function(n){var h=typeof n==="string",u=Array.prototype.slice.call(arguments,1),o=this;n=!h&&u.length?a.extend.apply(null,[true,n].concat(u)):
n;if(h&&n.charAt(0)==="_")return o;h?this.each(function(){var w=a.data(this,c),A=w&&a.isFunction(w[n])?w[n].apply(w,u):w;if(A!==w&&A!==d){o=A;return false}}):this.each(function(){var w=a.data(this,c);w?w.option(n||{})._init():a.data(this,c,new k(n,this))});return o}};a.Widget=function(c,k){arguments.length&&this._createWidget(c,k)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(c,k){a.data(k,this.widgetName,this);this.element=a(k);this.options=
a.extend(true,{},this.options,this._getCreateOptions(),c);var n=this;this.element.bind("remove."+this.widgetName,function(){n.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,k){var n=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c==="string"){if(k===d)return this.options[c];n={};n[c]=k}this._setOptions(n);return this},_setOptions:function(c){var k=this;a.each(c,function(n,h){k._setOption(n,h)});return this},_setOption:function(c,k){this.options[c]=k;if(c==="disabled")this.widget()[k?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
k);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(c,k,n){var h=this.options[c];k=a.Event(k);k.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();n=n||{};if(k.originalEvent){c=a.event.props.length;for(var u;c;){u=a.event.props[--c];k[u]=k.originalEvent[u]}}this.element.trigger(k,n);return!(a.isFunction(h)&&h.call(this.element[0],k,n)===false||k.isDefaultPrevented())}}})(jQuery);
(function(a){var d=false;a(document).mouseup(function(){d=false});a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(f){return e._mouseDown(f)}).bind("click."+this.widgetName,function(f){if(true===a.data(f.target,e.widgetName+".preventClickEvent")){a.removeData(f.target,e.widgetName+".preventClickEvent");f.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(e){if(!d){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var f=this,c=e.which==1,k=typeof this.options.cancel=="string"&&e.target.nodeName?a(e.target).closest(this.options.cancel).length:false;if(!c||k||!this._mouseCapture(e))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=
this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();return true}}true===a.data(e.target,this.widgetName+".preventClickEvent")&&a.removeData(e.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(n){return f._mouseMove(n)};this._mouseUpDelegate=function(n){return f._mouseUp(n)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();return d=true}},_mouseMove:function(e){if(a.browser.msie&&
!(document.documentMode>=9)&&!e.button)return this._mouseUp(e);if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false)?this._mouseDrag(e):this._mouseUp(e);return!this._mouseStarted},_mouseUp:function(e){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=
false;e.target==this._mouseDownEvent.target&&a.data(e.target,this.widgetName+".preventClickEvent",true);this._mouseStop(e)}return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(d){var e=
this.options;if(this.helper||e.disabled||a(d.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(d);if(!this.handle)return false;if(e.iframeFix)a(e.iframeFix===true?"iframe":e.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(d){var e=this.options;
this.helper=this._createHelper(d);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});
this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);e.containment&&this._setContainment();if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(d,true);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,d);return true},
_mouseDrag:function(d,e){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!e){e=this._uiHash();if(this._trigger("drag",d,e)===false){this._mouseUp({});return false}this.position=e.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,d);return false},_mouseStop:function(d){var e=
false;if(a.ui.ddmanager&&!this.options.dropBehaviour)e=a.ui.ddmanager.drop(this,d);if(this.dropped){e=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!e||this.options.revert=="valid"&&e||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,
10),function(){f._trigger("stop",d)!==false&&f._clear()})}else this._trigger("stop",d)!==false&&this._clear();return false},_mouseUp:function(d){this.options.iframeFix===true&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,d);return a.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(d){var e=!this.options.handle||
!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==d.target)e=true});return e},_createHelper:function(d){var e=this.options;d=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):e.helper=="clone"?this.element.clone().removeAttr("id"):this.element;d.parents("body").length||d.appendTo(e.appendTo=="parent"?this.element[0].parentNode:e.appendTo);d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&
d.css("position","absolute");return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string")d=d.split(" ");if(a.isArray(d))d={left:+d[0],top:+d[1]||0};if("left"in d)this.offset.click.left=d.left+this.margins.left;if("right"in d)this.offset.click.left=this.helperProportions.width-d.right+this.margins.left;if("top"in d)this.offset.click.top=d.top+this.margins.top;if("bottom"in d)this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d={top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.element.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;if(d.containment=="parent")d.containment=this.helper[0].parentNode;if(d.containment=="document"||d.containment=="window")this.containment=[d.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,
(d.containment=="document"?0:a(window).scrollLeft())+a(d.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d.containment=="document"?0:a(window).scrollTop())+(a(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(d.containment)&&d.containment.constructor!=Array){d=a(d.containment);var e=d[0];if(e){d.offset();var f=a(e).css("overflow")!=
"hidden";this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(f?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),
10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=d}}else if(d.containment.constructor==Array)this.containment=d.containment},_convertPositionTo:function(d,e){if(!e)e=this.position;d=d=="absolute"?1:-1;var f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(f[0].tagName);return{top:e.top+
this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:f.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:f.scrollLeft())*d)}},_generatePosition:function(d){var e=this.options,f=this.cssPosition=="absolute"&&
!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(f[0].tagName),k=d.pageX,n=d.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){h=this.relative_container.offset();h=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]}else h=this.containment;if(d.pageX-this.offset.click.left<h[0])k=h[0]+this.offset.click.left;
if(d.pageY-this.offset.click.top<h[1])n=h[1]+this.offset.click.top;if(d.pageX-this.offset.click.left>h[2])k=h[2]+this.offset.click.left;if(d.pageY-this.offset.click.top>h[3])n=h[3]+this.offset.click.top}if(e.grid){n=e.grid[1]?this.originalPageY+Math.round((n-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;n=h?!(n-this.offset.click.top<h[1]||n-this.offset.click.top>h[3])?n:!(n-this.offset.click.top<h[1])?n-e.grid[1]:n+e.grid[1]:n;k=e.grid[0]?this.originalPageX+Math.round((k-this.originalPageX)/
e.grid[0])*e.grid[0]:this.originalPageX;k=h?!(k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2])?k:!(k-this.offset.click.left<h[0])?k-e.grid[0]:k+e.grid[0]:k}}return{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:f.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<
526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:f.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(d,e,f){f=f||this._uiHash();a.ui.plugin.call(this,d,[e,f]);if(d=="drag")this.positionAbs=this._convertPositionTo("absolute");return a.Widget.prototype._trigger.call(this,d,e,
f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.16"});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,e){var f=a(this).data("draggable"),c=f.options,k=a.extend({},e,{item:f.element});f.sortables=[];a(c.connectToSortable).each(function(){var n=a.data(this,"sortable");if(n&&!n.options.disabled){f.sortables.push({instance:n,shouldRevert:n.options.revert});
n.refreshPositions();n._trigger("activate",d,k)}})},stop:function(d,e){var f=a(this).data("draggable"),c=a.extend({},e,{item:f.element});a.each(f.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;f.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;f.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=
false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,e){var f=a(this).data("draggable"),c=this;a.each(f.sortables,function(){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);
this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return e.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;
f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}this.instance.currentItem&&this.instance._mouseDrag(d)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&
this.instance.placeholder.remove();f._trigger("fromSortable",d);f.dropped=false}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var d=a("body"),e=a(this).data("draggable").options;if(d.css("cursor"))e._cursor=d.css("cursor");d.css("cursor",e.cursor)},stop:function(){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){d=a(e.helper);e=a(this).data("draggable").options;if(d.css("opacity"))e._opacity=
d.css("opacity");d.css("opacity",e.opacity)},stop:function(d,e){d=a(this).data("draggable").options;d._opacity&&a(e.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var d=a(this).data("draggable");if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML")d.overflowOffset=d.scrollParent.offset()},drag:function(d){var e=a(this).data("draggable"),f=e.options,c=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!=
"x")if(e.overflowOffset.top+e.scrollParent[0].offsetHeight-d.pageY<f.scrollSensitivity)e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop+f.scrollSpeed;else if(d.pageY-e.overflowOffset.top<f.scrollSensitivity)e.scrollParent[0].scrollTop=c=e.scrollParent[0].scrollTop-f.scrollSpeed;if(!f.axis||f.axis!="y")if(e.overflowOffset.left+e.scrollParent[0].offsetWidth-d.pageX<f.scrollSensitivity)e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft+f.scrollSpeed;else if(d.pageX-e.overflowOffset.left<
f.scrollSensitivity)e.scrollParent[0].scrollLeft=c=e.scrollParent[0].scrollLeft-f.scrollSpeed}else{if(!f.axis||f.axis!="x")if(d.pageY-a(document).scrollTop()<f.scrollSensitivity)c=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed);else if(a(window).height()-(d.pageY-a(document).scrollTop())<f.scrollSensitivity)c=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed);if(!f.axis||f.axis!="y")if(d.pageX-a(document).scrollLeft()<f.scrollSensitivity)c=a(document).scrollLeft(a(document).scrollLeft()-
f.scrollSpeed);else if(a(window).width()-(d.pageX-a(document).scrollLeft())<f.scrollSensitivity)c=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}c!==false&&a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(e,d)}});a.ui.plugin.add("draggable","snap",{start:function(){var d=a(this).data("draggable"),e=d.options;d.snapElements=[];a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var f=a(this),c=f.offset();this!=d.element[0]&&d.snapElements.push({item:this,
width:f.outerWidth(),height:f.outerHeight(),top:c.top,left:c.left})})},drag:function(d,e){for(var f=a(this).data("draggable"),c=f.options,k=c.snapTolerance,n=e.offset.left,h=n+f.helperProportions.width,u=e.offset.top,o=u+f.helperProportions.height,w=f.snapElements.length-1;w>=0;w--){var A=f.snapElements[w].left,B=A+f.snapElements[w].width,I=f.snapElements[w].top,D=I+f.snapElements[w].height;if(A-k<n&&n<B+k&&I-k<u&&u<D+k||A-k<n&&n<B+k&&I-k<o&&o<D+k||A-k<h&&h<B+k&&I-k<u&&u<D+k||A-k<h&&h<B+k&&I-k<o&&
o<D+k){if(c.snapMode!="inner"){var O=Math.abs(I-o)<=k,G=Math.abs(D-u)<=k,y=Math.abs(A-h)<=k,F=Math.abs(B-n)<=k;if(O)e.position.top=f._convertPositionTo("relative",{top:I-f.helperProportions.height,left:0}).top-f.margins.top;if(G)e.position.top=f._convertPositionTo("relative",{top:D,left:0}).top-f.margins.top;if(y)e.position.left=f._convertPositionTo("relative",{top:0,left:A-f.helperProportions.width}).left-f.margins.left;if(F)e.position.left=f._convertPositionTo("relative",{top:0,left:B}).left-f.margins.left}var s=
O||G||y||F;if(c.snapMode!="outer"){O=Math.abs(I-u)<=k;G=Math.abs(D-o)<=k;y=Math.abs(A-n)<=k;F=Math.abs(B-h)<=k;if(O)e.position.top=f._convertPositionTo("relative",{top:I,left:0}).top-f.margins.top;if(G)e.position.top=f._convertPositionTo("relative",{top:D-f.helperProportions.height,left:0}).top-f.margins.top;if(y)e.position.left=f._convertPositionTo("relative",{top:0,left:A}).left-f.margins.left;if(F)e.position.left=f._convertPositionTo("relative",{top:0,left:B-f.helperProportions.width}).left-f.margins.left}if(!f.snapElements[w].snapping&&
(O||G||y||F||s))f.options.snap.snap&&f.options.snap.snap.call(f.element,d,a.extend(f._uiHash(),{snapItem:f.snapElements[w].item}));f.snapElements[w].snapping=O||G||y||F||s}else{f.snapElements[w].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,d,a.extend(f._uiHash(),{snapItem:f.snapElements[w].item}));f.snapElements[w].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var d=a(this).data("draggable").options;d=a.makeArray(a(d.stack)).sort(function(f,c){return(parseInt(a(f).css("zIndex"),
10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(d.length){var e=parseInt(d[0].style.zIndex)||0;a(d).each(function(f){this.style.zIndex=e+f});this[0].style.zIndex=e+d.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){d=a(e.helper);e=a(this).data("draggable").options;if(d.css("zIndex"))e._zIndex=d.css("zIndex");d.css("zIndex",e.zIndex)},stop:function(d,e){d=a(this).data("draggable").options;d._zIndex&&a(e.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,e=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(e)?e:function(f){return f.is(e)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);
d.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var d=a.ui.ddmanager.droppables[this.options.scope],e=0;e<d.length;e++)d[e]==this&&d.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(d,e){if(d=="accept")this.accept=a.isFunction(e)?e:function(f){return f.is(e)};a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var e=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);e&&this._trigger("activate",d,this.ui(e))},_deactivate:function(d){var e=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);e&&this._trigger("deactivate",d,this.ui(e))},_over:function(d){var e=a.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",d,this.ui(e))}},_out:function(d){var e=a.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",d,this.ui(e))}},_drop:function(d,e){var f=e||a.ui.ddmanager.current;if(!f||(f.currentItem||f.element)[0]==this.element[0])return false;var c=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var k=
a.data(this,"droppable");if(k.options.greedy&&!k.options.disabled&&k.options.scope==f.options.scope&&k.accept.call(k.element[0],f.currentItem||f.element)&&a.ui.intersect(f,a.extend(k,{offset:k.element.offset()}),k.options.tolerance)){c=true;return false}});if(c)return false;if(this.accept.call(this.element[0],f.currentItem||f.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
d,this.ui(f));return this.element}return false},ui:function(d){return{draggable:d.currentItem||d.element,helper:d.helper,position:d.position,offset:d.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.16"});a.ui.intersect=function(d,e,f){if(!e.offset)return false;var c=(d.positionAbs||d.position.absolute).left,k=c+d.helperProportions.width,n=(d.positionAbs||d.position.absolute).top,h=n+d.helperProportions.height,u=e.offset.left,o=u+e.proportions.width,w=e.offset.top,A=w+e.proportions.height;switch(f){case "fit":return u<=
c&&k<=o&&w<=n&&h<=A;case "intersect":return u<c+d.helperProportions.width/2&&k-d.helperProportions.width/2<o&&w<n+d.helperProportions.height/2&&h-d.helperProportions.height/2<A;case "pointer":return a.ui.isOver((d.positionAbs||d.position.absolute).top+(d.clickOffset||d.offset.click).top,(d.positionAbs||d.position.absolute).left+(d.clickOffset||d.offset.click).left,w,u,e.proportions.height,e.proportions.width);case "touch":return(n>=w&&n<=A||h>=w&&h<=A||n<w&&h>A)&&(c>=u&&c<=o||k>=u&&k<=o||c<u&&k>o);
default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(d,e){var f=a.ui.ddmanager.droppables[d.options.scope]||[],c=e?e.type:null,k=(d.currentItem||d.element).find(":data(droppable)").andSelf(),n=0;a:for(;n<f.length;n++)if(!(f[n].options.disabled||d&&!f[n].accept.call(f[n].element[0],d.currentItem||d.element))){for(var h=0;h<k.length;h++)if(k[h]==f[n].element[0]){f[n].proportions.height=0;continue a}f[n].visible=f[n].element.css("display")!="none";if(f[n].visible){c==
"mousedown"&&f[n]._activate.call(f[n],e);f[n].offset=f[n].element.offset();f[n].proportions={width:f[n].element[0].offsetWidth,height:f[n].element[0].offsetHeight}}}},drop:function(d,e){var f=false;a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(d,this,this.options.tolerance))f=f||this._drop.call(this,e);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)){this.isout=
1;this.isover=0;this._deactivate.call(this,e)}}});return f},dragStart:function(d,e){d.element.parents(":not(body,html)").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,e)})},drag:function(d,e){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,e);a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var f=a.ui.intersect(d,this,this.options.tolerance);if(f=!f&&this.isover==
1?"isout":f&&this.isover==0?"isover":null){var c;if(this.options.greedy){var k=this.element.parents(":data(droppable):eq(0)");if(k.length){c=a.data(k[0],"droppable");c.greedyChild=f=="isover"?1:0}}if(c&&f=="isover"){c.isover=0;c.isout=1;c._out.call(c,e)}this[f]=1;this[f=="isout"?"isover":"isout"]=0;this[f=="isover"?"_over":"_out"].call(this,e);if(c&&f=="isout"){c.isout=0;c.isover=1;c._over.call(c,e)}}}})},dragStop:function(d,e){d.element.parents(":not(body,html)").unbind("scroll.droppable");d.options.refreshPositions||
a.ui.ddmanager.prepareOffsets(d,e)}}})(jQuery);
(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var d=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?d.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--)this.items[d].item.removeData("sortable-item");return this},_setOption:function(d,e){if(d===
"disabled"){this.options[d]=e;this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")}else a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(d,e){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(d);var f=null,c=this;a(d.target).parents().each(function(){if(a.data(this,"sortable-item")==c){f=a(this);return false}});if(a.data(d.target,"sortable-item")==c)f=a(d.target);if(!f)return false;if(this.options.handle&&
!e){var k=false;a(this.options.handle,f).find("*").andSelf().each(function(){if(this==d.target)k=true});if(!k)return false}this.currentItem=f;this._removeCurrentsFromItems();return true},_mouseStart:function(d,e,f){e=this.options;var c=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(d);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,
left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};
this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();e.containment&&this._setContainment();if(e.cursor){if(a("body").css("cursor"))this._storedCursor=a("body").css("cursor");a("body").css("cursor",e.cursor)}if(e.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",e.opacity)}if(e.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",e.zIndex)}if(this.scrollParent[0]!=
document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",d,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!f)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",d,c._uiHash(this));if(a.ui.ddmanager)a.ui.ddmanager.current=this;a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(d);
return true},_mouseDrag:function(d){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var e=this.options,f=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-d.pageY<e.scrollSensitivity)this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+e.scrollSpeed;else if(d.pageY-this.overflowOffset.top<
e.scrollSensitivity)this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-e.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-d.pageX<e.scrollSensitivity)this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+e.scrollSpeed;else if(d.pageX-this.overflowOffset.left<e.scrollSensitivity)this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-e.scrollSpeed}else{if(d.pageY-a(document).scrollTop()<e.scrollSensitivity)f=a(document).scrollTop(a(document).scrollTop()-
e.scrollSpeed);else if(a(window).height()-(d.pageY-a(document).scrollTop())<e.scrollSensitivity)f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed);if(d.pageX-a(document).scrollLeft()<e.scrollSensitivity)f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed);else if(a(window).width()-(d.pageX-a(document).scrollLeft())<e.scrollSensitivity)f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed)}f!==false&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,
d)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(e=this.items.length-1;e>=0;e--){f=this.items[e];var c=f.item[0],k=this._intersectsWithPointer(f);if(k)if(c!=this.currentItem[0]&&this.placeholder[k==1?"next":"prev"]()[0]!=c&&!a.ui.contains(this.placeholder[0],c)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],
c):true)){this.direction=k==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f))this._rearrange(d,f);else break;this._trigger("change",d,this._uiHash());break}}this._contactContainers(d);a.ui.ddmanager&&a.ui.ddmanager.drag(this,d);this._trigger("sort",d,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(d,e){if(d){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,d);if(this.options.revert){var f=this;e=f.placeholder.offset();
f.reverting=true;a(this.helper).animate({left:e.left-this.offset.parent.left-f.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-f.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(d)})}else this._clear(d,e);return false}},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):
this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,d._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,d._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,
dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(d){var e=this._getItemsAsjQuery(d&&d.connected),f=[];d=d||{};a(e).each(function(){var c=(a(d.item||this).attr(d.attribute||"id")||"").match(d.expression||/(.+)[-=_](.+)/);if(c)f.push((d.key||c[1]+"[]")+"="+(d.key&&d.expression?c[1]:c[2]))});!f.length&&d.key&&f.push(d.key+"=");return f.join("&")},
toArray:function(d){var e=this._getItemsAsjQuery(d&&d.connected),f=[];d=d||{};e.each(function(){f.push(a(d.item||this).attr(d.attribute||"id")||"")});return f},_intersectsWith:function(d){var e=this.positionAbs.left,f=e+this.helperProportions.width,c=this.positionAbs.top,k=c+this.helperProportions.height,n=d.left,h=n+d.width,u=d.top,o=u+d.height,w=this.offset.click.top,A=this.offset.click.left;w=c+w>u&&c+w<o&&e+A>n&&e+A<h;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||
this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>d[this.floating?"width":"height"]?w:n<e+this.helperProportions.width/2&&f-this.helperProportions.width/2<h&&u<c+this.helperProportions.height/2&&k-this.helperProportions.height/2<o},_intersectsWithPointer:function(d){var e=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,d.height);d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width);e=e&&d;d=this._getDragVerticalDirection();
var f=this._getDragHorizontalDirection();if(!e)return false;return this.floating?f&&f=="right"||d=="down"?2:1:d&&(d=="down"?2:1)},_intersectsWithSides:function(d){var e=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top+d.height/2,d.height);d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left+d.width/2,d.width);var f=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return this.floating&&c?c=="right"&&d||c=="left"&&!d:f&&(f=="down"&&e||f=="up"&&!e)},
_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return d!=0&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return d!=0&&(d>0?"right":"left")},refresh:function(d){this._refreshItems(d);this.refreshPositions();return this},_connectWith:function(){var d=this.options;return d.connectWith.constructor==String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(d){var e=[],f=[],c=this._connectWith();
if(c&&d)for(d=c.length-1;d>=0;d--)for(var k=a(c[d]),n=k.length-1;n>=0;n--){var h=a.data(k[n],"sortable");if(h&&h!=this&&!h.options.disabled)f.push([a.isFunction(h.options.items)?h.options.items.call(h.element):a(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}f.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(d=f.length-1;d>=0;d--)f[d][0].each(function(){e.push(this)});return a(e)},_removeCurrentsFromItems:function(){for(var d=this.currentItem.find(":data(sortable-item)"),e=0;e<this.items.length;e++)for(var f=0;f<d.length;f++)d[f]==this.items[e].item[0]&&this.items.splice(e,1)},_refreshItems:function(d){this.items=[];this.containers=[this];var e=this.items,f=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],d,{item:this.currentItem}):a(this.options.items,this.element),
this]],c=this._connectWith();if(c)for(var k=c.length-1;k>=0;k--)for(var n=a(c[k]),h=n.length-1;h>=0;h--){var u=a.data(n[h],"sortable");if(u&&u!=this&&!u.options.disabled){f.push([a.isFunction(u.options.items)?u.options.items.call(u.element[0],d,{item:this.currentItem}):a(u.options.items,u.element),u]);this.containers.push(u)}}for(k=f.length-1;k>=0;k--){d=f[k][1];c=f[k][0];h=0;for(n=c.length;h<n;h++){u=a(c[h]);u.data("sortable-item",d);e.push({item:u,instance:d,width:0,height:0,left:0,top:0})}}},refreshPositions:function(d){if(this.offsetParent&&
this.helper)this.offset.parent=this._getParentOffset();for(var e=this.items.length-1;e>=0;e--){var f=this.items[e];if(!(f.instance!=this.currentContainer&&this.currentContainer&&f.item[0]!=this.currentItem[0])){var c=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item;if(!d){f.width=c.outerWidth();f.height=c.outerHeight()}c=c.offset();f.left=c.left;f.top=c.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=
this.containers.length-1;e>=0;e--){c=this.containers[e].element.offset();this.containers[e].containerCache.left=c.left;this.containers[e].containerCache.top=c.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}return this},_createPlaceholder:function(d){var e=d||this,f=e.options;if(!f.placeholder||f.placeholder.constructor==String){var c=f.placeholder;f.placeholder={element:function(){var k=
a(document.createElement(e.currentItem[0].nodeName)).addClass(c||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!c)k.style.visibility="hidden";return k},update:function(k,n){if(!(c&&!f.forcePlaceholderSize)){n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||
0,10))}}}}e.placeholder=a(f.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);f.placeholder.update(e,e.placeholder)},_contactContainers:function(d){for(var e=null,f=null,c=this.containers.length-1;c>=0;c--)if(!a.ui.contains(this.currentItem[0],this.containers[c].element[0]))if(this._intersectsWith(this.containers[c].containerCache)){if(!(e&&a.ui.contains(this.containers[c].element[0],e.element[0]))){e=this.containers[c];f=c}}else if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",
d,this._uiHash(this));this.containers[c].containerCache.over=0}if(e)if(this.containers.length===1){this.containers[f]._trigger("over",d,this._uiHash(this));this.containers[f].containerCache.over=1}else if(this.currentContainer!=this.containers[f]){e=1E4;c=null;for(var k=this.positionAbs[this.containers[f].floating?"left":"top"],n=this.items.length-1;n>=0;n--)if(a.ui.contains(this.containers[f].element[0],this.items[n].item[0])){var h=this.items[n][this.containers[f].floating?"left":"top"];if(Math.abs(h-
k)<e){e=Math.abs(h-k);c=this.items[n]}}if(c||this.options.dropOnEmpty){this.currentContainer=this.containers[f];c?this._rearrange(d,c,null,true):this._rearrange(d,null,this.containers[f].element,true);this._trigger("change",d,this._uiHash());this.containers[f]._trigger("change",d,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[f]._trigger("over",d,this._uiHash(this));this.containers[f].containerCache.over=1}}},_createHelper:function(d){var e=
this.options;d=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d,this.currentItem])):e.helper=="clone"?this.currentItem.clone():this.currentItem;d.parents("body").length||a(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]);if(d[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(d[0].style.width==
""||e.forceHelperSize)d.width(this.currentItem.width());if(d[0].style.height==""||e.forceHelperSize)d.height(this.currentItem.height());return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string")d=d.split(" ");if(a.isArray(d))d={left:+d[0],top:+d[1]||0};if("left"in d)this.offset.click.left=d.left+this.margins.left;if("right"in d)this.offset.click.left=this.helperProportions.width-d.right+this.margins.left;if("top"in d)this.offset.click.top=d.top+this.margins.top;if("bottom"in d)this.offset.click.top=
this.helperProportions.height-d.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)d=
{top:0,left:0};return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),
10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;if(d.containment=="parent")d.containment=this.helper[0].parentNode;if(d.containment=="document"||d.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(d.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,(a(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(d.containment)){var e=a(d.containment)[0];d=a(d.containment).offset();var f=a(e).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(e).css("borderTopWidth"),
10)||0)+(parseInt(a(e).css("paddingTop"),10)||0)-this.margins.top,d.left+(f?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(f?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,e){if(!e)e=
this.position;d=d=="absolute"?1:-1;var f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(f[0].tagName);return{top:e.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:f.scrollTop())*d),left:e.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&
this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:f.scrollLeft())*d)}},_generatePosition:function(d){var e=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,c=/(html|body)/i.test(f[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();
var k=d.pageX,n=d.pageY;if(this.originalPosition){if(this.containment){if(d.pageX-this.offset.click.left<this.containment[0])k=this.containment[0]+this.offset.click.left;if(d.pageY-this.offset.click.top<this.containment[1])n=this.containment[1]+this.offset.click.top;if(d.pageX-this.offset.click.left>this.containment[2])k=this.containment[2]+this.offset.click.left;if(d.pageY-this.offset.click.top>this.containment[3])n=this.containment[3]+this.offset.click.top}if(e.grid){n=this.originalPageY+Math.round((n-
this.originalPageY)/e.grid[1])*e.grid[1];n=this.containment?!(n-this.offset.click.top<this.containment[1]||n-this.offset.click.top>this.containment[3])?n:!(n-this.offset.click.top<this.containment[1])?n-e.grid[1]:n+e.grid[1]:n;k=this.originalPageX+Math.round((k-this.originalPageX)/e.grid[0])*e.grid[0];k=this.containment?!(k-this.offset.click.left<this.containment[0]||k-this.offset.click.left>this.containment[2])?k:!(k-this.offset.click.left<this.containment[0])?k-e.grid[0]:k+e.grid[0]:k}}return{top:n-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():c?0:f.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():c?0:f.scrollLeft())}},_rearrange:function(d,e,f,c){f?f[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],
this.direction=="down"?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var k=this,n=this.counter;window.setTimeout(function(){n==k.counter&&k.refreshPositions(!c)},0)},_clear:function(d,e){this.reverting=false;var f=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS)if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static")this._storedCSS[c]=
"";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&f.push(function(k){this._trigger("receive",k,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!e)f.push(function(k){this._trigger("update",k,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){e||f.push(function(k){this._trigger("remove",
k,this._uiHash())});for(c=this.containers.length-1;c>=0;c--)if(a.ui.contains(this.containers[c].element[0],this.currentItem[0])&&!e){f.push(function(k){return function(n){k._trigger("receive",n,this._uiHash(this))}}.call(this,this.containers[c]));f.push(function(k){return function(n){k._trigger("update",n,this._uiHash(this))}}.call(this,this.containers[c]))}}for(c=this.containers.length-1;c>=0;c--){e||f.push(function(k){return function(n){k._trigger("deactivate",n,this._uiHash(this))}}.call(this,
this.containers[c]));if(this.containers[c].containerCache.over){f.push(function(k){return function(n){k._trigger("out",n,this._uiHash(this))}}.call(this,this.containers[c]));this.containers[c].containerCache.over=0}}this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",
d,this._uiHash());for(c=0;c<f.length;c++)f[c].call(this,d);this._trigger("stop",d,this._uiHash())}return false}e||this._trigger("beforeStop",d,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!e){for(c=0;c<f.length;c++)f[c].call(this,d);this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},
_uiHash:function(d){var e=d||this;return{helper:e.helper,placeholder:e.placeholder||a([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:d?d.element:null}}});a.extend(a.ui.sortable,{version:"1.8.16"})})(jQuery);steal.loaded("webapp/lib/jquery-ui/jquery-ui-1.8.16.custom.min.js");var mejs=mejs||{};mejs.version="2.1.9";mejs.meIndex=0;
mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg"]}]};
mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var d=document.createElement("div");d.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>';return d.firstChild.href},getScriptPath:function(a){for(var d=0,e,f="",c="",k,n=document.getElementsByTagName("script");d<n.length;d++){k=n[d].src;for(e=0;e<a.length;e++){c=a[e];if(k.indexOf(c)>-1){f=k.substring(0,
k.indexOf(c));break}}if(f!=="")break}return f},secondsToTimeCode:function(a,d){if(a=="Infinity")a=0;a=Math.round(a);var e,f=Math.floor(a/60);if(f>=60){e=Math.floor(f/60);f%=60}e=e===undefined?"00":e>=10?e:"0"+e;f=f>=10?f:"0"+f;a=Math.floor(a%60);a=a>=10?a:"0"+a;return(e>0||d===true?e+":":"")+f+":"+a},timeCodeToSeconds:function(a){a=a.split(":");return a[0]*60*60+a[1]*60+parseFloat(a[2].replace(",","."))}};
mejs.PluginDetector={hasPluginVersion:function(a,d){a=this.plugins[a];d[1]=d[1]||0;d[2]=d[2]||0;return a[0]>d[0]||a[0]==d[0]&&a[1]>d[1]||a[0]==d[0]&&a[1]==d[1]&&a[2]>=d[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,d,e,f,c){this.plugins[a]=this.detectPlugin(d,e,f,c)},detectPlugin:function(a,d,e,f){var c=[0,0,0],k;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[a]=="object"){if((e=this.nav.plugins[a].description)&&!(typeof this.nav.mimeTypes!=
"undefined"&&this.nav.mimeTypes[d]&&!this.nav.mimeTypes[d].enabledPlugin)){c=e.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(a=0;a<c.length;a++)c[a]=parseInt(c[a].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(k=new ActiveXObject(e))c=f(k)}catch(n){}return c}};
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var d=[];if(a=a.GetVariable("$version")){a=a.split(" ")[1].split(",");d=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]}return d});
mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var d=[0,0,0,0],e=function(f,c,k,n){for(;f.isVersionSupported(c[0]+"."+c[1]+"."+c[2]+"."+c[3]);)c[k]+=n;c[k]-=n};e(a,d,0,1);e(a,d,1,1);e(a,d,2,1E4);e(a,d,2,1E3);e(a,d,2,100);e(a,d,2,10);e(a,d,2,1);e(a,d,3,1);return d});
mejs.MediaFeatures={init:function(){var a=mejs.PluginDetector.nav,d=mejs.PluginDetector.ua.toLowerCase(),e,f=["source","track","audio","video"];this.isiPad=d.match(/ipad/i)!==null;this.isiPhone=d.match(/iphone/i)!==null;this.isAndroid=d.match(/android/i)!==null;this.isBustedAndroid=d.match(/android 2\.[12]/)!==null;this.isIE=a.appName.toLowerCase().indexOf("microsoft")!=-1;this.isChrome=d.match(/chrome/gi)!==null;this.isFirefox=d.match(/firefox/gi)!==null;for(a=0;a<f.length;a++)e=document.createElement(f[a]);
this.hasNativeFullScreen=typeof e.webkitRequestFullScreen!=="undefined";if(this.isChrome)this.hasNativeFullScreen=false;if(this.hasNativeFullScreen&&d.match(/mac os x 10_5/i))this.hasNativeFullScreen=false}};mejs.MediaFeatures.init();
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){if(typeof a=="string")this.src=a;else{var d,e;for(d=0;d<a.length;d++){e=a[d];if(this.canPlayType(e.type))this.src=e.src}}},setVideoSize:function(a,d){this.width=a;this.height=d}};mejs.PluginMediaElement=function(a,d,e){this.id=a;this.pluginType=d;this.src=e;this.events={}};
mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginApi.loadMedia();this.paused=false}},pause:function(){if(this.pluginApi!=null){this.pluginApi.pauseMedia();this.paused=
true}},stop:function(){if(this.pluginApi!=null){this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(a){var d,e,f,c=mejs.plugins[this.pluginType];for(d=0;d<c.length;d++){f=c[d];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,f.version))for(e=0;e<f.types.length;e++)if(a==f.types[e])return true}return false},setSrc:function(a){if(typeof a=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var d,e;for(d=0;d<a.length;d++){e=
a[d];if(this.canPlayType(e.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e.src));this.src=mejs.Utility.absolutizeUrl(a)}}}},setCurrentTime:function(a){if(this.pluginApi!=null){this.pluginApi.setCurrentTime(a);this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){this.pluginApi.setVolume(a);this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){this.pluginApi.setMuted(a);this.muted=a}},setVideoSize:function(a,d){if(this.pluginElement.style){this.pluginElement.style.width=
a+"px";this.pluginElement.style.height=d+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize(a,d)},setFullscreen:function(a){this.pluginApi!=null&&this.pluginApi.setFullscreen(a)},addEventListener:function(a,d){this.events[a]=this.events[a]||[];this.events[a].push(d)},removeEventListener:function(a,d){if(!a){this.events={};return true}var e=this.events[a];if(!e)return true;if(!d){this.events[a]=[];return true}for(i=0;i<e.length;i++)if(e[i]===d){this.events[a].splice(i,1);return true}return false},
dispatchEvent:function(a){var d,e,f=this.events[a];if(f){e=Array.prototype.slice.call(arguments,1);for(d=0;d<f.length;d++)f[d].apply(null,e)}}};
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,d,e){this.pluginMediaElements[a]=d;this.htmlMediaElements[a]=e},initPlugin:function(a){var d=this.pluginMediaElements[a],e=this.htmlMediaElements[a];switch(d.pluginType){case "flash":d.pluginElement=d.pluginApi=document.getElementById(a);break;case "silverlight":d.pluginElement=document.getElementById(d.id);d.pluginApi=d.pluginElement.Content.MediaElementJS;break}d.pluginApi!=null&&d.success&&d.success(d,
e)},fireEvent:function(a,d,e){var f,c;a=this.pluginMediaElements[a];a.ended=false;a.paused=true;d={type:d,target:a};for(f in e){a[f]=e[f];d[f]=e[f]}c=e.bufferedTime||0;d.target.buffered=d.buffered={start:function(){return 0},end:function(){return c},length:1};a.dispatchEvent(d.type,d)}};
mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,timerRate:250,success:function(){},error:function(){}};
mejs.MediaElement=function(a,d){return mejs.HtmlMediaElementShim.create(a,d)};
mejs.HtmlMediaElementShim={create:function(a,d){var e=mejs.MediaElementDefaults,f=typeof a=="string"?document.getElementById(a):a;a=f.tagName.toLowerCase()=="video";var c=typeof f.canPlayType!="undefined",k={method:"",url:""},n=f.getAttribute("poster"),h=f.getAttribute("autoplay"),u=f.getAttribute("preload"),o=f.getAttribute("controls"),w;for(w in d)e[w]=d[w];n=typeof n=="undefined"||n===null?"":n;u=typeof u=="undefined"||u===null||u==="false"?"none":u;h=!(typeof h=="undefined"||h===null||h==="false");
o=!(typeof o=="undefined"||o===null||o==="false");k=this.determinePlayback(f,e,a,c);if(k.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){f.src=k.url;f.addEventListener("click",function(){f.play()},true)}return this.updateNative(f,e,h,u,k)}else if(k.method!=="")return this.createPlugin(f,e,a,k.method,k.url!==null?mejs.Utility.absolutizeUrl(k.url):"",n,h,u,o);else this.createErrorMessage(f,e,k.url!==null?mejs.Utility.absolutizeUrl(k.url):"",n)},determinePlayback:function(a,d,e,f){var c=[],
k,n,h={method:"",url:""},u=a.getAttribute("src"),o,w;if(u=="undefined"||u==""||u===null)u=null;if(typeof d.type!="undefined"&&d.type!=="")c.push({type:d.type,url:u});else if(u!==null){n=this.checkType(u,a.getAttribute("type"),e);c.push({type:n,url:u})}else for(k=0;k<a.childNodes.length;k++){n=a.childNodes[k];if(n.nodeType==1&&n.tagName.toLowerCase()=="source"){u=n.getAttribute("src");n=this.checkType(u,n.getAttribute("type"),e);c.push({type:n,url:u})}}if(mejs.MediaFeatures.isBustedAndroid)a.canPlayType=
function(A){return A.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(f&&(d.mode==="auto"||d.mode==="native"))for(k=0;k<c.length;k++)if(a.canPlayType(c[k].type).replace(/no/,"")!==""||a.canPlayType(c[k].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){h.method="native";h.url=c[k].url;return h}if(d.mode==="auto"||d.mode==="shim")for(k=0;k<c.length;k++){n=c[k].type;for(a=0;a<d.plugins.length;a++){u=d.plugins[a];o=mejs.plugins[u];for(e=0;e<o.length;e++){w=o[e];if(mejs.PluginDetector.hasPluginVersion(u,
w.version))for(f=0;f<w.types.length;f++)if(n==w.types[f]){h.method=u;h.url=c[k].url;return h}}}}if(h.method==="")h.url=c[0].url;return h},checkType:function(a,d,e){if(a&&!d){a=a.substring(a.lastIndexOf(".")+1);return(e?"video":"audio")+"/"+a}else return d&&~d.indexOf(";")?d.substr(0,d.indexOf(";")):d},createErrorMessage:function(a,d,e,f){var c=document.createElement("div");c.className="me-cannotplay";try{c.style.width=a.width+"px";c.style.height=a.height+"px"}catch(k){}c.innerHTML=f!==""?'<a href="'+
e+'" target="_blank"><img src="'+f+'" /></a>':'<a href="'+e+'" target="_blank"><span>Download File</span></a>';a.parentNode.insertBefore(c,a);a.style.display="none";d.error(a)},createPlugin:function(a,d,e,f,c,k,n,h,u){var o=k=1,w="me_"+f+"_"+mejs.meIndex++,A=new mejs.PluginMediaElement(w,f,c),B=document.createElement("div"),I;for(I=a.parentNode;I!==null&&I.tagName.toLowerCase()!="body";){if(I.parentNode.tagName.toLowerCase()=="p"){I.parentNode.parentNode.insertBefore(I,I.parentNode);break}I=I.parentNode}if(e){k=
d.videoWidth>0?d.videoWidth:a.getAttribute("width")!==null?a.getAttribute("width"):d.defaultVideoWidth;o=d.videoHeight>0?d.videoHeight:a.getAttribute("height")!==null?a.getAttribute("height"):d.defaultVideoHeight}else if(d.enablePluginDebug){k=320;o=240}A.success=d.success;mejs.MediaPluginBridge.registerPluginElement(w,A,a);B.className="me-plugin";a.parentNode.insertBefore(B,a);e=["id="+w,"isvideo="+(e?"true":"false"),"autoplay="+(n?"true":"false"),"preload="+h,"width="+k,"startvolume="+d.startVolume,
"timerrate="+d.timerRate,"height="+o];if(c!==null)f=="flash"?e.push("file="+mejs.Utility.encodeUrl(c)):e.push("file="+c);d.enablePluginDebug&&e.push("debug=true");d.enablePluginSmoothing&&e.push("smoothing=true");u&&e.push("controls=true");switch(f){case "silverlight":B.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+w+'" name="'+w+'" width="'+k+'" height="'+o+'"><param name="initParams" value="'+e.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+
d.pluginPath+d.silverlightName+'" /></object>';break;case "flash":if(mejs.MediaFeatures.isIE){f=document.createElement("div");B.appendChild(f);f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+w+'" width="'+k+'" height="'+o+'"><param name="movie" value="'+d.pluginPath+d.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+e.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else B.innerHTML=
'<embed id="'+w+'" name="'+w+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+d.pluginPath+d.flashName+'" flashvars="'+e.join("&")+'" width="'+k+'" height="'+o+'"></embed>';break}a.style.display="none";return A},updateNative:function(a,d){for(var e in mejs.HtmlMediaElement)a[e]=mejs.HtmlMediaElement[e];d.success(a,a);
return a}};window.mejs=mejs;window.MediaElement=mejs.MediaElement;if(typeof jQuery!="undefined")mejs.$=jQuery;else if(typeof ender!="undefined")mejs.$=ender;
(function(a){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,audioWidth:400,audioHeight:30,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,alwaysShowControls:false,iPadUseNativeControls:true,features:["playpause","current","progress","duration","tracks","volume","fullscreen"]};mejs.mepIndex=0;mejs.MediaElementPlayer=function(d,e){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(d,e);var f=this;
f.options=a.extend({},mejs.MepDefaults,e);f.$media=f.$node=a(d);f.node=f.media=f.$media[0];if(typeof f.node.player!="undefined")return f.node.player;else f.node.player=f;f.isVideo=f.media.tagName.toLowerCase()==="video";f.init();return f};mejs.MediaElementPlayer.prototype={init:function(){var d=this,e=mejs.MediaFeatures,f=a.extend(true,{},d.options,{success:function(c,k){d.meReady(c,k)},error:function(c){d.handleError(c)}});if(e.isiPad&&d.options.iPadUseNativeControls||e.isiPhone){d.$media.attr("controls",
"controls");d.$media.removeAttr("poster");if(e.isiPad&&d.media.getAttribute("autoplay")!==null){d.media.load();d.media.play()}}else if(!(e.isAndroid&&d.isVideo)){d.$media.removeAttr("controls");d.id="mep_"+mejs.mepIndex++;d.container=a('<div id="'+d.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(d.$media[0].className).insertBefore(d.$media);
d.container.find(".mejs-mediaelement").append(d.$media);d.controls=d.container.find(".mejs-controls");d.layers=d.container.find(".mejs-layers");if(d.isVideo){d.width=d.options.videoWidth>0?d.options.videoWidth:d.$media[0].getAttribute("width")!==null?d.$media.attr("width"):d.options.defaultVideoWidth;d.height=d.options.videoHeight>0?d.options.videoHeight:d.$media[0].getAttribute("height")!==null?d.$media.attr("height"):d.options.defaultVideoHeight}else{d.width=d.options.audioWidth;d.height=d.options.audioHeight}d.setPlayerSize(d.width,
d.height);f.pluginWidth=d.height;f.pluginHeight=d.width}mejs.MediaElement(d.$media[0],f)},meReady:function(d,e){var f=this,c=mejs.MediaFeatures,k;if(!f.created){f.created=true;f.media=d;f.domNode=e;if(!c.isiPhone&&!c.isAndroid&&!(c.isiPad&&f.options.iPadUseNativeControls)){f.buildposter(f,f.controls,f.layers,f.media);f.buildoverlays(f,f.controls,f.layers,f.media);f.findTracks();for(k in f.options.features){d=f.options.features[k];if(f["build"+d])try{f["build"+d](f,f.controls,f.layers,f.media)}catch(n){}}f.container.trigger("controlsready");
f.setPlayerSize(f.width,f.height);f.setControlsSize();if(f.isVideo){f.container.bind("mouseenter",function(){if(!f.options.alwaysShowControls){f.controls.css("visibility","visible");f.controls.stop(true,true).fadeIn(200)}}).bind("mouseleave",function(){!f.media.paused&&!f.options.alwaysShowControls&&f.controls.stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})});f.domNode.getAttribute("autoplay")!==null&&!f.options.alwaysShowControls&&f.controls.css("visibility",
"hidden");f.options.enableAutosize&&f.media.addEventListener("loadedmetadata",function(h){if(f.options.videoHeight<=0&&f.domNode.getAttribute("height")===null&&!isNaN(h.target.videoHeight)){f.setPlayerSize(h.target.videoWidth,h.target.videoHeight);f.setControlsSize();f.media.setVideoSize(h.target.videoWidth,h.target.videoHeight)}},false)}f.media.addEventListener("ended",function(){f.media.setCurrentTime(0);f.media.pause();f.setProgressRail&&f.setProgressRail();f.setCurrentRail&&f.setCurrentRail();
if(f.options.loop)f.media.play();else f.options.alwaysShowControls||f.controls.css("visibility","visible")},true);f.media.addEventListener("loadedmetadata",function(){f.updateDuration&&f.updateDuration();f.updateCurrent&&f.updateCurrent();f.setControlsSize()},true);setTimeout(function(){f.setControlsSize();f.setPlayerSize(f.width,f.height)},50)}f.options.success&&f.options.success(f.media,f.domNode)}},handleError:function(d){this.options.error&&this.options.error(d)},setPlayerSize:function(d,e){var f=
this;f.width=parseInt(d,10);f.height=parseInt(e,10);f.container.width(f.width).height(f.height);f.layers.children(".mejs-layer").width(f.width).height(f.height)},setControlsSize:function(){var d=this,e=0,f=0,c=d.controls.find(".mejs-time-rail"),k=d.controls.find(".mejs-time-total");d.controls.find(".mejs-time-current");d.controls.find(".mejs-time-loaded");others=c.siblings();others.each(function(){if(a(this).css("position")!="absolute")e+=a(this).outerWidth(true)});f=d.controls.width()-e-(c.outerWidth(true)-
c.outerWidth(false));c.width(f);k.width(f-(k.outerWidth(true)-k.width()));d.setProgressRail&&d.setProgressRail();d.setCurrentRail&&d.setCurrentRail()},buildposter:function(d,e,f,c){var k=a('<div class="mejs-poster mejs-layer"><img /></div>').appendTo(f);e=d.$media.attr("poster");f=k.find("img").width(d.width).height(d.height);if(d.options.poster!="")f.attr("src",d.options.poster);else e!==""&&e!=null?f.attr("src",e):k.remove();c.addEventListener("play",function(){k.hide()},false)},buildoverlays:function(d,
e,f,c){if(d.isVideo){var k=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(f),n=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(f),h=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(f).click(function(){c.paused?c.play():c.pause()});c.addEventListener("play",function(){h.hide();n.hide()},false);c.addEventListener("pause",
function(){h.show()},false);c.addEventListener("loadstart",function(){mejs.MediaFeatures.isChrome&&c.getAttribute&&c.getAttribute("preload")==="none"||k.show()},false);c.addEventListener("canplay",function(){k.hide()},false);c.addEventListener("error",function(){k.hide();n.show();n.find("mejs-overlay-error").html("Error loading this resource")},false)}},findTracks:function(){var d=this,e=d.$media.find("track");d.tracks=[];e.each(function(){d.tracks.push({srclang:a(this).attr("srclang").toLowerCase(),
src:a(this).attr("src"),kind:a(this).attr("kind"),entries:[],isLoaded:false})})},changeSkin:function(d){this.container[0].className="mejs-container "+d;this.setPlayerSize();this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(d){this.media.setMuted(d)},setCurrentTime:function(d){this.media.setCurrentTime(d)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(d){this.media.setVolume(d)},
getVolume:function(){return this.media.volume},setSrc:function(d){this.media.setSrc(d)}};if(typeof jQuery!="undefined")jQuery.fn.mediaelementplayer=function(d){return this.each(function(){new mejs.MediaElementPlayer(this,d)})};window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildplaypause=function(d,e,f,c){var k=a('<div class="mejs-button mejs-playpause-button mejs-play" type="button"><button type="button"></button></div>').appendTo(e).click(function(n){n.preventDefault();c.paused?c.play():c.pause();return false});c.addEventListener("play",function(){k.removeClass("mejs-play").addClass("mejs-pause")},false);c.addEventListener("playing",function(){k.removeClass("mejs-play").addClass("mejs-pause")},false);c.addEventListener("pause",
function(){k.removeClass("mejs-pause").addClass("mejs-play")},false);c.addEventListener("paused",function(){k.removeClass("mejs-pause").addClass("mejs-play")},false)}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildstop=function(d,e,f,c){a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button"></button></div>').appendTo(e).click(function(){c.paused||c.pause();if(c.currentTime>0){c.setCurrentTime(0);e.find(".mejs-time-current").width("0px");e.find(".mejs-time-handle").css("left","0px");e.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));e.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));f.find(".mejs-poster").show()}})}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildprogress=function(d,e,f,c){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(e);f=this;var k=e.find(".mejs-time-total"),n=e.find(".mejs-time-loaded"),h=e.find(".mejs-time-current"),
u=e.find(".mejs-time-handle"),o=e.find(".mejs-time-float"),w=e.find(".mejs-time-float-current"),A=function(D){D=D.pageX;var O=k.offset(),G=k.outerWidth(),y=0;y=0;if(D>O.left&&D<=G+O.left&&c.duration){y=(D-O.left)/G;y=y<=0.02?0:y*c.duration;B&&c.setCurrentTime(y);o.css("left",D-O.left);w.html(mejs.Utility.secondsToTimeCode(y))}},B=false,I=false;k.bind("mousedown",function(D){B=true;A(D);return false});e.find(".mejs-time-rail").bind("mouseenter",function(){I=true}).bind("mouseleave",function(){I=false});
a(document).bind("mouseup",function(){B=false}).bind("mousemove",function(D){if(B||I)A(D)});c.addEventListener("progress",function(D){d.setProgressRail(D);d.setCurrentRail(D)},false);c.addEventListener("timeupdate",function(D){d.setProgressRail(D);d.setCurrentRail(D)},false);f.loaded=n;f.total=k;f.current=h;f.handle=u};MediaElementPlayer.prototype.setProgressRail=function(d){var e=this,f=d!=undefined?d.target:e.media,c=null;if(f&&f.buffered&&f.buffered.length>0&&f.buffered.end&&f.duration)c=f.buffered.end(0)/
f.duration;else if(f&&f.bytesTotal!=undefined&&f.bytesTotal>0&&f.bufferedBytes!=undefined)c=f.bufferedBytes/f.bytesTotal;else if(d&&d.lengthComputable&&d.total!=0)c=d.loaded/d.total;if(c!==null){c=Math.min(1,Math.max(0,c));e.loaded&&e.total&&e.loaded.width(e.total.width()*c)}};MediaElementPlayer.prototype.setCurrentRail=function(){var d=this;if(d.media.currentTime!=undefined&&d.media.duration)if(d.total&&d.handle){var e=d.total.width()*d.media.currentTime/d.media.duration,f=e-d.handle.outerWidth(true)/
2;d.current.width(e);d.handle.css("left",f)}}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildcurrent=function(d,e,f,c){f=this;a('<div class="mejs-time"><span class="mejs-currenttime">'+(d.options.alwaysShowHours?"00:":"")+"00:00</span></div>").appendTo(e);f.currenttime=f.controls.find(".mejs-currenttime");c.addEventListener("timeupdate",function(){d.updateCurrent()},false)};MediaElementPlayer.prototype.buildduration=function(d,e,f,c){f=this;if(e.children().last().find(".mejs-currenttime").length>0)a(' <span> | </span> <span class="mejs-duration">'+
(d.options.alwaysShowHours?"00:":"")+"00:00</span>").appendTo(e.find(".mejs-time"));else{e.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(d.options.alwaysShowHours?"00:":"")+"00:00</span></div>").appendTo(e)}f.durationD=f.controls.find(".mejs-duration");c.addEventListener("timeupdate",function(){d.updateDuration()},false)};MediaElementPlayer.prototype.updateCurrent=function(){var d=this;if(d.currenttime)d.currenttime.html(mejs.Utility.secondsToTimeCode(d.media.currentTime|
0,d.options.alwaysShowHours||d.media.duration>3600))};MediaElementPlayer.prototype.updateDuration=function(){var d=this;d.media.duration&&d.durationD&&d.durationD.html(mejs.Utility.secondsToTimeCode(d.media.duration,d.options.alwaysShowHours))}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildvolume=function(d,e,f,c){var k=a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(e);e=k.find(".mejs-volume-slider");var n=k.find(".mejs-volume-total"),h=k.find(".mejs-volume-current"),u=k.find(".mejs-volume-handle"),o=function(B){B=n.height()-n.height()*
B;u.css("top",B-u.height()/2);h.height(n.height()-B+parseInt(n.css("top").replace(/px/,""),10));h.css("top",B)},w=function(B){var I=n.height(),D=n.offset(),O=parseInt(n.css("top").replace(/px/,""),10);B=B.pageY-D.top;D=(I-B)/I;if(B<0)B=0;else if(B>I)B=I;u.css("top",B-u.height()/2+O);h.height(I-B);h.css("top",B+O);if(D==0){c.setMuted(true);k.removeClass("mejs-mute").addClass("mejs-unmute")}else{c.setMuted(false);k.removeClass("mejs-unmute").addClass("mejs-mute")}D=Math.max(0,D);D=Math.min(D,1);c.setVolume(D)},
A=false;e.bind("mousedown",function(B){w(B);A=true;return false});a(document).bind("mouseup",function(){A=false}).bind("mousemove",function(B){A&&w(B)});k.find("button").click(function(){if(c.muted){c.setMuted(false);k.removeClass("mejs-unmute").addClass("mejs-mute");o(1)}else{c.setMuted(true);k.removeClass("mejs-mute").addClass("mejs-unmute");o(0)}});c.addEventListener("volumechange",function(B){A||o(B.target.volume)},true);o(d.options.startVolume);c.pluginType==="native"&&c.setVolume(d.options.startVolume)}})(mejs.$);
(function(a){mejs.MediaElementDefaults.forcePluginFullScreen=false;MediaElementPlayer.prototype.isFullScreen=false;MediaElementPlayer.prototype.buildfullscreen=function(d,e,f,c){if(d.isVideo){mejs.MediaFeatures.hasNativeFullScreen&&d.container.bind("webkitfullscreenchange",function(){document.webkitIsFullScreen?d.setControlsSize():d.exitFullScreen()});var k=0,n=0,h=d.container,u=document.documentElement,o,w=a('<div class="mejs-button mejs-fullscreen-button"><button type="button"></button></div>').appendTo(e).click(function(){(mejs.MediaFeatures.hasNativeFullScreen?
document.webkitIsFullScreen:d.isFullScreen)?d.exitFullScreen():d.enterFullScreen()});d.enterFullScreen=function(){if(d.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||d.options.forcePluginFullScreen))c.setFullscreen(true);else{mejs.MediaFeatures.hasNativeFullScreen&&d.container[0].webkitRequestFullScreen();o=u.style.overflow;u.style.overflow="hidden";k=d.container.height();n=d.container.width();h.addClass("mejs-container-fullscreen").width("100%").height("100%").css("z-index",1E3);if(d.pluginType===
"native")d.$media.width("100%").height("100%");else{h.find("object embed").width("100%").height("100%");d.media.setVideoSize(a(window).width(),a(window).height())}f.children("div").width("100%").height("100%");w.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");d.setControlsSize();d.isFullScreen=true}};d.exitFullScreen=function(){if(d.pluginType!=="native"&&mejs.MediaFeatures.isFirefox)c.setFullscreen(false);else{mejs.MediaFeatures.hasNativeFullScreen&&document.webkitIsFullScreen&&document.webkitCancelFullScreen();
u.style.overflow=o;h.removeClass("mejs-container-fullscreen").width(n).height(k).css("z-index",1);if(d.pluginType==="native")d.$media.width(n).height(k);else{h.find("object embed").width(n).height(k);d.media.setVideoSize(n,k)}f.children("div").width(n).height(k);w.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");d.setControlsSize();d.isFullScreen=false}};a(window).bind("resize",function(){d.setControlsSize()});a(document).bind("keydown",function(A){d.isFullScreen&&A.keyCode==27&&d.exitFullScreen()})}}})(mejs.$);
(function(a){a.extend(mejs.MepDefaults,{startLanguage:"",translations:[],translationSelector:false,googleApiKey:""});a.extend(MediaElementPlayer.prototype,{buildtracks:function(d,e,f,c){if(d.isVideo)if(d.tracks.length!=0){var k,n="";d.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(f).hide();d.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(f).hide();d.captionsText=d.captions.find(".mejs-captions-text");
d.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" ></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+d.id+'_captions" id="'+d.id+'_captions_none" value="none" checked="checked" /><label for="'+d.id+'_captions_none">None</label></li></ul></div></button>').appendTo(e).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")d.selectedTrack=null;else for(k=0;k<d.tracks.length;k++)if(d.tracks[k].srclang==lang){d.selectedTrack=
d.tracks[k];d.captions.attr("lang",d.selectedTrack.srclang);d.displayCaptions();break}});d.options.alwaysShowControls?d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):d.container.bind("mouseenter",function(){d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){c.paused||d.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});d.trackToLoad=-1;d.selectedTrack=null;d.isLoadingTrack=
false;if(d.tracks.length>0&&d.options.translations.length>0)for(k=0;k<d.options.translations.length;k++)d.tracks.push({srclang:d.options.translations[k].toLowerCase(),src:null,kind:"subtitles",entries:[],isLoaded:false,isTranslation:true});for(k=0;k<d.tracks.length;k++)d.tracks[k].kind=="subtitles"&&d.addTrackButton(d.tracks[k].srclang,d.tracks[k].isTranslation);d.loadNextTrack();c.addEventListener("timeupdate",function(){d.displayCaptions()},false);c.addEventListener("loadedmetadata",function(){d.displayChapters()},
false);d.container.hover(function(){d.chapters.css("visibility","visible");d.chapters.fadeIn(200)},function(){c.paused||d.chapters.fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})});d.node.getAttribute("autoplay")!==null&&d.chapters.css("visibility","hidden");if(d.options.translationSelector){for(k in mejs.language.codes)n+='<option value="'+k+'">'+mejs.language.codes[k]+"</option>";d.container.find(".mejs-captions-selector ul").before(a('<select class="mejs-captions-translations"><option value="">--Add Translation--</option>'+
n+"</select>"));d.container.find(".mejs-captions-translations").change(function(){lang=a(this).val();if(lang!=""){d.tracks.push({srclang:lang,src:null,entries:[],isLoaded:false,isTranslation:true});if(!d.isLoadingTrack){d.trackToLoad--;d.addTrackButton(lang,true);d.options.startLanguage=lang;d.loadNextTrack()}}})}}},loadNextTrack:function(){var d=this;d.trackToLoad++;if(d.trackToLoad<d.tracks.length){d.isLoadingTrack=true;d.loadTrack(d.trackToLoad)}else d.isLoadingTrack=false},loadTrack:function(d){var e=
this,f=e.tracks[d],c=function(){f.isLoaded=true;e.enableTrackButton(f.srclang);e.loadNextTrack()};f.isTranslation?mejs.TrackFormatParser.translateTrackText(e.tracks[0].entries,e.tracks[0].srclang,f.srclang,e.options.googleApiKey,function(k){f.entries=k;c()}):a.ajax({url:f.src,success:function(k){f.entries=mejs.TrackFormatParser.parse(k);c();f.kind=="chapters"&&e.media.duration>0&&e.drawChapters(f)},error:function(){e.loadNextTrack()}})},enableTrackButton:function(d){var e=this;e.captionsButton.find("input[value="+
d+"]").prop("disabled",false).siblings("label").html(mejs.language.codes[d]||d);e.options.startLanguage==d&&a("#"+e.id+"_captions_"+d).click();e.adjustLanguageBox()},addTrackButton:function(d,e){var f=this,c=mejs.language.codes[d]||d;f.captionsButton.find("ul").append(a('<li><input type="radio" name="'+f.id+'_captions" id="'+f.id+"_captions_"+d+'" value="'+d+'" disabled="disabled" /><label for="'+f.id+"_captions_"+d+'">'+c+(e?" (translating)":" (loading)")+"</label></li>"));f.adjustLanguageBox();
f.container.find(".mejs-captions-translations option[value="+d+"]").remove()},adjustLanguageBox:function(){var d=this;d.captionsButton.find(".mejs-captions-selector").height(d.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+d.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var d=this,e,f=d.selectedTrack;if(f!=null&&f.isLoaded)for(e=0;e<f.entries.times.length;e++)if(d.media.currentTime>=f.entries.times[e].start&&
d.media.currentTime<=f.entries.times[e].stop){d.captionsText.html(f.entries.text[e]);d.captions.show();return}d.captions.hide()}},displayChapters:function(){var d=this,e;for(e=0;e<d.tracks.length;e++)if(d.tracks[e].kind=="chapters"&&d.tracks[e].isLoaded){d.drawChapters(d.tracks[e]);break}},drawChapters:function(d){var e=this,f,c,k=c=0;e.chapters.empty();for(f=0;f<d.entries.times.length;f++){c=d.entries.times[f].stop-d.entries.times[f].start;c=Math.floor(c/e.media.duration*100);if(c+k>100||f==d.entries.times.length-
1&&c+k<100)c=100-k;e.chapters.append(a('<div class="mejs-chapter" rel="'+d.entries.times[f].start+'" style="left: '+k.toString()+"%;width: "+c.toString()+'%;"><div class="mejs-chapter-block'+(f==d.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+d.entries.text[f]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(d.entries.times[f].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(d.entries.times[f].stop)+"</span></div></div>"));k+=c}e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(a(this).attr("rel")));
e.media.paused&&e.media.play()});e.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",
ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}(,[0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}(,[0-9]{3})?)(.*)$/,
split2:function(d,e){return d.split(e)},parse:function(d){var e=0;d=this.split2(d,/\r?\n/);for(var f={text:[],times:[]},c,k;e<d.length;e++)if(this.pattern_identifier.exec(d[e])){e++;if((c=this.pattern_timecode.exec(d[e]))&&e<d.length){e++;k=d[e];for(e++;d[e]!==""&&e<d.length;){k=k+"\n"+d[e];e++}f.text.push(k);f.times.push({start:mejs.Utility.timeCodeToSeconds(c[1]),stop:mejs.Utility.timeCodeToSeconds(c[3]),settings:c[5]})}}return f},translateTrackText:function(d,e,f,c,k){var n={text:[],times:[]},
h,u;this.translateText(d.text.join(" <a></a>"),e,f,c,function(o){h=o.split("<a></a>");for(u=0;u<d.text.length;u++){n.text[u]=h[u];n.times[u]={start:d.times[u].start,stop:d.times[u].stop,settings:d.times[u].settings}}k(n)})},translateText:function(d,e,f,c,k){for(var n,h=[],u,o="",w=function(){if(h.length>0){u=h.shift();mejs.TrackFormatParser.translateChunk(u,e,f,c,function(A){if(A!="undefined")o+=A;w()})}else k(o)};d.length>0;)if(d.length>1E3){n=d.lastIndexOf(".",1E3);h.push(d.substring(0,n));d=d.substring(n+
1)}else{h.push(d);d=""}w()},translateChunk:function(d,e,f,c,k){d={q:d,langpair:e+"|"+f,v:"1.0"};if(c!==""&&c!==null)d.key=c;a.ajax({url:"https://ajax.googleapis.com/ajax/services/language/translate",data:d,type:"GET",dataType:"jsonp",success:function(n){k(n.responseData.translatedText)},error:function(){k(null)}})}};if("x\n\ny".split(/\n/gi).length!=3)mejs.TrackFormatParser.split2=function(d,e){var f=[],c="",k;for(k=0;k<d.length;k++){c+=d.substring(k,k+1);if(e.test(c)){f.push(c.replace(e,""));c=""}}f.push(c);
return f}})(mejs.$);steal.loaded("webapp/lib/mediaelement/mediaelement-and-player.js");
(function(a){var d={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:5E3,text:"",sticky:false,type:"notice",position:"top-right",closeText:"",close:null},e={init:function(f){f&&a.extend(d,f)},showToast:function(f){var c={};a.extend(c,d,f);var k,n;f=!a(".toast-container").length?a("<div></div>").addClass("toast-container").addClass("toast-position-"+c.position).appendTo("body"):a(".toast-container");k=a("<div></div>").addClass("toast-item-wrapper");n=a("<div></div>").hide().addClass("toast-item toast-type-"+
c.type).appendTo(f).html("<p>"+c.text+"</p>").animate(c.inEffect,c.inEffectDuration).wrap(k);a("<div></div>").addClass("toast-item-close").prependTo(n).html(c.closeText).click(function(){a().toastmessage("removeToast",n,c)});a("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+c.type).prependTo(n);navigator.userAgent.match(/MSIE 6/i)&&f.css({top:document.documentElement.scrollTop});c.sticky||setTimeout(function(){a().toastmessage("removeToast",n,c)},c.stayTime);return n},showNoticeToast:function(f){f=
{text:f,type:"notice"};return a().toastmessage("showToast",f)},showSuccessToast:function(f){f={text:f,type:"success"};return a().toastmessage("showToast",f)},showErrorToast:function(f){f={text:f,type:"error"};return a().toastmessage("showToast",f)},showWarningToast:function(f){f={text:f,type:"warning"};return a().toastmessage("showToast",f)},removeToast:function(f,c){f.animate({opacity:"0"},600,function(){f.parent().animate({height:"0px"},300,function(){f.parent().remove()})});c&&c.close!==null&&
c.close()}};a.fn.toastmessage=function(f){if(e[f])return e[f].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof f==="object"||!f)return e.init.apply(this,arguments);else a.error("Method "+f+" does not exist on jQuery.toastmessage")}})(jQuery);steal.loaded("webapp/lib/toast/jquery.toastmessage.js");
(function(a){a.prompt=function(d,e){e=a.extend({},a.prompt.defaults,e);a.prompt.currentPrefix=e.prefix;var f=a.browser.msie&&a.browser.version<7,c=a(document.body),k=a(window);e.classes=a.trim(e.classes);if(e.classes!="")e.classes=" "+e.classes;var n='<div class="'+e.prefix+"box"+e.classes+'" id="'+e.prefix+'box">';if(e.useiframe&&(a("object, applet").length>0||f))n+='<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="'+e.prefix+'fade" id="'+e.prefix+'fade"></iframe>';
else{f&&a("select").css("visibility","hidden");n+='<div class="'+e.prefix+'fade" id="'+e.prefix+'fade"></div>'}n+='<div class="'+e.prefix+'" id="'+e.prefix+'"><div class="'+e.prefix+'container"><div class="';n+=e.prefix+'close ui-btn-left ui-btn ui-btn-up-a ui-btn-icon-notext ui-btn-corner-all ui-shadow"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">Close</span><span class="ui-icon ui-icon-delete ui-icon-shadow"></span></span></div><div id="'+e.prefix+'states" class="ui-content ui-body-c ui-corner-bottom ui-overlay-shadow ui-body-a"></div>';
n+="</div></div></div>";var h=a(n).appendTo(c),u=h.children("#"+e.prefix),o=h.children("#"+e.prefix+"fade");if(d.constructor==String)d={state0:{html:d,buttons:e.buttons,focus:e.focus,submit:e.submit}};var w="";a.each(d,function(G,y){y=a.extend({},a.prompt.defaults.state,y);d[G]=y;w+='<div id="'+e.prefix+"_state_"+G+'" class="'+e.prefix+'_state" style="display:none;"><div class="'+e.prefix+'message">'+y.html+'</div><div class="'+e.prefix+'buttons">';a.each(y.buttons,function(F,s){w+=typeof s=="object"?
'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+G+"_button"+s.title.replace(/[^a-z0-9]+/gi,"")+'" id="'+e.prefix+"_"+G+"_button"+s.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+s.value+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+s.title+"</span></span></button>":'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+G+"_button"+F+'" id="'+e.prefix+"_"+G+"_button"+F+'" value="'+
s+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+F+"</span></span></button>"});w+="</div></div>"});u.find("#"+e.prefix+"states").html(w).children("."+e.prefix+"_state:first").css("display","block");u.find("."+e.prefix+"buttons:empty").css("display","none");a.each(d,function(G,y){var F=u.find("#"+e.prefix+"_state_"+G);F.children("."+e.prefix+"buttons").children("button").click(function(){var s=F.children("."+e.prefix+"message"),r=y.buttons[a(this).text()];if(r==undefined)for(var C in y.buttons)if(y.buttons[C].title==
a(this).text())r=y.buttons[C].value;if(typeof r=="object")r=r.value;var K={};a.each(u.find("#"+e.prefix+"states :input").serializeArray(),function(J,P){if(K[P.name]===undefined)K[P.name]=P.value;else if(typeof K[P.name]==Array||typeof K[P.name]=="object")K[P.name].push(P.value);else K[P.name]=[K[P.name],P.value]});C=y.submit(r,s,K);if(C===undefined||C)O(true,r,s,K)});F.find("."+e.prefix+"buttons button:eq("+y.focus+")").addClass(e.prefix+"defaultbutton")});var A=function(){h.css({top:k.scrollTop()})},
B=function(){if(e.persistent){var G=0;h.addClass(e.prefix+"warning");var y=setInterval(function(){h.toggleClass(e.prefix+"warning");if(G++>1){clearInterval(y);h.removeClass(e.prefix+"warning")}},100)}else O()},I=function(G){var y=window.event?event.keyCode:G.keyCode;y==27&&B();if(y==9){var F=a(":input:enabled:visible",h),s=G.shiftKey&&G.target==F[0];if(!G.shiftKey&&G.target==F[F.length-1]||s){setTimeout(function(){if(F){var r=F[s===true?F.length-1:0];r&&r.focus()}},10);return false}}},D=function(){h.css({position:f?
"absolute":"fixed",height:k.height(),width:"100%",top:f?k.scrollTop():0,left:0,right:0,bottom:0});o.css({position:"absolute",height:k.height(),width:"100%",top:0,left:0,right:0,bottom:0});u.css({position:"absolute",top:e.top,left:"50%",marginLeft:u.outerWidth()/2*-1})},O=function(G,y,F,s){u.remove();f&&c.unbind("scroll",A);k.unbind("resize",D);o.fadeOut(e.overlayspeed,function(){o.unbind("click",B);o.remove();G&&e.callback(y,F,s);h.unbind("keypress",I);h.remove();f&&!e.useiframe&&a("select").css("visibility",
"visible")})};D();(function(){o.css({zIndex:e.zIndex,display:"none",opacity:e.opacity});u.css({zIndex:e.zIndex+1,display:"none"});h.css({zIndex:e.zIndex})})();f&&k.scroll(A);o.click(B);k.resize(D);h.bind("keydown keypress",I);u.find("."+e.prefix+"close").click(O);o.fadeIn(e.overlayspeed);u[e.show](e.promptspeed,e.loaded);u.find("#"+e.prefix+"states ."+e.prefix+"_state:first ."+e.prefix+"defaultbutton").focus();e.timeout>0&&setTimeout(a.prompt.close,e.timeout);return h};a.prompt.defaults={prefix:"jqi",
classes:"",buttons:{Ok:true},loaded:function(){},submit:function(){return true},callback:function(){},overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",focus:0,useiframe:false,top:"15%",persistent:true,timeout:0,state:{html:"",buttons:{Ok:true},focus:0,submit:function(){return true}}};a.prompt.currentPrefix=a.prompt.defaults.prefix;a.prompt.setDefaults=function(d){a.prompt.defaults=a.extend({},a.prompt.defaults,d)};a.prompt.setStateDefaults=function(d){a.prompt.defaults.state=a.extend({},a.prompt.defaults.state,
d)};a.prompt.getStateContent=function(d){return a("#"+a.prompt.currentPrefix+"_state_"+d)};a.prompt.getCurrentState=function(){return a("."+a.prompt.currentPrefix+"_state:visible")};a.prompt.getCurrentStateName=function(){return a.prompt.getCurrentState().attr("id").replace(a.prompt.currentPrefix+"_state_","")};a.prompt.goToState=function(d,e){a("."+a.prompt.currentPrefix+"_state").slideUp("slow");a("#"+a.prompt.currentPrefix+"_state_"+d).slideDown("slow",function(){a(this).find("."+a.prompt.currentPrefix+
"defaultbutton").focus();typeof e=="function"&&e()})};a.prompt.nextState=function(d){var e=a("."+a.prompt.currentPrefix+"_state:visible").next();a("."+a.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+a.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};a.prompt.prevState=function(d){var e=a("."+a.prompt.currentPrefix+"_state:visible").prev();a("."+a.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+
a.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};a.prompt.close=function(){a("#"+a.prompt.currentPrefix+"box").fadeOut("fast",function(){a(this).remove()})};a.fn.prompt=function(d){if(d==undefined)d={};if(d.withDataAndEvents==undefined)d.withDataAndEvents=false;a.prompt(a(this).clone(d.withDataAndEvents).html(),d)}})(jQuery);steal.loaded("webapp/lib/jquery-impromptu.3.1.js");
(function(){var a=Math,d=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",e="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,f="ontouchstart"in window,c=d+"Transform"in document.documentElement.style,k=/android/gi.test(navigator.appVersion),n=/iphone|ipad/gi.test(navigator.appVersion),h=/playbook/gi.test(navigator.appVersion),u=n||h,o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(s){return setTimeout(s,1)}}(),w=function(){return window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),A="onorientationchange"in window?"orientationchange":"resize",B=f?"touchstart":"mousedown",I=f?"touchmove":"mousemove",D=f?"touchend":"mouseup",O=f?"touchcancel":"mouseup",
G=d=="Moz"?"DOMMouseScroll":"mousewheel",y="translate"+(e?"3d(":"("),F=e?",0)":")";h=function(s,r){var C=this,K=document,J;C.wrapper=typeof s=="object"?s:K.getElementById(s);C.wrapper.style.overflow="hidden";C.scroller=C.wrapper.children[0];C.options={hScroll:true,vScroll:true,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,hScrollbar:true,vScrollbar:true,fixedScrollbar:k,hideScrollbar:n,fadeScrollbar:n&&e,scrollbarClass:"",
zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(P){P.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(J in r)C.options[J]=r[J];C.options.useTransform=c?C.options.useTransform:false;C.options.hScrollbar=C.options.hScroll&&C.options.hScrollbar;C.options.vScrollbar=
C.options.vScroll&&C.options.vScrollbar;C.options.zoom=C.options.useTransform&&C.options.zoom;C.options.useTransition=u&&C.options.useTransition;C.scroller.style[d+"TransitionProperty"]=C.options.useTransform?"-"+d.toLowerCase()+"-transform":"top left";C.scroller.style[d+"TransitionDuration"]="0";C.scroller.style[d+"TransformOrigin"]="0 0";if(C.options.useTransition)C.scroller.style[d+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)";if(C.options.useTransform)C.scroller.style[d+"Transform"]=
y+"0,0"+F;else C.scroller.style.cssText+=";position:absolute;top:0;left:0";if(C.options.useTransition)C.options.fixedScrollbar=true;C.refresh();C._bind(A,window);C._bind(B);if(!f){C._bind("mouseout",C.wrapper);C._bind(G)}if(C.options.checkDOMChanges)C.checkDOMTime=setInterval(function(){C._checkDOMChanges()},500)};h.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(s){var r=this;switch(s.type){case B:if(!f&&
s.button!==0)return;r._start(s);break;case I:r._move(s);break;case D:case O:r._end(s);break;case A:r._resize();break;case G:r._wheel(s);break;case "mouseout":r._mouseout(s);break;case "webkitTransitionEnd":r._transitionEnd(s);break}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(s){var r=this,C=document,K;if(r[s+"Scrollbar"]){if(!r[s+
"ScrollbarWrapper"]){K=C.createElement("div");if(r.options.scrollbarClass)K.className=r.options.scrollbarClass+s.toUpperCase();else K.style.cssText="position:absolute;z-index:100;"+(s=="h"?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px");K.style.cssText+=";pointer-events:none;-"+d+"-transition-property:opacity;-"+d+"-transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?
"0":"1");r.wrapper.appendChild(K);r[s+"ScrollbarWrapper"]=K;K=C.createElement("div");if(!r.options.scrollbarClass)K.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+d+"-background-clip:padding-box;-"+d+"-box-sizing:border-box;"+(s=="h"?"height:100%":"width:100%")+";-"+d+"-border-radius:3px;border-radius:3px";K.style.cssText+=";pointer-events:none;-"+d+"-transition-property:-"+d+"-transform;-"+d+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+
d+"-transition-duration:0;-"+d+"-transform:"+y+"0,0"+F;if(r.options.useTransition)K.style.cssText+=";-"+d+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";r[s+"ScrollbarWrapper"].appendChild(K);r[s+"ScrollbarIndicator"]=K}if(s=="h"){r.hScrollbarSize=r.hScrollbarWrapper.clientWidth;r.hScrollbarIndicatorSize=a.max(a.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8);r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px";r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize;
r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX}else{r.vScrollbarSize=r.vScrollbarWrapper.clientHeight;r.vScrollbarIndicatorSize=a.max(a.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8);r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px";r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize;r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY}r._scrollbarPos(s,true)}else if(r[s+"ScrollbarWrapper"]){if(c)r[s+"ScrollbarIndicator"].style[d+"Transform"]="";r[s+"ScrollbarWrapper"].parentNode.removeChild(r[s+
"ScrollbarWrapper"]);r[s+"ScrollbarWrapper"]=null;r[s+"ScrollbarIndicator"]=null}},_resize:function(){var s=this;setTimeout(function(){s.refresh()},k?200:0)},_pos:function(s,r){s=this.hScroll?s:0;r=this.vScroll?r:0;if(this.options.useTransform)this.scroller.style[d+"Transform"]=y+s+"px,"+r+"px"+F+" scale("+this.scale+")";else{s=a.round(s);r=a.round(r);this.scroller.style.left=s+"px";this.scroller.style.top=r+"px"}this.x=s;this.y=r;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(s,
r){var C=this,K=s=="h"?C.x:C.y;if(C[s+"Scrollbar"]){K=C[s+"ScrollbarProp"]*K;if(K<0){if(!C.options.fixedScrollbar){K=C[s+"ScrollbarIndicatorSize"]+a.round(K*3);if(K<8)K=8;C[s+"ScrollbarIndicator"].style[s=="h"?"width":"height"]=K+"px"}K=0}else if(K>C[s+"ScrollbarMaxScroll"])if(C.options.fixedScrollbar)K=C[s+"ScrollbarMaxScroll"];else{K=C[s+"ScrollbarIndicatorSize"]-a.round((K-C[s+"ScrollbarMaxScroll"])*3);if(K<8)K=8;C[s+"ScrollbarIndicator"].style[s=="h"?"width":"height"]=K+"px";K=C[s+"ScrollbarMaxScroll"]+
(C[s+"ScrollbarIndicatorSize"]-K)}C[s+"ScrollbarWrapper"].style[d+"TransitionDelay"]="0";C[s+"ScrollbarWrapper"].style.opacity=r&&C.options.hideScrollbar?"0":"1";C[s+"ScrollbarIndicator"].style[d+"Transform"]=y+(s=="h"?K+"px,0":"0,"+K+"px")+F}},_start:function(s){var r=this,C=f?s.touches[0]:s,K,J;if(r.enabled){r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,s);if(r.options.useTransition||r.options.zoom)r._transitionTime(0);r.moved=false;r.animating=false;r.zoomed=false;r.distX=
0;r.distY=0;r.absDistX=0;r.absDistY=0;r.dirX=0;r.dirY=0;if(r.options.zoom&&f&&s.touches.length>1){J=a.abs(s.touches[0].pageX-s.touches[1].pageX);K=a.abs(s.touches[0].pageY-s.touches[1].pageY);r.touchesDistStart=a.sqrt(J*J+K*K);r.originX=a.abs(s.touches[0].pageX+s.touches[1].pageX-r.wrapperOffsetLeft*2)/2-r.x;r.originY=a.abs(s.touches[0].pageY+s.touches[1].pageY-r.wrapperOffsetTop*2)/2-r.y;r.options.onZoomStart&&r.options.onZoomStart.call(r,s)}if(r.options.momentum){if(r.options.useTransform){K=getComputedStyle(r.scroller,
null)[d+"Transform"].replace(/[^0-9-.,]/g,"").split(",");J=K[4]*1;K=K[5]*1}else{J=getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,"")*1;K=getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(J!=r.x||K!=r.y){r.options.useTransition?r._unbind("webkitTransitionEnd"):w(r.aniTime);r.steps=[];r._pos(J,K)}}r.absStartX=r.x;r.absStartY=r.y;r.startX=r.x;r.startY=r.y;r.pointX=C.pageX;r.pointY=C.pageY;r.startTime=s.timeStamp||(new Date).getTime();r.options.onScrollStart&&r.options.onScrollStart.call(r,
s);r._bind(I);r._bind(D);r._bind(O)}},_move:function(s){var r=this,C=f?s.touches[0]:s,K=C.pageX-r.pointX,J=C.pageY-r.pointY,P=r.x+K,Z=r.y+J,X=s.timeStamp||(new Date).getTime();r.options.onBeforeScrollMove&&r.options.onBeforeScrollMove.call(r,s);if(r.options.zoom&&f&&s.touches.length>1){P=a.abs(s.touches[0].pageX-s.touches[1].pageX);Z=a.abs(s.touches[0].pageY-s.touches[1].pageY);r.touchesDist=a.sqrt(P*P+Z*Z);r.zoomed=true;C=1/r.touchesDistStart*r.touchesDist*this.scale;if(C<r.options.zoomMin)C=0.5*
r.options.zoomMin*Math.pow(2,C/r.options.zoomMin);else if(C>r.options.zoomMax)C=2*r.options.zoomMax*Math.pow(0.5,r.options.zoomMax/C);r.lastScale=C/this.scale;P=this.originX-this.originX*r.lastScale+this.x;Z=this.originY-this.originY*r.lastScale+this.y;this.scroller.style[d+"Transform"]=y+P+"px,"+Z+"px"+F+" scale("+C+")";r.options.onZoom&&r.options.onZoom.call(r,s)}else{r.pointX=C.pageX;r.pointY=C.pageY;if(P>0||P<r.maxScrollX)P=r.options.bounce?r.x+K/2:P>=0||r.maxScrollX>=0?0:r.maxScrollX;if(Z>r.minScrollY||
Z<r.maxScrollY)Z=r.options.bounce?r.y+J/2:Z>=r.minScrollY||r.maxScrollY>=0?r.minScrollY:r.maxScrollY;if(r.absDistX<6&&r.absDistY<6){r.distX+=K;r.distY+=J;r.absDistX=a.abs(r.distX);r.absDistY=a.abs(r.distY)}else{if(r.options.lockDirection)if(r.absDistX>r.absDistY+5){Z=r.y;J=0}else if(r.absDistY>r.absDistX+5){P=r.x;K=0}r.moved=true;r._pos(P,Z);r.dirX=K>0?-1:K<0?1:0;r.dirY=J>0?-1:J<0?1:0;if(X-r.startTime>300){r.startTime=X;r.startX=r.x;r.startY=r.y}r.options.onScrollMove&&r.options.onScrollMove.call(r,
s)}}},_end:function(s){if(!(f&&s.touches.length!=0)){var r=this,C=f?s.changedTouches[0]:s,K,J,P={dist:0,time:0},Z={dist:0,time:0},X=(s.timeStamp||(new Date).getTime())-r.startTime,ea=r.x,ka=r.y;r._unbind(I);r._unbind(D);r._unbind(O);r.options.onBeforeScrollEnd&&r.options.onBeforeScrollEnd.call(r,s);if(r.zoomed){ea=r.scale*r.lastScale;ea=Math.max(r.options.zoomMin,ea);ea=Math.min(r.options.zoomMax,ea);r.lastScale=ea/r.scale;r.scale=ea;r.x=r.originX-r.originX*r.lastScale+r.x;r.y=r.originY-r.originY*
r.lastScale+r.y;r.scroller.style[d+"TransitionDuration"]="200ms";r.scroller.style[d+"Transform"]=y+r.x+"px,"+r.y+"px"+F+" scale("+r.scale+")";r.zoomed=false;r.refresh();r.options.onZoomEnd&&r.options.onZoomEnd.call(r,s)}else{if(r.moved){if(X<300&&r.options.momentum){P=ea?r._momentum(ea-r.startX,X,-r.x,r.scrollerW-r.wrapperW+r.x,r.options.bounce?r.wrapperW:0):P;Z=ka?r._momentum(ka-r.startY,X,-r.y,r.maxScrollY<0?r.scrollerH-r.wrapperH+r.y-r.minScrollY:0,r.options.bounce?r.wrapperH:0):Z;ea=r.x+P.dist;
ka=r.y+Z.dist;if(r.x>0&&ea>0||r.x<r.maxScrollX&&ea<r.maxScrollX)P={dist:0,time:0};if(r.y>r.minScrollY&&ka>r.minScrollY||r.y<r.maxScrollY&&ka<r.maxScrollY)Z={dist:0,time:0}}if(P.dist||Z.dist){X=a.max(a.max(P.time,Z.time),10);if(r.options.snap){P=ea-r.absStartX;Z=ka-r.absStartY;if(a.abs(P)<r.options.snapThreshold&&a.abs(Z)<r.options.snapThreshold)r.scrollTo(r.absStartX,r.absStartY,200);else{snap=r._snap(ea,ka);ea=snap.x;ka=snap.y;X=a.max(snap.time,X)}}r.scrollTo(ea,ka,X)}else if(r.options.snap){P=ea-
r.absStartX;Z=ka-r.absStartY;if(a.abs(P)<r.options.snapThreshold&&a.abs(Z)<r.options.snapThreshold)r.scrollTo(r.absStartX,r.absStartY,200);else{snap=r._snap(r.x,r.y);if(snap.x!=r.x||snap.y!=r.y)r.scrollTo(snap.x,snap.y,snap.time)}}else r._resetPos(200)}else{if(f)if(r.doubleTapTimer&&r.options.zoom){clearTimeout(r.doubleTapTimer);r.doubleTapTimer=null;r.options.onZoomStart&&r.options.onZoomStart.call(r,s);r.zoom(r.pointX,r.pointY,r.scale==1?r.options.doubleTapZoom:1);r.options.onZoomEnd&&setTimeout(function(){r.options.onZoomEnd.call(r,
s)},200)}else r.doubleTapTimer=setTimeout(function(){r.doubleTapTimer=null;for(K=C.target;K.nodeType!=1;)K=K.parentNode;if(K.tagName!="SELECT"&&K.tagName!="INPUT"&&K.tagName!="TEXTAREA"){J=document.createEvent("MouseEvents");J.initMouseEvent("click",true,true,s.view,1,C.screenX,C.screenY,C.clientX,C.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,0,null);J._fake=true;K.dispatchEvent(J)}},r.options.zoom?250:0);r._resetPos(200)}r.options.onTouchEnd&&r.options.onTouchEnd.call(r,s)}}},_resetPos:function(s){var r=
this,C=r.x>=0?0:r.x<r.maxScrollX?r.maxScrollX:r.x,K=r.y>=r.minScrollY||r.maxScrollY>0?r.minScrollY:r.y<r.maxScrollY?r.maxScrollY:r.y;if(C==r.x&&K==r.y){if(r.moved){r.moved=false;r.options.onScrollEnd&&r.options.onScrollEnd.call(r)}if(r.hScrollbar&&r.options.hideScrollbar){if(d=="webkit")r.hScrollbarWrapper.style[d+"TransitionDelay"]="300ms";r.hScrollbarWrapper.style.opacity="0"}if(r.vScrollbar&&r.options.hideScrollbar){if(d=="webkit")r.vScrollbarWrapper.style[d+"TransitionDelay"]="300ms";r.vScrollbarWrapper.style.opacity=
"0"}}else r.scrollTo(C,K,s||0)},_wheel:function(s){var r=this,C,K;if("wheelDeltaX"in s){C=s.wheelDeltaX/12;K=s.wheelDeltaY/12}else C="detail"in s?(K=-s.detail*3):(K=-s.wheelDelta);if(r.options.wheelAction=="zoom"){K=r.scale*Math.pow(2,1/3*(K?K/Math.abs(K):0));if(K<r.options.zoomMin)K=r.options.zoomMin;if(K>r.options.zoomMax)K=r.options.zoomMax;if(K!=r.scale){!r.wheelZoomCount&&r.options.onZoomStart&&r.options.onZoomStart.call(r,s);r.wheelZoomCount++;r.zoom(s.pageX,s.pageY,K,400);setTimeout(function(){r.wheelZoomCount--;
!r.wheelZoomCount&&r.options.onZoomEnd&&r.options.onZoomEnd.call(r,s)},400)}}else{C=r.x+C;K=r.y+K;if(C>0)C=0;else if(C<r.maxScrollX)C=r.maxScrollX;if(K>r.minScrollY)K=r.minScrollY;else if(K<r.maxScrollY)K=r.maxScrollY;r.scrollTo(C,K,0)}},_mouseout:function(s){var r=s.relatedTarget;if(r)for(;r=r.parentNode;)if(r==this.wrapper)return;this._end(s)},_transitionEnd:function(s){var r=this;if(s.target==r.scroller){r._unbind("webkitTransitionEnd");r._startAni()}},_startAni:function(){var s=this,r=s.x,C=s.y,
K=(new Date).getTime(),J,P;if(!s.animating)if(s.steps.length){J=s.steps.shift();if(J.x==r&&J.y==C)J.time=0;s.animating=true;s.moved=true;if(s.options.useTransition){s._transitionTime(J.time);s._pos(J.x,J.y);s.animating=false;J.time?s._bind("webkitTransitionEnd"):s._resetPos(0)}else(function Z(){var X=(new Date).getTime();if(X>=K+J.time){s._pos(J.x,J.y);s.animating=false;s.options.onAnimationEnd&&s.options.onAnimationEnd.call(s);s._startAni()}else{X=(X-K)/J.time-1;P=a.sqrt(1-X*X);X=(J.x-r)*P+r;s._pos(X,
(J.y-C)*P+C);if(s.animating)s.aniTime=o(Z)}})()}else s._resetPos(400)},_transitionTime:function(s){s+="ms";this.scroller.style[d+"TransitionDuration"]=s;if(this.hScrollbar)this.hScrollbarIndicator.style[d+"TransitionDuration"]=s;if(this.vScrollbar)this.vScrollbarIndicator.style[d+"TransitionDuration"]=s},_momentum:function(s,r,C,K,J){r=a.abs(s)/r;var P=r*r/0.0012,Z=0;Z=0;if(s>0&&P>C){Z=J/(6/(P/r*6.0E-4));C+=Z;r=r*C/P;P=C}else if(s<0&&P>K){Z=J/(6/(P/r*6.0E-4));K+=Z;r=r*K/P;P=K}P*=s<0?-1:1;Z=r/6.0E-4;
return{dist:P,time:a.round(Z)}},_offset:function(s){for(var r=-s.offsetLeft,C=-s.offsetTop;s=s.offsetParent;){r-=s.offsetLeft;C-=s.offsetTop}if(s!=this.wrapper){r*=this.scale;C*=this.scale}return{left:r,top:C}},_snap:function(s,r){var C=this,K,J,P;P=C.pagesX.length-1;K=0;for(J=C.pagesX.length;K<J;K++)if(s>=C.pagesX[K]){P=K;break}P==C.currPageX&&P>0&&C.dirX<0&&P--;s=C.pagesX[P];J=(J=a.abs(s-C.pagesX[C.currPageX]))?a.abs(C.x-s)/J*500:0;C.currPageX=P;P=C.pagesY.length-1;for(K=0;K<P;K++)if(r>=C.pagesY[K]){P=
K;break}P==C.currPageY&&P>0&&C.dirY<0&&P--;r=C.pagesY[P];K=(K=a.abs(r-C.pagesY[C.currPageY]))?a.abs(C.y-r)/K*500:0;C.currPageY=P;C=a.round(a.max(J,K))||200;return{x:s,y:r,time:C}},_bind:function(s,r,C){(r||this.scroller).addEventListener(s,this,!!C)},_unbind:function(s,r,C){(r||this.scroller).removeEventListener(s,this,!!C)},destroy:function(){var s=this;s.scroller.style[d+"Transform"]="";s.hScrollbar=false;s.vScrollbar=false;s._scrollbar("h");s._scrollbar("v");s._unbind(A,window);s._unbind(B);s._unbind(I);
s._unbind(D);s._unbind(O);if(s.options.hasTouch){s._unbind("mouseout",s.wrapper);s._unbind(G)}s.options.useTransition&&s._unbind("webkitTransitionEnd");s.options.checkDOMChanges&&clearInterval(s.checkDOMTime);s.options.onDestroy&&s.options.onDestroy.call(s)},refresh:function(){var s=this,r,C=0,K=0;if(s.scale<s.options.zoomMin)s.scale=s.options.zoomMin;s.wrapperW=s.wrapper.clientWidth||1;s.wrapperH=s.wrapper.clientHeight||1;s.minScrollY=-s.options.topOffset||0;s.scrollerW=a.round(s.scroller.offsetWidth*
s.scale);s.scrollerH=a.round((s.scroller.offsetHeight+s.minScrollY)*s.scale);s.maxScrollX=s.wrapperW-s.scrollerW;s.maxScrollY=s.wrapperH-s.scrollerH+s.minScrollY;s.dirX=0;s.dirY=0;s.options.onRefresh&&s.options.onRefresh.call(s);s.hScroll=s.options.hScroll&&s.maxScrollX<0;s.vScroll=s.options.vScroll&&(!s.options.bounceLock&&!s.hScroll||s.scrollerH>s.wrapperH);s.hScrollbar=s.hScroll&&s.options.hScrollbar;s.vScrollbar=s.vScroll&&s.options.vScrollbar&&s.scrollerH>s.wrapperH;r=s._offset(s.wrapper);s.wrapperOffsetLeft=
-r.left;s.wrapperOffsetTop=-r.top;if(typeof s.options.snap=="string"){s.pagesX=[];s.pagesY=[];els=s.scroller.querySelectorAll(s.options.snap);i=0;for(l=els.length;i<l;i++){C=s._offset(els[i]);C.left+=s.wrapperOffsetLeft;C.top+=s.wrapperOffsetTop;s.pagesX[i]=C.left<s.maxScrollX?s.maxScrollX:C.left*s.scale;s.pagesY[i]=C.top<s.maxScrollY?s.maxScrollY:C.top*s.scale}}else if(s.options.snap){for(s.pagesX=[];C>=s.maxScrollX;){s.pagesX[K]=C;C-=s.wrapperW;K++}if(s.maxScrollX%s.wrapperW)s.pagesX[s.pagesX.length]=
s.maxScrollX-s.pagesX[s.pagesX.length-1]+s.pagesX[s.pagesX.length-1];K=C=0;for(s.pagesY=[];C>=s.maxScrollY;){s.pagesY[K]=C;C-=s.wrapperH;K++}if(s.maxScrollY%s.wrapperH)s.pagesY[s.pagesY.length]=s.maxScrollY-s.pagesY[s.pagesY.length-1]+s.pagesY[s.pagesY.length-1]}s._scrollbar("h");s._scrollbar("v");if(!s.zoomed){s.scroller.style[d+"TransitionDuration"]="0";s._resetPos(200)}},scrollTo:function(s,r,C,K){var J=this,P=s;J.stop();P.length||(P=[{x:s,y:r,time:C,relative:K}]);s=0;for(r=P.length;s<r;s++){if(P[s].relative){P[s].x=
J.x-P[s].x;P[s].y=J.y-P[s].y}J.steps.push({x:P[s].x,y:P[s].y,time:P[s].time||0})}J._startAni()},scrollToElement:function(s,r){var C=this;if(s=s.nodeType?s:C.scroller.querySelector(s)){s=C._offset(s);s.left+=C.wrapperOffsetLeft;s.top+=C.wrapperOffsetTop;s.left=s.left>0?0:s.left<C.maxScrollX?C.maxScrollX:s.left;s.top=s.top>C.minScrollY?C.minScrollY:s.top<C.maxScrollY?C.maxScrollY:s.top;r=r===undefined?a.max(a.abs(s.left)*2,a.abs(s.top)*2):r;C.scrollTo(s.left,s.top,r)}},scrollToPage:function(s,r,C){var K=
this;if(K.options.snap){s=s=="next"?K.currPageX+1:s=="prev"?K.currPageX-1:s;r=r=="next"?K.currPageY+1:r=="prev"?K.currPageY-1:r;s=s<0?0:s>K.pagesX.length-1?K.pagesX.length-1:s;r=r<0?0:r>K.pagesY.length-1?K.pagesY.length-1:r;K.currPageX=s;K.currPageY=r;s=K.pagesX[s];r=K.pagesY[r]}else{s=-K.wrapperW*s;r=-K.wrapperH*r;if(s<K.maxScrollX)s=K.maxScrollX;if(r<K.maxScrollY)r=K.maxScrollY}K.scrollTo(s,r,C||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(I);this._unbind(D);
this._unbind(O)},enable:function(){this.enabled=true},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):w(this.aniTime);this.steps=[];this.animating=this.moved=false},zoom:function(s,r,C,K){var J=this,P=C/J.scale;if(J.options.useTransform){J.zoomed=true;K=K===undefined?200:K;s=s-J.wrapperOffsetLeft-J.x;r=r-J.wrapperOffsetTop-J.y;J.x=s-s*P+J.x;J.y=r-r*P+J.y;J.scale=C;J.refresh();J.x=J.x>0?0:J.x<J.maxScrollX?J.maxScrollX:J.x;J.y=J.y>J.minScrollY?J.minScrollY:J.y<J.maxScrollY?
J.maxScrollY:J.y;J.scroller.style[d+"TransitionDuration"]=K+"ms";J.scroller.style[d+"Transform"]=y+J.x+"px,"+J.y+"px"+F+" scale("+C+")";J.zoomed=false}},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};if(typeof exports!=="undefined")exports.iScroll=h;else window.iScroll=h})();steal.loaded("webapp/lib/iscroll.js");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_desktop_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="desktop" data-role="page">   ');if(typeof blankState!=="undefined"&&blankState!=null&&(typeof blankState==="function"?blankState.call(f):blankState))c.push('   <div id="blank-state-overlay"></div>   ');c.push('      <div data-role="header">    ');if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||
user.is_public)==="function"?(!user||user.is_public).call(f):!user||user.is_public)){c.push('     <div id="signin-actions" data-role="controlgroup" data-type="horizontal">      <a id="login-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="b">Login</a>      <a id="signup-button" data-rel="dialog" data-transition="slidedown" data-role="button" data-theme="a">Register</a>      ');if(typeof!tablet!=="undefined"&&!tablet!=null&&(typeof!tablet==="function"?(!tablet).call(f):
!tablet))c.push('       <a id="find-company-button" data-role="button" data-theme="a">Lookup a Company</a>      ');c.push("     </div>    ")}c.push('        <div class="desktop-title">     <h1>FastND</h1>       ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(f):user&&!user.is_public)){c.push('      <p id="welcome-message">Hi, <strong>');if(typeof user.full_name!=="undefined"&&user.full_name!=
null)c.push(e.encode(typeof user.full_name==="function"?user.full_name.call(f):user.full_name));c.push("</strong></p>     ")}c.push("    </div>        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(f):user&&!user.is_public)){c.push('     <div id="header-buttons">          ');if(typeof tablet!=="undefined"&&tablet!=null&&(typeof tablet==="function"?tablet.call(f):tablet))c.push('       <a ontouchstart="" class="add-company-button">Profile</a>      ');
c.push('            <a ontouchstart="" id="profile-button" data-tooltip="User Profile">Profile</a>      <a ontouchstart="" id="manage-button" data-tooltip="Manage Columns" class="disabled">Manage Columns</a>      <a ontouchstart="" class="help-button" data-tooltip="Get Help">Help</a>      <a ontouchstart="" class="logout-button" data-tooltip="Log out of Finfore">Logout</a>     </div>    ')}else{c.push('     <div id="public-account-selectors">      ');if(typeof tablet!=="undefined"&&tablet!=null&&
(typeof tablet==="function"?tablet.call(f):tablet))c.push('       <a id="find-company-button" data-role="button" data-icon="search">Lookup a Company</a>      ');c.push("            ");if(typeof!tablet!=="undefined"&&!tablet!=null&&(typeof!tablet==="function"?(!tablet).call(f):!tablet)){c.push('       <p>Try out some of our public accounts by selecting your areas of focus</p>       <form>        <div data-role="fieldcontain">         <label for="profession">');if(typeof focus.professional.title!==
"undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(f):focus.professional.title));c.push('</label>         <select name="user[profession]" id="profession">          ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(f):focus.professional.profiles,function(n,h){with(this){c.push("           ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(f):(currentFocusId=h._id)));c.push('           <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(f):
selectedFocus.professional,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>          ")}});c.push('         </select>        </div>        <div data-role="fieldcontain">         <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(f):focus.industrial.title));c.push('</label>         <select name="user[industry]" id="industry">          ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(f):focus.industrial.profiles,function(n,h){with(this){c.push("           ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(f):(currentFocusId=h._id)));c.push('           <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(f):
selectedFocus.industrial,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>          ")}});c.push('         </select>        </div>        <div data-role="fieldcontain">         <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(f):focus.geographic.title));c.push('</label>         <select name="user[geographic]" id="geographic">          ');if(typeof(isSelected=false)!=="undefined"&&(isSelected=false)!=null)c.push(e.encode(typeof(isSelected=false)==="function"?(isSelected=false).call(f):(isSelected=false)));c.push("          ");if(typeof focus.geographic.profiles!==
"undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(f):focus.geographic.profiles,function(n,h){with(this){c.push("           ");if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(f):(currentFocusId=h._id)));c.push('           <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id===
"function"?h._id.call(f):h._id));c.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(f):selectedFocus.geographic,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId)){c.push(' selected="selected" ');if(typeof(isSelected=
true)!=="undefined"&&(isSelected=true)!=null)c.push(e.encode(typeof(isSelected=true)==="function"?(isSelected=true).call(f):(isSelected=true)));c.push(" ")}c.push(" ")}});c.push(" ");if(typeof(isSelected==false&&h.title=="USA & Canada")!=="undefined"&&(isSelected==false&&h.title=="USA & Canada")!=null&&(typeof(isSelected==false&&h.title=="USA & Canada")==="function"?(isSelected==false&&h.title=="USA & Canada").call(f):isSelected==false&&h.title=="USA & Canada"))c.push(' selected="selected" ');c.push(">");
if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>          ")}});c.push('         </select>        </div>       </form>       <button data-theme="a" data-icon="arrow-r" id="public-account-selector-btn">Try account</button>      ')}else c.push('       <button data-theme="a" data-icon="arrow-r" id="public-account-selector-btn">Use a Public Account</button>      ');c.push("     </div>    ")}c.push("            ");if(typeof!tablet!==
"undefined"&&!tablet!=null&&(typeof!tablet==="function"?(!tablet).call(f):!tablet)){c.push('    <div id="tabs-container">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" title="Scroll left" id="tab-scroll-left">Scroll left</a>     <div id="tab-bar">      <ul></ul>     </div>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" title="Scroll right" id="tab-scroll-right">Scroll right</a>     ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=
null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(f):user&&!user.is_public))c.push('      <a id="add-tab-button" data-icon="plus" data-iconpos="notext" data-tooltip="Add a new company" data-role="button" class="tooltip-top add-company-button">Add a new company</a>     ');c.push('    </div>        <select name="tab-list-selector" id="tab-list-selector" data-iconpos="notext" data-native-menu="false" data-theme="a"></select>    ')}c.push("       </div>      ");if(typeof tablet!==
"undefined"&&tablet!=null&&(typeof tablet==="function"?tablet.call(f):tablet)){c.push('    <div class="tablet-tab-selector" id="tablet-tabs">     <div class="tablet-selector-wrapper">      <div class="tablet-tab-list">       ');if(typeof(user&&!user.is_public&&1===2)!=="undefined"&&(user&&!user.is_public&&1===2)!=null&&(typeof(user&&!user.is_public&&1===2)==="function"?(user&&!user.is_public&&1===2).call(f):user&&!user.is_public&&1===2))c.push('        <a data-icon="plus" data-role="button" class="add-company-button" data-theme="a">Add a new company</a>       ');
c.push("      </div>     </div>    </div>   ")}c.push('      <div id="desktop-content" data-role="content"></div>   <div data-role="footer">    <div class="scrolling-ticker"></div>     </div>  </div>    ');if(typeof blankState!=="undefined"&&blankState!=null&&(typeof blankState==="function"?blankState.call(f):blankState))c.push('  <div id="blank-state" class="ui-body-c ui-corner-all">   <div class="ui-bar-a ui-corner-top"><h1>Welcome to <strong>FastND</strong></h1></div>   <div class="ui-content">      <p>Please try out some of our public profiles, by selecting different focus areas from these selectors. </p>    <p>If you like our service, please register for an account, using the button on the top left, after closing this message. </p>    <form>     <label>      <input type="checkbox" name="show-blank-state" id="show-blank-state" />      Don\'t show this message again     </label>     <a data-role="button" data-icon="delete" data-inline="true" data-theme="a" id="blank-state-close-btn">Close popup</a>    </form>   </div>  </div>  ');
c.push("    ");if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||user.is_public)==="function"?(!user||user.is_public).call(f):!user||user.is_public)){c.push('  <div id="public-account-selector" data-role="dialog" data-theme="a" data-content-theme="c" class="small-dialog">   <div data-role="header">    <h1>Public Accounts</h1>   </div>      <div data-role="content">    <p>Try out some of our public accounts by selecting your areas of focus</p>    <form>     <div data-role="fieldcontain">      <label for="profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(f):focus.professional.title));c.push('</label>      <select name="user[profession]" id="profession">       ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(f):focus.professional.profiles,function(n,h){with(this){c.push("        ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(f):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(f):
selectedFocus.professional,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>       ")}});c.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(f):focus.industrial.title));c.push('</label>      <select name="user[industry]" id="industry">       ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(f):focus.industrial.profiles,function(n,h){with(this){c.push("        ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(f):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(f):
selectedFocus.industrial,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>       ")}});c.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(f):focus.geographic.title));c.push('</label>      <select name="user[geographic]" id="geographic">       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(f):focus.geographic.profiles,function(n,h){with(this){c.push("        ");
if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(f):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(f):
selectedFocus.geographic,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>       ")}});c.push('      </select>     </div>    </form>    <button data-theme="b" data-icon="arrow-r" data-iconpos="right" class="public-account-selector-btn">Try account</button>   </div>   </div>  ')}c.push("")}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/desktop.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_tab-button_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<li data-company-id="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(f):tab.id));c.push('">   <a href="#');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(f):tab.id));c.push('">');if(typeof tab.title!=="undefined"&&tab.title!=null)c.push(e.encode(typeof tab.title===
"function"?tab.title.call(f):tab.title));c.push("</a>   ");if(typeof tab.closable!=="undefined"&&tab.closable!=null&&(typeof tab.closable==="function"?tab.closable.call(f):tab.closable))c.push('    <span class="ui-icon ui-icon-shadow ui-icon-delete tab-close-button"></span>   ');c.push("  </li>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/tab-button.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_tab-view_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(f):tab.id));c.push('" class="tab">   <div class="tab-scroller"></div>  </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/tab-view.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_tab-option_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<option value="');if(typeof tab.id!=="undefined"&&tab.id!=null)c.push(e.encode(typeof tab.id==="function"?tab.id.call(f):tab.id));c.push('-tab">   ');if(typeof tab.title!=="undefined"&&tab.title!=null)c.push(e.encode(typeof tab.title==="function"?tab.title.call(f):tab.title));c.push("  </option>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});
steal.loaded("webapp/views/tab-option.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_login_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="login-page" data-role="dialog" class="small-dialog" data-theme="a" data-content-theme="c">   <div data-role="header">    <h1>     ');typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen)?c.push("      Sign-In     "):c.push("      Welcome to       <strong>FastND</strong>     ");c.push('    </h1>   </div>   <div data-role="content">        ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('     <a data-role="button" data-theme="a" class="public-account-btn" data-icon="arrow-r" data-iconpos="right">Use a Public Account</a>     <hr />     <p class="separator-text">OR</p>    ');c.push('        <form id="new_user_session" data-ajax="false">     <div data-role="fieldcontain">      <label for="login">Username</label>      <input type="text" name="user_session[login]" id="login" value="" />     </div>     <div data-role="fieldcontain">      <label for="password">Password</label>      <input type="password" name="user_session[password]" id="password" value="" />     </div>             ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('      <div data-role="controlgroup" data-type="horizontal">       <a data-role="button" data-theme="b" id="signup-button">Register</a>     ');c.push('          <button type="submit" data-role="button" data-theme="a" id="signin-button">Login</button>          ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):
smallScreen))c.push("      </div>     ");c.push('          <a class="forgot-password">Forgot your password?</a>          <hr />     <p class="separator-text">OR</p>          <div class="social-signin">      <p>Sign-in with your account at: </p>             <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/google?callback=");
if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=
null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>              ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('       </div>       <div data-role="controlgroup" data-type="horizontal">      ');c.push('                <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?
finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>     </div>         </form>         </div>  </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/login.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_profile_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="profile-page" data-role="dialog" class="small-dialog ');if(typeof updateProfile!=="undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(f):updateProfile))c.push(" update-profile");c.push('">   <div data-role="header">    <h1>Professional Account Information</h1>   </div>   <div data-role="content" data-theme="c">         ');
if(typeof updateProfile!=="undefined"&&updateProfile!=null&&(typeof updateProfile==="function"?updateProfile.call(f):updateProfile))c.push('    <div class="social-signin">     <p>Connect your FastND account with your social networking accounts</p>          <div data-role="controlgroup" data-type="horizontal">          <a class="google-profile-connect" data-type="google" data-role="button" data-icon="google" data-inline="true">Google</a>      <a class="twitter-profile-connect" data-type="twitter" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>      <a class="linkedin-profile-connect" data-type="linkedin" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>     </div>    </div>         <em>Since this is your first time using FastND, please take a moment to update your profile. </em>    ');
c.push('       <form>     <div data-role="fieldcontain">      <label for="full_name">Full Name</label>      <input type="text" name="full_name" id="full_name" value="');if(typeof user.full_name!=="undefined"&&user.full_name!=null)c.push(e.encode(typeof user.full_name==="function"?user.full_name.call(f):user.full_name));c.push('" required>     </div>          ');if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(f):!updateProfile)){c.push('     <div data-role="fieldcontain">      <label for="email_work">Work Email:</label>      <input type="email" name="email_work" id="email_work" value="');
if(typeof user.email_work!=="undefined"&&user.email_work!=null)c.push(e.encode(typeof user.email_work==="function"?user.email_work.call(f):user.email_work));c.push('" required>     </div>     ')}c.push("          ");if(typeof!updateProfile!=="undefined"&&!updateProfile!=null&&(typeof!updateProfile==="function"?(!updateProfile).call(f):!updateProfile))c.push('      <div data-role="fieldcontain">       <label for="password">New Password:</label>       <input type="password" name="password" id="password" value=""  />      </div>            <div data-role="fieldcontain">       <label for="password_confirmation">Confirm Password:</label>       <input type="password" name="password_confirmation" id="password_confirmation" value="" />      </div>     ');
c.push('          <div data-role="fieldcontain">       <label for="user_geographic">');if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(f):focus.geographic.title));c.push('</label>      <select id="user_geographic" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=
null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(f):focus.geographic.profiles,function(n,h){with(this){c.push("        ");if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(f):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" ');
if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(f):selectedFocus.geographic,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&
h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>       ")}});c.push('      </select>         </div>          <div data-role="fieldcontain">      <label for="user_profession">');if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(f):focus.professional.title));c.push('</label>      <select id="user_profession" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(f):focus.professional.profiles,function(n,h){with(this){c.push("        ");if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(f):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&
h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(f):selectedFocus.professional,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');
c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>       ")}});c.push('      </select>     </div>          <div data-role="fieldcontain">      <label for="user_industry">');if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(f):focus.industrial.title));c.push('</label>      <select id="user_industry" name="profile_ids" multiple="multiple" data-native-menu="false">       <option>Choose focus areas</option>       ');
if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(f):focus.industrial.profiles,function(n,h){with(this){c.push("        ");if(typeof(currentFocusId=h._id)!=="undefined"&&(currentFocusId=h._id)!=null)c.push(e.encode(typeof(currentFocusId=h._id)==="function"?(currentFocusId=h._id).call(f):(currentFocusId=h._id)));c.push('        <option value="');if(typeof h._id!=="undefined"&&h._id!=
null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(f):selectedFocus.industrial,function(u,o){with(this){c.push(" ");if(typeof(o._id===currentFocusId)!=="undefined"&&o._id===currentFocusId!=null&&(typeof(o._id===currentFocusId)==="function"?(o._id===currentFocusId).call(f):o._id===currentFocusId))c.push(' selected="selected" ');
c.push(" ")}});c.push(">");if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>       ")}});c.push('      </select>     </div>                 <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Save Changes</button>          </div>    </form>      </div>     </div>')}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/profile.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_panel_controlgroup_tmpl",function(d){return function(e,f){e=[];var c=f.data;with(c){e.push('<div data-role="controlgroup" data-type="horizontal" class="ui-btn-right">   <a data-role="button" data-icon="refresh" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-refresh">Refresh</a>   ');if(typeof editable!=="undefined"&&editable!=null&&(typeof editable==="function"?editable.call(f):editable))e.push('    <a data-role="button" data-icon="grid" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-manage">Edit</a>    <a data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-remove">Remove</a>   ');
e.push("  </div>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/panel.controlgroup.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_manage_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="manage-page" data-role="dialog" class="ui-page">   <div data-role="header">    <h1>Finfore Management</h1>     </div>   <div data-role="content" data-theme="b">    <div id="management-tabs">     <ul>      ');if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(f):modules,function(n,h){with(this){c.push("            ");
if(typeof("management"in h)!=="undefined"&&"management"in h!=null&&(typeof("management"in h)==="function"?("management"in h).call(f):"management"in h)){c.push('        <li><a href="#management-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" rel="external" class="ui-btn ui-btn-up-a">');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push("</a></li>            ")}c.push("      ")}});c.push("     </ul>     ");
if(typeof modules!=="undefined"&&modules!=null)e.each(typeof modules==="function"?modules.call(f):modules,function(n){with(this){c.push('      <div id="management-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-category="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="management-tab-panel"></div>     ')}});c.push("    </div>   </div>   </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});
steal.loaded("webapp/views/manage.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_manage_feed-infos_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push("");if(typeof feeds!=="undefined"&&feeds!=null)e.each(typeof feeds==="function"?feeds.call(f):feeds,function(n,h){with(this){c.push('   <input type="radio" name="');if(typeof type!=="undefined"&&type!=null)c.push(e.encode(typeof type==="function"?type.call(f):type));c.push('-preset-sources" id="source-');if(typeof h._id!=="undefined"&&h._id!=
null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" data-address="');if(typeof h.address!=="undefined"&&h.address!=null)c.push(e.encode(typeof h.address==="function"?h.address.call(f):h.address));c.push('" class="preset-source" value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" data-role="none">   <label for="source-');if(typeof name!=="undefined"&&name!=null)c.push(e.encode(typeof name==="function"?
name.call(f):name));c.push("-");if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</label>  ")}});c.push("")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.feed-infos.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_manage_panels_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<input type="radio" data-native="true" class="mtab" id="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-panel-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" name="');if(typeof category!==
"undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push('-panels" data-index="');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" data-role="none">  <label for="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-panel-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?
index.call(f):index));c.push('" class="mtab-selector">   ');if(typeof panel.name!=="undefined"&&panel.name!=null)c.push(e.encode(typeof panel.name==="function"?panel.name.call(f):panel.name));c.push('  </label>    <div id="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-tab-");if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" class="mtab-content ui-body-c">   <div class="mtab-title ui-bar-a">    ');
if(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=="undefined"&&(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")!=null&&(typeof(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin")==="function"?(category!=="portfolio"&&category!=="keyword"&&category!=="linkedin").call(f):category!=="portfolio"&&category!=="keyword"&&category!=="linkedin"))c.push('     <div data-role="controlgroup" data-type="horizontal" class="source-list-controls ui-btn-right">      <a href="#" data-role="button" data-icon="plus" data-iconpos="notext" data-theme="a" data-inline="true" class="add-custom-source">Add Custom Source</a>      <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-theme="a" data-inline="true" class="remove-source">Remove Source</a>     </div>    ');
c.push("    <span>     ");if(typeof panel.name!=="undefined"&&panel.name!=null)c.push(e.encode(typeof panel.name==="function"?panel.name.call(f):panel.name));c.push("    </span>        ");if(typeof(category==="twitter"&&false)!=="undefined"&&(category==="twitter"&&false)!=null&&(typeof(category==="twitter"&&false)==="function"?(category==="twitter"&&false).call(f):category==="twitter"&&false)){c.push('     <a href="http://twitter.com/');if(typeof panel.account!=="undefined"&&panel.account!=null)c.push(e.encode(typeof panel.account===
"function"?panel.account.call(f):panel.account));c.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof panel.account!=="undefined"&&panel.account!=null)c.push(e.encode(typeof panel.account==="function"?panel.account.call(f):panel.account));c.push("</a>    ")}c.push("       </div>         ");if(typeof(category==="portfolio")!=="undefined"&&category==="portfolio"!=null&&(typeof(category==="portfolio")==="function"?(category==="portfolio").call(f):category===
"portfolio"))c.push('    <em class="extra-details">The list of Portfolios available in your Google Account will be visible here, <strong>after you reload the application. </strong></em>   ');else if(typeof(category=="keyword")!=="undefined"&&category=="keyword"!=null&&(typeof(category=="keyword")==="function"?(category=="keyword").call(f):category=="keyword")){c.push('    <div class="keyword-panel-settings">        <div data-role="fieldcontain">      <label for="keyword-text-');if(typeof index!==
"undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('">Keyword</label>             <input type="text" class="keyword-text" id="keyword-text-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" value="');if(typeof panel.keyword_column.keyword!=="undefined"&&panel.keyword_column.keyword!=null)c.push(e.encode(typeof panel.keyword_column.keyword==="function"?panel.keyword_column.keyword.call(f):
panel.keyword_column.keyword));c.push('"/>     </div>          <!--      <div data-role="fieldcontain">       <label for="keyword-followers-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('">Number of followers</label>       <select class="keyword-followers" id="keyword-followers-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('">        <option value="0" ');if(typeof(panel.keyword_column.follower==
0)!=="undefined"&&panel.keyword_column.follower==0!=null&&(typeof(panel.keyword_column.follower==0)==="function"?(panel.keyword_column.follower==0).call(f):panel.keyword_column.follower==0))c.push(' selected="selected" ');c.push('>Any number of followers</option>        <option value="100" ');if(typeof(panel.keyword_column.follower==100)!=="undefined"&&panel.keyword_column.follower==100!=null&&(typeof(panel.keyword_column.follower==100)==="function"?(panel.keyword_column.follower==100).call(f):panel.keyword_column.follower==
100))c.push(' selected="selected" ');c.push('>At least 100 followers</option>        <option value="1000" ');if(typeof(panel.keyword_column.follower==1E3)!=="undefined"&&panel.keyword_column.follower==1E3!=null&&(typeof(panel.keyword_column.follower==1E3)==="function"?(panel.keyword_column.follower==1E3).call(f):panel.keyword_column.follower==1E3))c.push(' selected="selected" ');c.push('>At least 1000 followers</option>       </select>      </div>            <div data-role="fieldcontain">            <fieldset data-role="controlgroup">        <legend>&nbsp;</legend>        <input type="checkbox" id="keyword-aggregate-');
if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" class="keyword-aggregate" ');if(typeof panel.keyword_column.is_aggregate!=="undefined"&&panel.keyword_column.is_aggregate!=null&&(typeof panel.keyword_column.is_aggregate==="function"?panel.keyword_column.is_aggregate.call(f):panel.keyword_column.is_aggregate))c.push(' checked="checked" ');c.push('/>        <label for="keyword-aggregate-');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index===
"function"?index.call(f):index));c.push('">Is aggregate</label>       </fieldset>            </div>     --\>          <div data-role="fieldcontain" class="keyword-save-container">      <button class="keyword-save">Save Column</button>     </div>       </div>    ')}else{c.push('    <div class="list-view">    ');if(typeof panel.user_feeds!=="undefined"&&panel.user_feeds!=null)e.each(typeof panel.user_feeds==="function"?panel.user_feeds.call(f):panel.user_feeds,function(n,h){with(this){c.push('     <input type="radio" data-native="true" name="');
if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-sources-");if(typeof h.feed_account_id!=="undefined"&&h.feed_account_id!=null)c.push(e.encode(typeof h.feed_account_id==="function"?h.feed_account_id.call(f):h.feed_account_id));c.push('" id="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)===
"function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-role="none" />     <label for="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</label>    ")}});c.push("    </div>   ")}c.push("  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.panels.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_manage_source_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<input type="radio" data-native="true" name="');if(typeof category!=="undefined"&&category!=null)c.push(e.encode(typeof category==="function"?category.call(f):category));c.push("-sources-");if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));
c.push('" data-index="');if(typeof index!=="undefined"&&index!=null)c.push(e.encode(typeof index==="function"?index.call(f):index));c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof source._id!=="undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(f):source._id));c.push('" data-id="');if(typeof source._id!==
"undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(f):source._id));c.push('" data-role="none">  <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof source._id!=="undefined"&&source._id!=null)c.push(e.encode(typeof source._id==="function"?source._id.call(f):source._id));c.push('">  ');if(typeof source.feed_info.title!==
"undefined"&&source.feed_info.title!=null&&(typeof source.feed_info.title==="function"?source.feed_info.title.call(f):source.feed_info.title)){c.push(" ");if(typeof source.feed_info.title!=="undefined"&&source.feed_info.title!=null)c.push(e.encode(typeof source.feed_info.title==="function"?source.feed_info.title.call(f):source.feed_info.title))}else{c.push(" ");if(typeof source.name!=="undefined"&&source.name!=null)c.push(e.encode(typeof source.name==="function"?source.name.call(f):source.name))}c.push(" ");
c.push("  </label>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/manage.source.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_signup_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="signup-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Sign up for FastND</h1>   </div>   <div data-role="content" data-theme="c">      <div id="signup-page1">     <div class="social-signin">      <p>Already have an account on these services? Sign in with: </p>            ');if(typeof!smallScreen!=="undefined"&&
!smallScreen!=null&&(typeof!smallScreen==="function"?(!smallScreen).call(f):!smallScreen)){c.push('       <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));
c.push('/socialcallback.php" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>        <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>      ')}c.push("            ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen===
"function"?smallScreen.call(f):smallScreen)){c.push('       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="google">Google</a>        </div>        <div class="ui-block-b">         <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="facebook">Facebook</a>        </div>       </fieldset>       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="twitter">Twitter</a>        </div>        <div class="ui-block-b">         <a href="');if(typeof finforeBaseUrl!==
"undefined"&&finforeBaseUrl!=null)c.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(f):finforeBaseUrl));c.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)c.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(f):finforeAppUrl));c.push('/socialcallback.php" data-role="button" data-icon="linkedin">Linkedin</a>        </div>       </fieldset>      ')}c.push('     </div>          <form class="new_user" id="new_user">       <div data-role="fieldcontain">       <label for="full_name">Full Name</label>            <input type="text" name="user[full_name]" id="full_name" value="" required />      </div>            <div data-role="fieldcontain">         <label for="user_email_work">Email</label>       <input id="user_email_work" name="user[email_work]" size="30" type="email" required />      </div>            <div data-role="fieldcontain">       <label for="user_password">Password</label>       <input id="user_password" name="user[password]" size="30" type="password" required />      </div>        <div data-role="fieldcontain">       <label for="user_password_confirmation">Password confirmation</label>       <input id="user_password_confirmation" name="user[password_confirmation]" size="30" type="password" required />      </div>            <div data-role="fieldcontain">        <label for="user_geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)c.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(f):focus.geographic.title));c.push('</label>       <select id="user_geographic" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles===
"function"?focus.geographic.profiles.call(f):focus.geographic.profiles,function(n,h){with(this){c.push('         <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>        ")}});c.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)c.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(f):focus.professional.title));c.push('</label>       <select id="user_profession" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles===
"function"?focus.professional.profiles.call(f):focus.professional.profiles,function(n,h){with(this){c.push('         <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>        ")}});c.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)c.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(f):focus.industrial.title));c.push('</label>       <select id="user_industry" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles===
"function"?focus.industrial.profiles.call(f):focus.industrial.profiles,function(n,h){with(this){c.push('         <option value="');if(typeof h._id!=="undefined"&&h._id!=null)c.push(e.encode(typeof h._id==="function"?h._id.call(f):h._id));c.push('">');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("</option>        ")}});c.push('       </select>      </div>            <input id="user_submit" name="commit" type="submit" value="Signup for a FastND Account" data-theme="b" />      </form>     </div>        <div id="signup-page2">     <div class="left-column">      <h2>Please connect your FastND account with the following providers</h2>     </div>          <div class="right-column">      <a class="twitter-connect-button" data-type="twitter">Connect with Twitter</a>                <!--      <a class="facebook-connect-button">Connect with Facebook</a>      --\>            <a class="linkedin-connect-button" data-type="linkedin">Connect with Linkedin</a>          <a class="google-connect-button" data-type="google">Connect with Google</a>         </div>          <a id="finish-btn" data-role="button" data-icon="check" data-theme="b">Finish setting up your FastND account</a>    </div>       </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/signup.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_addcompany_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div id="add-company-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Add a new company</h1>     </div>   <div data-role="content" data-theme="c">    <ul data-role="listview" data-filter="true" class="companies-list">     ');if(typeof companies!=="undefined"&&companies!=null)e.each(typeof companies==="function"?
companies.call(f):companies,function(n,h){with(this){c.push('     <li data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">      <span class="ui-icon ui-icon-plus"></span>      ');if(typeof h.title!=="undefined"&&h.title!=null)c.push(e.encode(typeof h.title==="function"?h.title.call(f):h.title));c.push("      ");if(typeof h.profiles!=="undefined"&&h.profiles!=null)e.each(typeof h.profiles==="function"?h.profiles.call(f):h.profiles,function(u,
o){with(this){c.push('       <span class="ui-li-count">');if(typeof o.title!=="undefined"&&o.title!=null)c.push(e.encode(typeof o.title==="function"?o.title.call(f):o.title));c.push("</span>           ")}});c.push("     </li>    ")}});c.push("    </ul>   </div>  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/addcompany.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_help_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<div data-role="dialog" class="small-dialog help-page">   <div data-role="header">    <h1>Help</h1>   </div>      <div data-role="content" data-theme="c">       <form>       <div data-role="fieldcontain">      <label for="subject">Subject:</label>      <input type="text" name="form[subject]" id="subject" value="" required>     </div>       <div data-role="fieldcontain">      <label for="message">Message:</label>      <textarea id="message" name="form[message]" required></textarea>     </div>          <div data-role="fieldcontain">      <label for="name">Name:</label>      <input type="text" name="form[name]" id="name" value="" required>     </div>          <div data-role="fieldcontain">      <label for="phone">Phone:</label>      <input type="tel" name="form[phone]" id="phone" value="">     </div>          <div data-role="fieldcontain">      <label for="email">Email:</label>      <input type="email" name="form[email]" id="email" value="" required>     </div>          <div data-role="fieldcontain">           <button type="submit" data-icon="check" data-theme="e" class="ui-block-a">Send Message</button>     </div>    </form>      </div>   </div>');return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/help.tmpl");if(smallScreen)$("html").addClass("small-screen");else var smallScreen=false;
var finfore=function(){var a={login:finforeBaseUrl+"/user_sessions.json",publicLogin:finforeBaseUrl+"/user_sessions/public_login.json",publicProfiles:finforeBaseUrl+"/category_focus.json",portfolioOverviews:finforeBaseUrl+"/portfolios/overviews.json",portfolioList:finforeBaseUrl+"/portfolios/list.json",feedAccounts:finforeBaseUrl+"/feed_accounts.json",companyTabs:finforeBaseUrl+"/user_company_tabs.json"},d=Storage.getItem("user");if(d)d=JSON.parse(d);var e=Storage.getItem("updateProfile");if(e)e=
e=="true";var f=document.documentElement.clientWidth>1024,c=Storage.getItem("blankState")?false:true,k={user:d,companies:[],panels:{main:{},portfolio:{},companies:{}},portfolios:[],feedInfos:{},ticker:{news:[],prices:[]},selectedFocus:{geographic:[],professional:[],industrial:[]},blankState:c,updateProfile:e},n=function(){$.ajaxSetup({dataType:"json",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token}})},h=function(){var G=Storage.getItem("selectedFocus");
G=G&&finfore.data.user.is_public?JSON.parse(G):finfore.data.user.profiles;$.each(G,function(){switch(this.profile_category.title){case "Geography":finfore.data.selectedFocus.geographic.push(this);break;case "Profession":finfore.data.selectedFocus.professional.push(this);break;case "Industry":finfore.data.selectedFocus.industrial.push(this);break}})},u=function(G){Loader.show();var y=Storage.getItem("focus"),F=new Date,s=false;if(y){y=JSON.parse(y);y.storageDate=new Date(y.storageDate);if(parseInt((F-
y.storageDate)/1E3)<3600)s=true}if(s){finfore.data.focus=y;G()}else WebService.focus({complete:function(r){finfore.data.focus={};$.each(r,function(C,K){if(K.title=="Profession")finfore.data.focus.professional=K;else if(K.title=="Geography")finfore.data.focus.geographic=K;else if(K.title=="Industry")finfore.data.focus.industrial=K});finfore.storeData({focus:finfore.data.focus});G()}})},o={date:new Date,shortDate:new Date,priceBridge:2,updateNews:function(G){finfore.data.ticker.news.push(G);finfore.desktop.ticker.updateNews(G)},
updatePrices:function(G){finfore.data.ticker.prices.push(G);finfore.desktop.ticker.updatePrices(G)},cleanTicker:function(){o.date=new Date;o.shortDate=new Date;o.date.setMinutes(o.date.getMinutes()-15);o.shortDate.setMinutes(o.shortDate.getMinutes()-15);var G=k.ticker.news.slice(0);$.each(k.ticker.news,function(y,F){if(F.from_user)new Date(F.created_at)<=o.shortDate&&G.splice(y,1);else new Date(F.publishedDate)<=o.date&&G.splice(y,1)});k.ticker.news=G.slice(0);empty(finfore.desktop.ticker.$node[0]);
$.each(k.ticker.news,function(y){finfore.desktop.ticker.updateNews(y)})}};o.date.setMinutes(o.date.getMinutes()-15);o.shortDate.setMinutes(o.shortDate.getMinutes()-15);window.setInterval(o.cleanTicker,9E5);var w=function(G,y){if(G.position>y.position)return 1;if(G.position<y.position)return-1;return 0},A={create:function(G){finfore.data.portfolios.push({feed_account:G});var y=finfore.data.portfolios.length-1;return $.ajax({url:a.portfolioList,data:{feed_account_id:G._id},success:function(F){A.createPanels(F,
y)}})},createPanels:function(G,y){G.rss.chanel.error&&$().toastmessage("showErrorToast","Can't sign-in into your Google Portfolios account. <br>Please make sure the details are correct. ");if(!G.rss.chanel.item){finfore.data.portfolios[0].list=[];return false}if(!$.isArray(G.rss.chanel.item))G.rss.chanel.item=[G.rss.chanel.item];finfore.data.portfolios[y].list=G.rss.chanel.item;$.each(finfore.data.portfolios[y].list,function(){var F=this,s=/[0-9]*$/.exec(this.id);if(s!=null)this.id_bare=s[0];setTimeout(function(){$.ajax({url:a.portfolioOverviews,
type:"GET",data:{feed_account_id:finfore.data.portfolios[y].feed_account._id,portfolio_id:F.id_bare},success:function(r){F.overview=r;finfore.panels.create({type:"portfolio",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[y],portfolio:F}});finfore.panels.create({type:"agenda",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[y],portfolio:F}});finfore.panels.create({type:"feed",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[y],
portfolio:F}})}})},50)})},remove:function(G){var y=G.feed_account._id;$.each(finfore.data.panels.portfolio,function(){$.each(this,function(){this.panel.feed_account._id===y&&finfore.desktop.panels.remove({options:{panel:this}})})})}},B={create:function(G){if(G.options.company){finfore.data.panels.companies[G.options.company.feed_info.id]||(finfore.data.panels.companies[G.options.company.feed_info.id]={});finfore.data.panels.companies[G.options.company.feed_info.id][G.type]||(finfore.data.panels.companies[G.options.company.feed_info.id][G.type]=
[]);finfore.data.panels.companies[G.options.company.feed_info.id][G.type].push(G.options)}else if(G.options.portfolio){finfore.data.panels.portfolio[G.type]||(finfore.data.panels.portfolio[G.type]=[]);finfore.data.panels.portfolio[G.type].push(G.options)}else{finfore.data.panels.main[G.type]||(finfore.data.panels.main[G.type]=[]);finfore.data.panels.main[G.type].push(G.options)}setTimeout(function(){finfore.desktop.panels.create(G)},50)},remove:function(G){finfore.data.panels.main[G.type].splice(G.options.index,
1);finfore.desktop.panels.remove(G)}},I={add:function(G,y){finfore.data.companies=finfore.data.companies.concat(G);$.each(G,function(){var F=this._id;finfore.desktop.tabs.add({id:F,title:this.feed_info.title,closable:!finfore.data.user.is_public});F=$("#"+F);var s;if(y){s=f?$("li:last",finfore.desktop.nodes.$tabList):$(".collapsible-company:last",finfore.desktop.nodes.$tabletTabs);finfore.desktop.tabs.select(s)}finfore.panels.create({type:"prices",tab:F,options:{company:this}});finfore.panels.create({type:"feed",
tab:F,options:{company:this}});finfore.panels.create({type:"feed",tab:F,options:{company:this,blogsearch:true}});finfore.panels.create({type:"twitter",tab:F,options:{company:this}});finfore.panels.create({type:"feed",tab:F,options:{company:this,bingsearch:true}});finfore.panels.create({type:"agenda",tab:F,options:{company:this}});finfore.panels.create({type:"agenda",tab:F,options:{company:this,competitor:true}});finfore.panels.create({type:"twitter",tab:F,options:{company:this,competitor:true}});
finfore.panels.create({type:"blinkx",tab:F,options:{company:this}})})},remove:function(){var G=$(this).parent("li"),y=$("a",G).attr("href").substr(1),F="<h2>Are you sure you sure you want to remove <em>"+$("a",G).text()+"</em>?</h2>";$.prompt(F,{callback:function(s){if(s){$.ajax({url:finforeBaseUrl+"/user_company_tabs/"+y+".json",type:"DELETE",data:{feed_account_id:y}});finfore.desktop.tabs.remove(G)}},buttons:{Cancel:false,"Remove Column":true}});return false}},D=function(){finfore.manage={};finfore.profile=
{}},O=function(){h();finfore.desktop.init();finfore.data.user.is_public&&D()};return{init:function(){d&&n();u(function(){if(d)WebService.refreshUser({complete:O});else{var G;$.each(finfore.data.focus.geographic.profiles,function(){if(this.title=="USA & Canada")G=this._id});finfore.publicLogin({ids:finfore.data.focus.industrial.profiles[0]._id+","+G+","+finfore.data.focus.professional.profiles[0]._id},O)}});if(finfore.data.user&&!finfore.data.user.is_public)finfore.data.blankState=false},panels:B,
portfolios:A,modules:{},companies:I,ticker:o,nodes:{},url:a,data:k,storeData:function(G){if(G.user){finfore.data.user=G.user;Storage.setItem("user",JSON.stringify(G.user));n()}if(G.focus){G.focus.storageDate=new Date;Storage.setItem("focus",JSON.stringify(G.focus))}G.selectedFocus&&Storage.setItem("selectedFocus",JSON.stringify(G.selectedFocus))},populate:function(){var G=[];(function(y){$.each(y,function(F,s){if(s.position==null)s.position=999});y.sort(w);$.each(y,function(){var F=this,s=F.category;
if(s=="portfolio")G.push(A.create(F));else{if(s=="rss")s="feed";else if(s=="chart")s="prices";else if(s=="gmail"||s=="facebook")return;s=="keyword"&&!F.keyword_column||B.create({type:s,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:F}})}});$.when(G).then(function(){smallScreen||finfore.desktop.enableManagement();Loader.hide()})})(finfore.data.user.feed_accounts);$.each(finfore.data.user.user_company_tabs,function(y,F){if(F.position==null)F.position=999});finfore.data.user.user_company_tabs.sort(w);
I.add(finfore.data.user.user_company_tabs)},tablet:false,smallScreen:smallScreen,$body:$("body"),publicLogin:function(G,y){$.mobile.showPageLoadingMsg&&$.mobile.showPageLoadingMsg();$.ajax({url:a.publicLogin,type:"POST",data:{pids:G.ids},success:function(F){if(F.user){Storage.removeItem("selectedFocus");var s=$.extend({},F.user);finfore.storeData({user:s});finfore.storeData({selectedFocus:F.selecteds})}else{$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.");
Loader.hide();return false}y&&y(s)},error:function(){$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.")}})}}}(),lastActivePage;finfore.$body.delegate("[data-role=dialog]","pageshow",function(a,d){if(d.prevPage.attr("data-role")=="page")lastActivePage=d.prevPage});
$.mobile.dialog.prototype._create=function(){var a=this.element,d=$("<a data-"+$.mobile.ns+"icon='delete' data-"+$.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");a.addClass("ui-overlay-"+this.options.overlayTheme);a.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(d).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");d.bind("vclick",
function(){$.mobile.changePage(lastActivePage,{changeHash:false,reverse:true,transition:"slidedown"});return false});a.bind("vclick submit",function(e){e=$(e.target).closest(e.type==="vclick"?"a":"form");var f;if(e.length&&!e.jqmData("transition")){f=$.mobile.urlHistory.getActive()||{};e.attr("data-"+$.mobile.ns+"transition",f.transition||$.mobile.defaultDialogTransition).attr("data-"+$.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){$(this).find("."+$.mobile.activeBtnClass).removeClass($.mobile.activeBtnClass)})};
var currentTitle=document.title;finfore.$body.delegate("div[data-role=page], div[data-role=dialog]","pagebeforeshow",function(){document.title=currentTitle});steal.loaded("webapp/core/core.js");
finfore.desktop=function(){var a={$page:[],tabs:{tabIndex:0}},d=document.documentElement.clientWidth<=1024,e=false;finfore.tablet=d;var f=0,c=$(document).width()-150,k=0,n=0,h={scroll:{}};h.add=function(y){var F,s=y.id!=="main"&&y.id!=="portfolio",r=$($.View("//webapp/views/tab-view.tmpl",{tab:y}));a.$desktopContent.append(r);if(d){if(s){F=$('<div data-role="collapsible" data-collapsed="true" class="collapsible-company" data-theme="b"><h3>'+y.title+"</h3><ul></ul></div>");a.$tabletTabs.append(F);
F.collapsible();F.bind("collapse expand",function(){a.tabletTabsScroller.refresh()});F.bind("expand",function(){h.select(F)});$("ul",F).listview()}else{F=$('<ul data-role="listview" data-inset="true" class="panel-list"><li data-role="list-divider">'+y.title+"</li></ul>");a.$tabletTabs.append(F);F.listview()}var C=new iScroll(y.id,{vScroll:false,snap:".panel",useTransition:true,lockDirection:true});r.bind("refreshScroll",function(){C.refresh();return C});a.tabletTabsScroller.refresh()}else{F=$($.View("//webapp/views/tab-button.tmpl",
{tab:y}));$("ul",a.$tabBar).append(F);f+=200;$("ul",a.$tabBar).width(f);var K=a.tabs.tabIndex;a.tabs.tabIndex++;a.$tabBar.hasClass("ui-navbar")?$("a",F).buttonMarkup({corners:false,shadow:false}):a.$tabBar.navbar();$(".tab-close-button",F).click(finfore.companies.remove);F.click(function(){$("#tab-list-selector-menu li").eq(K).trigger("click");return false});y=$($.View("//webapp/views/tab-option.tmpl",{tab:y}));y.data("target",F);a.$tabListSelector.append(y);a.$tabListSelector.selectmenu("refresh");
h.refresh()}$.data(r[0],"selector",F);$.data(F[0],"tabView",r);return F};h.select=function(y,F){var s=$.data(y[0],"tabView");if(!d){$(".ui-btn-active",a.$tabBar).removeClass("ui-btn-active");$("a",y).addClass("ui-btn-active");var r=y.position().left,C=r+a.$tabList.position().left;y.outerWidth();if(C<0){n=0-r;a.$tabList.css({left:n})}else if(C>c-200){n=c-200-r;a.$tabList.css({left:n})}}$(".active-tab",a.$page).removeClass("active-tab");s.addClass("active-tab");if(d){var K;s.trigger("refreshScroll");
s.bind("refreshScroll",function(J){K=J.result;F&&K.scrollToElement(F[0],100)});s.find(".panel").trigger("refreshScroll");a.tabletTabsScroller.scrollToElement(y[0],100)}};h.remove=function(y){var F=$($("a",y).attr("href")),s=y.prev("li");$("#"+$("a",s).attr("href").substr(1)+"-tab");$("a",y).hasClass("ui-btn-active")&&h.select(s);y.remove();F.remove();f-=200;a.$tabList.width(f);h.refresh();if(parseInt(a.$tabList.css("left"))!=0){y=parseInt(a.$tabList.css("left"))+200;a.$tabList.css({left:y})}};h.init=
function(){if(d)$("a:first",a.$tabletTabs).trigger("click");else{$("a:first",a.$tabBar).trigger("click");a.$tabListSelector=$("#tab-list-selector");a.$tabListSelector.change(function(){var y=$(this).find("option:selected").data("target");h.select(y)});$("#tab-list-selector-button").attr("data-tooltip","Tab List").removeAttr("title").addClass("tooltip-top");h.scroll.init()}};h.sort=function(y,F){var s,r=$(F.item).attr("data-company-id");y=F.item.parent().find("li");var C=[];if(r!=="main"&&r!=="portfolio"){y.each(function(K,
J){r=$(J).attr("data-company-id");if(r!=="main"&&r!=="portfolio"){s=$(J).index();C.push({_id:r,position:s})}});WebService.updateCompanies({userCompanyTabs:C})}};var u,o;h.scroll.init=function(){u=$("#tab-scroll-right");o=$("#tab-scroll-left");a.$tabBar.css("max-width",c);a.$tabList=$("ul",a.$tabBar);u.click(function(){if(n<=k+200)n=k;else n-=200;a.$tabList.css({left:n});return false});o.click(function(){if(n>=-200)n=0;else n+=200;a.$tabList.css({left:n});return false})};h.refresh=function(){k=a.$tabBar.width()-
f;if(k<0){a.$tabBar.removeClass("no-scroll");o.show();u.show()}else{a.$tabBar.addClass("no-scroll");o&&o.hide();u&&u.hide();a.$tabList.css({left:"0px"})}};var w={};w.create=function(y){var F=$('<div class="'+y.type+' panel" id="'+(y.options.feed_account?y.options.feed_account._id:"")+'"></div>');y.options.$node=F;$.data(F[0],"data",y.options);$.data(F[0],"type",y.type);y.options.$tab=$(".tab-scroller",y.tab);F.appendTo(y.options.$tab);if(d){var s=$(".panel",y.options.$tab),r=F.first().width();s=s.length*
parseInt(r);y.options.$tab.width(s);var C;if(y.options.feed_account)C=y.options.feed_account.name;s=$.data(y.tab[0],"selector");if(y.options.company){C=y.options.company.feed_info.title;if(y.type==="feed"){C="Company News";if(y.options.bingsearch)C="Additional News";if(y.options.blogsearch)C="News From Blogs"}if(y.type==="podcast")C="Podcasts";if(y.type==="prices")C="Prices";if(y.type==="agenda"&&!y.options.competitor)C="Calendar";if(y.type==="agenda"&&y.options.competitor)C="Competitors Calendar";
if(y.type==="twitter"&&!y.options.competitor)C="Breaking News";if(y.type==="twitter"&&y.options.competitor)C="Competitors News";if(y.type==="blinkx")C="Broadcast News";s=$("ul",s)}if(y.options.portfolio){C=y.options.portfolio.title;if(y.type==="agenda")C+=" Agenda";if(y.type==="portfolio")C+=" Stocks";if(y.type==="feed")C+=" News"}C=$("<li><a>"+C+"</a></li>");s.append(C);s.listview("refresh");var K;K=y.options.company?s.parents(".ui-collapsible:first"):s;C.click(function(){h.select(K,F)});setTimeout(function(){y.tab.trigger("refreshScroll");
a.tabletTabsScroller.refresh()},100);F.bind("init",function(){var J=F.find("[data-role=content]");if(!e){var P=a.$desktopContent.height()-43,Z=document.styleSheets[document.styleSheets.length-1];Z.insertRule(".panel-content-wrap { height: "+P+"px !important; }",Z.cssRules.length);e=true}J.wrap('<div class="panel-content-wrap"></div>');P=F.find(".panel-content-wrap");var X=new iScroll(P[0],{hScroll:false,hideScrollbar:true,lockDirection:true}),ea;J[0].addEventListener("DOMSubtreeModified",function(){ea&&
clearTimeout(ea);ea=setTimeout(function(){X.refresh()},1500)},false);F.bind("refreshScroll",function(){X.refresh()})})}else F.bind("init",function(){finfore.data.user.is_public||w.sliders(F);w.controlgroup(y)});finfore.modules[y.type].init(F,y.options)};w.remove=function(y){y.options.panel.$node.remove()};w.controlgroup=function(y){var F=$("[data-role=header]:first",y.options.$node),s=y.tab.attr("id")=="main";if(finfore.data.user.is_public)s=false;s=$.View("//webapp/views/panel.controlgroup.tmpl",
{editable:s});F.append(s);F.find("[data-role=controlgroup] a").button();F.find("[data-role=controlgroup]").controlgroup();y.options.$node.bind("manage",function(){finfore.manage.init({target:{type:$.data(y.options.$node[0],"type"),data:$.data(y.options.$node[0],"data")}})})};w.sliders=function(y){var F=$('<div class="panel-slider-controls"></div>'),s=$('<button data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="d">Slide Panel Left</button>'),r=$('<button data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="d">Slide Panel Right</button>');
F.append(s,r);s.button();r.button();s.click(A);r.click(A);F.appendTo(y)};var A=function(){var y=$(this).parents(".panel").first(),F=y.next(".panel"),s=y.prev(".panel"),r=y.width();if($(this).attr("data-icon")==="arrow-r"){if(F.length){F.animate({left:"-="+r},300,function(){F.css("left","auto")});y.css("z-index","99").animate({left:"+="+r},300,function(){y.css({left:"auto","z-index":"0"});y.insertAfter(F);w.sort({},{item:y})})}}else if(s.length){s.animate({left:"+="+r},300,function(){s.css("left",
"auto")});y.css("z-index","99").animate({left:"-="+r},300,function(){y.css({left:"auto","z-index":"0"});y.insertBefore(s);w.sort({},{item:y})})}return false};w.sort=function(y,F){var s=[],r;F.item.parent().find(".panel").each(function(C,K){columnId=$.data(K,"data").feed_account._id;r=$(K).index();s.push({_id:columnId,position:r})});WebService.updateColumns({columns:s})};var B=function(){a.$publicSelectors=$("#public-account-selectors");a.$publicAccountSelectorBtn=$("button",a.$publicSelectors);if(d){a.$publicPage=
$("#public-account-selector");a.$publicPage.page();a.$professionSelector=$("#profession",a.$publicPage);a.$geoSelector=$("#geographic",a.$publicPage);a.$industrySelector=$("#industry",a.$publicPage);$(".public-account-selector-btn",a.$publicPage).click(function(){var y=a.$industrySelector.val()+","+a.$geoSelector.val()+","+a.$professionSelector.val();finfore.publicLogin({ids:y},function(){window.location.reload()});return false});a.$publicAccountSelectorBtn.click(function(){$.mobile.changePage(a.$publicPage,
{transition:"slidedown"});return false})}else{a.$professionSelector=$("#profession",a.$publicSelectors);a.$geoSelector=$("#geographic",a.$publicSelectors);a.$industrySelector=$("#industry",a.$publicSelectors);a.$publicAccountSelectorBtn.click(function(){var y=a.$industrySelector.val()+","+a.$geoSelector.val()+","+a.$professionSelector.val();finfore.publicLogin({ids:y},function(){window.location.reload()})})}},I=function(){var y=$("#blank-state-overlay"),F=$("#blank-state");$(".ui-header",a.$page).css("z-index",
"auto");$("[data-role=button]",F).button();$("form input[type=checkbox]",F).change(function(){$(this).is(":checked")?Storage.setItem("blankState",false):Storage.setItem("blankState",true)});$("#blank-state-close-btn",F).click(function(){F.remove();y.remove();$(".ui-header",a.$page).css("z-index","2")})},D=function(){var y=$("#main");finfore.$body.delegate(".panel-refresh","click",function(){$(this).parents(".panel:first").trigger("refresh")});y.delegate(".panel-manage","click",function(){$(this).parents(".panel:first").trigger("manage")});
y.delegate(".panel-remove","click",function(){var F=$(this).parents(".panel:first"),s=$.data(F[0],"type"),r=$("#manage-page");if(!r.length){finfore.manage.init({silentInit:true});r=$("#manage-page")}r=$("#management-tab-"+s,r);r=$(".mtabs-container",r);r=$(".mtab",r);var C=$.data(F[0],"data"),K,J;r.each(function(){J=$(this);K=$.data(J[0],"data");if(C===K){J.attr("checked","checked").trigger("change");return false}});finfore.manage.panels.remove({$node:J,category:s})})},O={$node:"",$ghost:$('<marquee scrollamount="2"></marquee>'),
updateNews:function(y){if(y.screen_name){var F="http://twitter.com/"+y.from_user;if(y.text){var s=y.text.match(/(HTTP:\/\/|HTTPS:\/\/)([a-zA-Z0-9.\/&?_=!*,\(\)+-]+)/i);if(s)F=s[0]}y='<a href="'+F+'" target="_blank" class="twitter-update" title="'+y.text+'">'+y.text+"</a>"}else if(y.elt||y.lt){F=y.e+":"+y.t;s="";var r=y.cp;if(r<0)s="-";else if(r>0)s="+";s=F+": "+y.l+" "+s+" "+Math.abs(r)+"%";y='<a href="http://www.google.com/finance?q='+F+'" target="_blank" class="prices-update" title="'+y.name+'">'+
s+"</a>"}else y='<a href="'+y.link+'" target="_blank" class="feed-update" title="'+y.title+'">'+(y.title||"")+"</a>";empty(O.$node[0]);O.$ghost.removeData();O.$ghost.append(y);O.$ghost.clone().appendTo(O.$node)}};O.updatePrices=O.updateNews;var G=function(){$(window).bind("orientationchange resize",function(){var y=a.$desktopContent.height()-43,F=document.styleSheets[document.styleSheets.length-1];F.insertRule(".panel-content-wrap { height: "+y+"px !important; }",F.cssRules.length);y=$(".active-tab",
a.$page);F=$(".panel",y);y.trigger("refreshScroll");F.trigger("refreshScroll");a.tabletTabsScroller.refresh()})};return{init:function(){var y=$.View("//webapp/views/desktop.tmpl",{user:finfore.data.user,focus:finfore.data.focus,blankState:finfore.data.blankState,selectedFocus:finfore.data.selectedFocus,tablet:d});$(y).appendTo(finfore.$body);a.$page=$("#desktop");$.mobile.changePage(a.$page,{changeHash:false});if(finfore.data.user){a.$tabBar=$("#tab-bar");a.$tabList=$("ul",a.$tabBar);a.$desktopContent=
$("#desktop-content");if(d){a.$tabletTabsContainer=$(".tablet-tab-selector",a.$page);a.tabletTabsScroller=new iScroll("tablet-tabs",{hScroll:false,hScrollbar:false,vScrollbar:false,useTransition:true});a.$tabletTabs=$(".tablet-tab-list",a.$tabletTabsContainer);G()}h.init();y=h.add({id:"main",title:"Main",closable:false});a.tabs.$main=$("#main");h.select(y);h.add({id:"portfolio",title:"Portfolio",closable:false});a.tabs.$portfolio=$("#portfolio");a.tabs.$main.add(a.tabs.$portfolio);finfore.populate();
O.$node=$(".scrolling-ticker",a.$page);O.$node.delegate("marquee","mouseover",function(){$("marquee",O.$node)[0].stop()});O.$node.delegate("marquee","mouseout",function(){$("marquee",O.$node)[0].start()});if(!finfore.data.user.is_public){finfore.$body.addClass("registered-user");if(!finfore.data.user.is_public&&!d){a.$panelsSortable=$("#main .tab-scroller");a.$panelsSortable.sortable({helper:"clone",handle:'[data-role="header"]',stop:w.sort});a.$tabsSortable=$("ul:first-child",a.$tabBar);a.$tabsSortable.sortable({containment:"parent",
revert:true,tolerance:"pointer",stop:h.sort})}$(".logout-button",a.$page).bind("click",function(){Storage.removeItem("user");Storage.removeItem("updateProfile");window.location.reload();return false});$("#manage-button",a.$page).click(function(){finfore.manage.init();return false});$("#profile-button",a.$page).bind("click",function(){finfore.profile.init();return false});$(".help-button",a.$page).bind("click",function(){finfore.help.init();return false});$(".add-company-button",a.$page).click(finfore.addcompany.init)}}if(!finfore.data.user||
finfore.data.user.is_public){$("#login-button").click(function(){finfore.login.init();return false});$("#signup-button").click(function(){finfore.signup.init();return false});$("#find-company-button").click(function(){finfore.addcompany.init();return false});B()}finfore.data.blankState&&I();if(!d){$(window).bind("resize",function(){c=$(document).width()-150;a.$tabBar.css("max-width",c);h.refresh()});D()}finfore.data.updateProfile&&finfore.profile.init();if(finfore.tablet){var F=false;a.$desktopContent.delegate('a[target="_blank"]',
"click",function(){if(F)return false;else{F=true;setTimeout(function(){F=false},500);return true}})}},nodes:a,tabs:h,panels:w,ticker:O,enableManagement:function(){$("#manage-button",a.$page).removeClass("disabled")}}}();steal.loaded("webapp/core/desktop.js");
finfore.manage=function(){var a,d,e,f={saveColumn:"Successfully saved new column. ",errorSaveColumn:"Couldn't save new column. ",updateColumn:"Successfully updated the column. ",errorUpdateColumn:"Couldn't update column. Please try again later.",deleteColumn:"Successfully removed column. ",errorDeleteColumn:"Couldn't remove column. ",saveSource:"Successfully saved new source. ",errorSaveSource:"Couldn't save new source. ",deleteSource:"Successfully removed source. ",errorDeleteSource:"Couldn't removed source. ",
errorGetFriends:"Your authorization token has expired. Please revalidate your account. ",saveUser:"Successfully added new user. ",errorSaveUser:"Couldn't add new user. ",deleteUser:"Successfully unfollowed user. ",errorDeleteUser:"Couldn't unfollow user. "},c=function(o){var w=$(o.$container).find("> input[data-index]");$.each(w,function(){var A=$(this),B=parseInt(A.attr("data-index"));o.category=="portfolio"?$.data(A[0],"data",finfore.data.portfolios[B]):$.data(A[0],"data",finfore.data.panels.main[o.category][B]);
A.removeAttr("data-index");if(o.category=="twitter")h.getFriends({$node:A,category:"twitter"});else{A=A.next().next();k({$container:A,category:o.category,index:B})}})},k=function(o){var w=$("input[data-index]",o.$container);$.each(w,function(){var A=$(this),B=parseInt(A.attr("data-index"));o.category=="portfolio"?$.data(A[0],"data",finfore.data.portfolios[o.index].list[B]):$.data(A[0],"data",finfore.data.panels.main[o.category][o.index].feed_account.user_feeds[B]);A.removeAttr("data-index")})},n=
{create:function(o){var w;if(o.category=="twitter"||o.category=="linkedin"||o.category=="portfolio"){w=o.category=="portfolio"?finfore.data.portfolios.length:finfore.data.panels.main[o.category].length;window.open(finforeBaseUrl+"/feed_accounts/"+(o.category=="portfolio"?"google":o.category+"")+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+finfore.data.user.persistence_token+"&callback="+(finforeAppUrl+"/authorize.php"),"_blank","resizable=yes,scrollbars=yes,status=yes");
window.addEventListener("message",authorized=function(B){n.authorizeListner(B,o,w)},false)}else{w=finfore.data.panels.main[o.category].length;function A(B,I,D){if(B&&D.columnTitle){$.mobile.showPageLoadingMsg();var O={name:D.columnTitle};O.category=o.category;if(o.category=="feed")O.category="rss";if(o.category=="prices")O.category="chart";if(o.category=="keyword")O.keyword_column_attributes={is_aggregate:false,follower:0,keyword:D.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts.json",type:"POST",
data:{feed_account:O,dependency:"false"},success:function(G){G={feed_account:G};if(o.category=="keyword")G.feed_account.keyword_column=O.keyword_column_attributes;n.createSuccess(o,w,G)},error:function(){$().toastmessage("showErrorToast",f.errorSaveColumn)},complete:function(){$.mobile.hidePageLoadingMsg()}})}}$.prompt('<h2>Create Column</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Column name.."></label>',
{callback:A,buttons:{Cancel:false,"Create Column":true}})}},createSuccess:function(o,w,A){$().toastmessage("showSuccessToast",f.saveColumn);A=A.feed_account;A.user_feeds=[];w=$.View("//webapp/views/manage.panels.tmpl",{panel:A,index:w,category:o.category});o.$node.append(w);o.$node.trigger("create");var B=$("input:last",o.$node);B.attr("checked","checked").trigger("change");w=B.next().next();w.find("[data-role=controlgroup] a").button();w.find("[data-role=controlgroup]").controlgroup();var I=o.$node.parents(".management-tab-panel").find(".preset-tabs");
$(".mtab-content:last",o.$node).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:B,$presets:I,category:o.category})}});o.category==="portfolio"?finfore.portfolios.create(A):finfore.panels.create({type:o.category,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:A}});c({$container:o.$node,category:o.category})},authorizeListner:function(o,w,A){if(finforeAppUrl.indexOf(o.origin)!=-1){o=o.data;$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+
"/feed_accounts/"+o+".json",type:"GET",success:function(B){B={feed_account:B};n.createSuccess(w,A,B)},complete:function(){$.mobile.hidePageLoadingMsg()}});window.removeEventListener("message",authorized)}},revalidate:function(o){var w,A;if(o.category=="twitter"||o.category=="linkedin"){w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));A=finfore.data.panels.main[o.category][w];A=A.feed_account._id;window.open(finforeBaseUrl+"/feed_accounts/"+o.category+"/auth?auth_token="+finfore.data.user.single_access_token+
"&auth_secret="+finfore.data.user.persistence_token+"&feed_account_id="+A+"&callback="+finforeAppUrl+"/authorize.php","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(B){n.authorizeListner(B,o,w)},false)}},edit:function(o){function w(I,D,O){if(I&&O.columnTitle){I={_id:B.feed_account._id,name:O.columnTitle};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+I._id+".json",type:"PUT",data:{feed_account:I},success:function(G){$().toastmessage("showSuccessToast",
f.updateColumn);B.feed_account=G.feed_account},error:function(){$().toastmessage("showErrorToast",f.errorUpdateColumn)}});O=o.category==="portfolio"?O.columnUsername:O.columnTitle;$(".ui-header .ui-title",o.$node).text(O);$(".mtab-title > span",o.$node.next().next()).text(O);o.$node.next().text(O)}}var A,B;if(o.category==="portfolio"){A=finfore.data.portfolios.indexOf($.data(o.$node[0],"data"));B=finfore.data.portfolios[A]}else{A=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));
B=finfore.data.panels.main[o.category][A]}$.prompt('<h2>Edit Column Title</h2><label>Title <br><input type="text" id="columnTitle" name="columnTitle" value="'+B.feed_account.name+'" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:w,buttons:{Cancel:false,"Update Column":true}})},remove:function(o){function w(I){if(I){$.ajax({url:finforeBaseUrl+"/feed_accounts/"+B.feed_account._id+".json",type:"DELETE",success:function(){$().toastmessage("showSuccessToast",
f.deleteColumn)},error:function(){$().toastmessage("showErrorToast",f.errorDeleteColumn)}});o.$node.prevAll("input:first").attr("checked","checked").trigger("change");o.$node.next().remove().end().next().remove().end().remove();o.category==="portfolio"?finfore.portfolios.remove(B):finfore.panels.remove({type:o.category,tab:finfore.desktop.nodes.tabs.$main,options:{panel:B,index:A}})}}var A,B;if(o.category==="portfolio"){A=finfore.data.portfolios.indexOf($.data(o.$node[0],"data"));B=finfore.data.portfolios[A]}else{A=
finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data"));B=finfore.data.panels.main[o.category][A]}$.prompt("<h2>Are you sure you sure you want to remove <em>"+B.feed_account.name+"</em>?</h2>",{callback:w,buttons:{Cancel:false,Remove:true}})}},h={getFriends:function(o){var w=$.data(o.$node[0],"data"),A=o.$node.next().next(),B=finfore.data.panels.main.twitter.indexOf(w);A.addClass("loading-content");$.ajax({url:finforeBaseUrl+"/tweetfores/friends.json",type:"GET",data:{feed_account_id:w.feed_account._id},
success:function(I){A.find(".list-view").empty();if(I.error){I='<div class="auth-error">'+f.errorGetFriends+'<a data-role="button" data-icon="refresh" data-inline="true" data-theme="b" class="revalidate-account">Revalidate Account</a></div>';A.find(".list-view").append(I);A.find(".list-view a").button().bind("click",function(){n.revalidate(o)});return false}w.friends=[];w.friends=$.map(I,function(D){return{_id:D.id,name:D.screen_name,feed_info:{title:D.screen_name},feed_account_id:w.feed_account._id}});
$.each(w.friends,function(D){var O=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:w.feed_account._id,source:finfore.data.panels.main.twitter[B].friends[D],index:D,category:"twitter"});A.find(".list-view").append(O);O=A.find(".list-view input:last");$.data(O[0],"data",finfore.data.panels.main.twitter[B].friends[D])})},complete:function(){A.removeClass("loading-content")}})},addCustom:function(o){function w(I,D,O){if(I&&O.sourceUsername){$.mobile.showPageLoadingMsg();O.sourceUsername=$.trim(O.sourceUsername);
$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:B,friend_id:O.sourceUsername},success:function(G){finfore.data.panels.main.twitter[A].friends.push({_id:G.id,name:G.screen_name,feed_account_id:B});var y=o.$node.nextAll("div:first");G=finfore.data.panels.main.twitter[A].friends.length-1;var F=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:B,source:finfore.data.panels.main.twitter[A].friends[G],index:G,category:"twitter"});y.find(".list-view").append(F);
finfore.data.panels.main.twitter[A].$node.trigger("reinit");y=y.find(".list-view input:last");$.data(y[0],"data",finfore.data.panels.main.twitter[A].friends[G]);$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",f.saveUser)},error:function(){$().toastmessage("showErrorToast",f.errorSaveUser)}})}}var A=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),B=finfore.data.panels.main[o.category][A].feed_account._id;$.prompt('<h2>Follow Twitter User</h2><label>Username <br> <input type="text" id="sourceUsername" name="sourceUsername" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',
{callback:w,buttons:{Cancel:false,"Follow User":true}})},remove:function(o){function w(G){if(G){I.attr("data-id");$.ajax({url:finforeBaseUrl+"/tweetfores/friend_remove.json",type:"POST",data:{feed_account_id:B,friend_id:O},success:function(){$().toastmessage("showSuccessToast",f.deleteUser)},error:function(){$().toastmessage("showErrorToast",f.errorDeleteUser)}});I.prevAll("input:first").attr("checked","checked").trigger("change");I.next().remove().end().remove();finfore.data.panels.main[o.category][A].friends.splice(D,
1);finfore.data.panels.main[o.category][A].$node.trigger("reinit")}}var A=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),B=finfore.data.panels.main[o.category][A].feed_account._id,I=$("input:checked",o.$node.next().next()),D=finfore.data.panels.main[o.category][A].friends.indexOf($.data(I[0],"data")),O=finfore.data.panels.main[o.category][A].friends[D]._id;$.prompt("<h2>Are you sure you sure you want to stop following <em>"+finfore.data.panels.main[o.category][A].friends[D].name+
"</em>?</h2>",{callback:w,buttons:{Cancel:false,Unfollow:true}})},addPreset:function(o){var w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),A=finfore.data.panels.main[o.category][w].feed_account._id,B=$(".preset-source:checked",o.$presets);B=$.trim(B.attr("data-address"));$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/tweetfores/friend_add.json",type:"POST",data:{feed_account_id:A,friend_id:B},success:function(I){finfore.data.panels.main.twitter[w].friends.push({id:I._id,
name:I.screen_name,feed_account_id:A});var D=o.$node.nextAll("div:first");I=finfore.data.panels.main.twitter[w].friends.length-1;var O=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:A,source:finfore.data.panels.main.twitter[w].friends[I],index:I,category:"twitter"});D.find(".list-view").append(O);finfore.data.panels.main.twitter[w].$node.trigger("reinit");D=D.find(".list-view input:last");$.data(D[0],"data",finfore.data.panels.main.twitter[w].friends[I]);$().toastmessage("showSuccessToast",
f.saveUser)},error:function(){$().toastmessage("showErrorToast",f.errorSaveUser)},complete:function(){$.mobile.hidePageLoadingMsg()}})}},u=function(){$.each(finfore.modules,function(o){var w=$("#management-tab-"+o);finfore.modules[o].management&&finfore.modules[o].management(w)});d=$("#management-tabs");e=$("#management-tabs > ul");$("a",e).click(function(){var o=$(this),w=$(o.attr("href"),d);$(".management-tab-active",e).removeClass("management-tab-active");o.addClass("management-tab-active");$(".management-tab-panel-active",
d).hide().removeClass("management-tab-panel-active");w.show().addClass("management-tab-panel-active");return false});$("a:first",e).trigger("click")};return{init:function(o){Loader.show();o||(o={});if(!a){var w=$.View("//webapp/views/manage.tmpl",{modules:finfore.modules});$(w).appendTo(finfore.$body);a=$("#manage-page");u(o);a.delegate(".mtab, .preset-tab-radio","change",function(){var B=$(this).parent();$(".visible-tab",B).removeClass("visible-tab");$(this).next().next().addClass("visible-tab")});
$(".preset-tabs",a).delegate("label","click",function(){$(this).prev("input").prop("checked",true).trigger("change")});$(".preset-tabs",a).delegate("label","mousedown",function(){$(this).trigger("click")})}if(o.target&&o.target.type){$('a[href="#management-tab-'+o.target.type+'"]',e).trigger("click");w=$("#management-tab-"+o.target.type,a);w=$(".mtabs-container",w);if(o.target.data){var A;$(".mtab",w).each(function(){var B=$(this);A=$.data(B[0],"data");if(o.target.data===A){B.prop("checked",true).trigger("change");
return false}})}}o.silentInit||$.mobile.changePage(a,{transition:"slidedown"});Loader.hide()},panels:n,bindPanelData:c,sources:{addCustom:function(o){function w(I,D,O){if(I&&O.sourceTitle&&O.sourceURL){$.mobile.showPageLoadingMsg();I=o.category;if(o.category=="feed")I="rss";if(o.category=="prices")I="chart";$.ajax({url:finforeBaseUrl+"/feed_accounts/"+B+".json",type:"PUT",data:{feed_account:{_id:B,user_feeds_attributes:[{feed_info_attributes:{category:I,title:O.sourceTitle,address:O.sourceURL}}]}},
success:function(G){finfore.data.panels.main[o.category][A].feed_account=G;var y=G.user_feeds.length-1;G=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:G._id,source:finfore.data.panels.main[o.category][A].feed_account.user_feeds[y],index:y,category:o.category});o.$node.nextAll("div:first").find(".list-view").append(G);finfore.data.panels.main[o.category][A].$node.trigger("reinit");k({$container:o.$node.parent(),category:o.category,index:A});$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",
f.saveSource)},error:function(){$().toastmessage("showErrorToast",f.errorSaveSource)}})}}var A=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),B=finfore.data.panels.main[o.category][A].feed_account._id;$.prompt(o.category==="twitter"?'<h2>Add Custom User</h2><input type="text" id="sourceTitle" name="sourceTitle" value="twitter" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" style="display: none"><label>Twitter Username <br> <input type="text" id="sourceURL" name="sourceURL" value="" placeholder="Username.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>':
'<h2>Add Custom Source</h2><label>Source Title <br> <input type="text" id="sourceTitle" name="sourceTitle" value="" placeholder="Title of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label><label>Source URL <br> <input type="url" id="sourceURL" name="sourceURL" value="" placeholder="URL of your source.." class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c"></label>',{callback:w,buttons:{Cancel:false,"Save Source":true}})},remove:function(o){function w(O){if(O){O=
B.attr("data-id");$.ajax({url:finforeBaseUrl+"/user_feeds/"+O+".json",type:"DELETE",data:{feed_account_id:finfore.data.panels.main[o.category][A].feed_account._id},success:function(){$().toastmessage("showSuccessToast",f.deleteSource)},error:function(){$().toastmessage("showErrorToast",f.errorDeleteSource)}});B.prevAll("input:first").attr("checked","checked").trigger("change");B.next().remove().end().remove();finfore.data.panels.main[o.category][A].feed_account.user_feeds.splice(I,1);finfore.data.panels.main[o.category][A].$node.trigger("reinit")}}
var A=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),B=$("input:checked",o.$node.next().next()),I=finfore.data.panels.main[o.category][A].feed_account.user_feeds.indexOf($.data(B[0],"data")),D=finfore.data.panels.main[o.category][A].feed_account.user_feeds[I].feed_info.title;if(!D)D=finfore.data.panels.main[o.category][A].feed_account.user_feeds[I].name;$.prompt("<h2>Are you sure you sure you want to remove the <em>"+D+"</em> source?</h2>",{callback:w,buttons:{Cancel:false,
"Remove Source":true}})},addPreset:function(o){var w=finfore.data.panels.main[o.category].indexOf($.data(o.$node[0],"data")),A=finfore.data.panels.main[o.category][w].feed_account._id,B=$(".preset-source:checked",o.$presets);B.next("label").text();var I="";if(B.attr("data-address"))I=B.attr("data-address");$.mobile.showPageLoadingMsg();I=o.category;if(o.category=="feed")I="rss";if(o.category=="prices")I="chart";I=B.val();$.ajax({url:finforeBaseUrl+"/feed_accounts/"+A+".json",type:"PUT",data:{feed_account:{_id:A,
user_feeds_attributes:[{feed_info_id:I}]}},success:function(D){finfore.data.panels.main[o.category][w].feed_account=D;var O=D.user_feeds.length-1;D=$.View("//webapp/views/manage.source.tmpl",{feed_account_id:D._id,source:finfore.data.panels.main[o.category][w].feed_account.user_feeds[O],index:O,category:o.category});o.$node.nextAll("div:first").find(".list-view").append(D);finfore.data.panels.main[o.category][w].$node.trigger("reinit");k({$container:o.$node.parent(),category:o.category,index:w});
B.next().remove().end().remove();$.mobile.hidePageLoadingMsg();$().toastmessage("showSuccessToast",f.saveSource)},error:function(){$().toastmessage("showErrorToast",f.errorSaveSource)}})}},twitter:h,messages:f,updateFeedInfos:function(o){$(o.$node).addClass("loading-content");$.ajax({url:finforeBaseUrl+"/feed_infos.json",type:"GET",data:{category:o.category,per_page:50,page:o.count},success:function(w){finfore.data.feedInfos[o.category]=w;w=$.View("//webapp/views/manage.feed-infos.tmpl",{feeds:w,
name:o.category,type:o.type});$(".list-view",o.$node).append(w);$(o.$node).removeClass("loading-content");$(".list-view label",o.$node).draggable({revert:"invalid",helper:"clone",cursor:"move"})}})}}}();steal.loaded("webapp/core/manage.js");
finfore.login=function(){var a,d={},e=function(){var c=$(this),k=$("#login",c).val();c=$("#password",c).val();WebService.auth({username:k,password:c,complete:function(n){finfore.storeData({user:n});window.location.reload()}});return false},f=function(){$.prompt('<p><label>Type your email address in the field bellow and we will send you a message with your password: <br><input type="text" id="email" name="email" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Email.."></label></p>',{callback:function(c,
k,n){c&&n.email&&$.ajax({url:finforeBaseUrl+"/users/forgot_password.json",type:"GET",data:{email:n.email},success:function(h){h.status=="SUCCESS"?$().toastmessage("showSuccessToast","A message containing your password has been sent to your email address. "):$().toastmessage("showErrorToast","We couldn't find your email address in our database. Please try again. ")},error:function(){$().toastmessage("showErrorToast","We couldn't send you your password. Please try again later. ")}})},buttons:{Cancel:false,
"Send Request":true}})};return{init:function(){if($("#login-page").length){a=$("#login-page");$.mobile.changePage(a,{transition:"slidedown"})}else{var c=$.View("//webapp/views/login.tmpl",{user:finfore.data.user,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl});$.mobile.hidePageLoadingMsg&&$.mobile.hidePageLoadingMsg();finfore.$body.append(c);a=$("#login-page");$("#signup-button",a).click(finfore.signup.init);
finfore.smallScreen?$.mobile.changePage(a,{changeHash:false}):$.mobile.changePage(a,{transition:"slidedown"});a.find("form").bind("submit",e);$(".forgot-password",a).click(f);if(smallScreen){d.$publicPage=$("#public-account-selector");d.$publicPage.page();d.$professionSelector=$("#profession",d.$publicPage);d.$geoSelector=$("#geographic",d.$publicPage);d.$industrySelector=$("#industry",d.$publicPage);$(".public-account-selector-btn").click(function(){var k=d.$industrySelector.val()+","+d.$geoSelector.val()+
","+d.$professionSelector.val();finfore.publicLogin({ids:k},function(n){finfore.storeData({user:n});window.location.reload()})});$(".public-account-btn").click(function(){$.mobile.changePage(d.$publicPage,{transition:"slide"});return false})}}}}}();steal.loaded("webapp/core/login.js");
finfore.signup=function(){var a,d,e,f,c,k,n,h=function(w){finfore.data.user=w.user;Storage.setItem("user",JSON.stringify(finfore.data.user));e.hide();f.show();$.mobile.hidePageLoadingMsg()},u=function(){$.mobile.showPageLoadingMsg();var w=$(this).serialize();$.ajax({url:finforeBaseUrl+"/users.json",type:"POST",data:w,error:function(A){$.mobile.hidePageLoadingMsg();try{var B=JSON.parse(A.responseText)}catch(I){$().toastmessage("showToast",{text:"There was a problem registering your user. Please try again later.",
type:"error",sticky:true});return false}$.each(B,function(D,O){if(O[0]=="email_work")O[0]="Your email";if(O[0]=="password")O[0]="Your password";if(O[0]!=="password_confirmation"&&O[0]!=="login"){D="<strong>"+O[0]+"</strong> "+O[1];$().toastmessage("showToast",{text:D,sticky:true,type:"error"})}})},success:h});return false},o=function(){var w=$(this),A=$(this).attr("data-type");window.open(finforeBaseUrl+"/feed_accounts/"+A+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+
finfore.data.user.persistence_token+"&callback="+finforeAppUrl+"/authorize.php","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(){w.hide();window.removeEventListener("message",authorized)},false)};return{init:function(){if($("#signup-page").length)$.mobile.changePage($("#signup-page"),{transition:"slidedown"});else{var w=$.View("//webapp/views/signup.tmpl",{focus:finfore.data.focus,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl,
smallScreen:finfore.smallScreen});$(w).appendTo(finfore.$body);a=$("#signup-page");d=$("[data-role=content]",a);e=$("#signup-page1",d);f=$("#signup-page2",d);c=$(".twitter-connect-button",a);$linkedinAuthBtn=$(".linkedin-connect-button",a);k=$(".google-connect-button",a);n=$("#finish-btn");c.click(o);$linkedinAuthBtn.click(o);k.click(o);n.click(function(){window.location.reload()});$.mobile.changePage($("#signup-page"),{transition:"slidedown"});d.find("form").submit(u)}},authorizeService:o}}();steal.loaded("webapp/core/signup.js");
finfore.profile=function(){var a,d=function(){var e=$("#user_geographic",a),f=$("#user_profession",a),c=$("#user_industry",a);if(!(e.val()&&f.val()&&c.val())){$().toastmessage("showToast",{text:"Please select at least one interest in each focus area selector. ",sticky:true,position:"top-right",type:"error"});return false}Loader.show();e=$(this).serializeObject();e.id=finfore.data.user._id;WebService.updateUser({data:e,complete:function(){$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});
if(finfore.data.updateProfile){Storage.removeItem("updateProfile");window.location.reload()}$().toastmessage("showSuccessToast","Successfully updated your profile. ")}});return false};return{init:function(){if(!a){var e=$.View("//webapp/views/profile.tmpl",{user:finfore.data.user,updateProfile:finfore.data.updateProfile,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,panels:finfore.data.panels,portfolios:finfore.data.portfolios});$(e).appendTo(finfore.$body);
a=$("#profile-page");$("#close-account-btn");$("form",a).submit(d);e=$(".twitter-profile-connect",a);var f=$(".linkedin-profile-connect",a),c=$(".google-profile-connect",a);e.click(finfore.signup.authorizeService);f.click(finfore.signup.authorizeService);c.click(finfore.signup.authorizeService)}$.mobile.changePage(a,{transition:"slidedown"})}}}();steal.loaded("webapp/core/profile.js");
finfore.addcompany=function(){var a,d,e,f=function(){var k=parseInt($(this).attr("data-index")),n=e[k]._id,h=false,u=finfore.smallScreen?finfore.desktop.nodes.$companiesPage:finfore.desktop.nodes.$page;$.each(finfore.data.companies,function(o,w){if(w.feed_info_id==n){w=o=$("#"+w._id,u);finfore.smallScreen||(w=$.data(o[0],"selector"));finfore.desktop.tabs.select(w);h=true;return false}});(function(){$.mobile.changePage(u,{transition:"slidedown",reverse:true});if(h)return false;if(finfore.data.user.is_public)finfore.companies.add([{feed_info:e[k],
_id:e[k]._id}],true);else{Loader.show();$.ajax({url:finforeBaseUrl+"/user_company_tabs.json",type:"POST",data:{user_company_tab:{feed_info_id:n,follower:"0",is_aggregate:true}},success:function(o){finfore.companies.add([o],true);Loader.hide()}})}})()},c=function(k,n){k=k.title.toLowerCase();n=n.title.toLowerCase();if(k<n)return-1;if(k>n)return 1;return 0};return{init:function(){Loader.show();a=$("#add-company-page");if(a.length){$.mobile.changePage(a,{transition:"slidedown"});Loader.hide()}else $.ajax({url:finforeBaseUrl+
"/feed_infos.json",type:"GET",data:{category:"all_companies"},success:function(k){if(!a.length){k.sort(c);e=k;k=$.View("//webapp/views/addcompany.tmpl",{companies:k});$(k).appendTo(finfore.$body);a=$("#add-company-page");d=$("[data-role=content]",a)}$("ul li",d).click(f);$.mobile.changePage(a,{transition:"slidedown"});Loader.hide()}})}}}();steal.loaded("webapp/core/addcompany.js");
finfore.help=function(){var a,d={},e=function(){var f=d.$form.serialize(),c=finforeBaseUrl+"/users/contact_admin";f+="&auth_token="+finfore.data.user.single_access_token;if(!(d.$subjectField.val()&&d.$messageField.val()&&d.$nameField.val()&&d.$emailField.val())){$().toastmessage("showToast",{text:"Please fill in all the available fields. ",sticky:true,position:"top-right",type:"error"});return false}$.mobile.showPageLoadingMsg();$.ajax({url:c,type:"POST",data:f,complete:function(){$().toastmessage("showSuccessToast",
"Successfully sent message. ");$.mobile.changePage(finfore.desktop.nodes.$page,{transition:"slidedown"});$.mobile.hidePageLoadingMsg()}});return false};return{init:function(){if(!a){var f=$.View("//webapp/views/help.tmpl",{});$(f).appendTo(finfore.$body);a=$(".help-page");d.$form=$("form",a);d.$subjectField=$("#subject",d.$form);d.$messageField=$("#message",d.$form);d.$nameField=$("#name",d.$form);d.$emailField=$("#email",d.$form);d.$form.submit(e)}$.mobile.changePage(a,{transition:"slidedown"})}}}();
steal.loaded("webapp/core/help.js");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div data-role="header">    ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('    <a data-role="button" data-icon="arrow-l" data-inline="true" class="ui-btn-left panel-back-button">Back</a>   ');c.push("   <h1>");if(typeof title!=="undefined"&&title!=null)c.push(e.encode(typeof title===
"function"?title.call(f):title));c.push("</h1>   ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))c.push('    <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right panel-mobile-sliders">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-previous">Previous Column</a>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-next">Next Column</a>    </div>   ');
c.push('  </div>  <div data-role="content">   ');if(typeof content!=="undefined"&&content!=null)c.push(typeof content==="function"?content.call(f):content);c.push("  </div>")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_feed_tmpl",function(d){return function(e,f){e=[];var c=f.data;with(c){e.push('<ul data-role="listview" data-theme="c" ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(f):smallScreen))e.push('data-split-icon="arrow-r" data-split-theme="c" class="split-selector"');e.push('>   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>')}return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_feed_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>RSS News Management</strong>   <span>Create Rss Column, grab the hot news and filter them easily. </span>  </div>    <div class="manage-content">   <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):panels,function(n,
h){with(this){c.push('        <input type="radio" data-role="none" class="mtab" id="feed-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="feed-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">     <label for="feed-panel-');if(typeof n!==
"undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('     </label>          <div id="feed-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&
n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=h.feed_account._id)!=="undefined"&&(feed_account_id=h.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=h.feed_account._id)==="function"?(feed_account_id=h.feed_account._id).call(f):(feed_account_id=
h.feed_account._id)));c.push("</span>       ");if(typeof h.feed_account.user_feeds!=="undefined"&&h.feed_account.user_feeds!=null)e.each(typeof h.feed_account.user_feeds==="function"?h.feed_account.user_feeds.call(f):h.feed_account.user_feeds,function(u,o){with(this){c.push('        <input type="radio" data-native="true" name="feed-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));
c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-id="');if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-index="');if(typeof u!=="undefined"&&u!=null)c.push(e.encode(typeof u===
"function"?u.call(f):u));c.push('" ');if(typeof(u==0)!=="undefined"&&u==0!=null&&(typeof(u==0)==="function"?(u==0).call(f):u==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('">');
if(typeof(o.feed_info&&o.feed_info.title)!=="undefined"&&(o.feed_info&&o.feed_info.title)!=null&&(typeof(o.feed_info&&o.feed_info.title)==="function"?(o.feed_info&&o.feed_info.title).call(f):o.feed_info&&o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(f):o.feed_info.title))}else{c.push(" ");if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?
o.name.call(f):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="feed-preset-all" name="feed-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none"/>    <label for="feed-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Feeds    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="feed-preset-suggested" name="feed-preset-tabs" class="preset-tab-radio" data-role="none"/>    <label for="feed-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Feeds    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_podcast_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_podcast_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Podcast Management</strong>   <span>Manage your video, radio, and any multimedia regarding your business points. </span>  </div>    <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):
panels,function(n,h){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="podcast-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="podcast-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="podcast-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('     </label>          <div id="podcast-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('</span>      </div>      <div class="list-view">       <span style="display: none">');if(typeof(feed_account_id=h.feed_account._id)!=="undefined"&&(feed_account_id=h.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=h.feed_account._id)==="function"?(feed_account_id=h.feed_account._id).call(f):(feed_account_id=
h.feed_account._id)));c.push("</span>       ");if(typeof h.feed_account.user_feeds!=="undefined"&&h.feed_account.user_feeds!=null)e.each(typeof h.feed_account.user_feeds==="function"?h.feed_account.user_feeds.call(f):h.feed_account.user_feeds,function(u,o){with(this){c.push('        <input type="radio" data-native="true" name="podcast-sources-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));
c.push('" id="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-id="');if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-index="');if(typeof u!=="undefined"&&u!=null)c.push(e.encode(typeof u===
"function"?u.call(f):u));c.push('" ');if(typeof(u==0)!=="undefined"&&u==0!=null&&(typeof(u==0)==="function"?(u==0).call(f):u==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('">');
if(typeof(o.feed_info&&o.feed_info.title)!=="undefined"&&(o.feed_info&&o.feed_info.title)!=null&&(typeof(o.feed_info&&o.feed_info.title)==="function"?(o.feed_info&&o.feed_info.title).call(f):o.feed_info&&o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(f):o.feed_info.title))}else{c.push(" ");if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?
o.name.call(f):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="podcast-preset-all" name="podcast-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="podcast-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Podcasts    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="podcast-preset-suggested" name="podcast-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="podcast-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Podcasts    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.management.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_twitter_tmpl",function(d){return function(e,f){e=[];var c=f.data;with(c){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(f):!connected))e.push('   <a class="twitter-connect-button">Connect with Twitter</a>  ');e.push('    <ul class="tweets"></ul>    ');if(typeof connected!=="undefined"&&connected!=null&&(typeof connected==="function"?connected.call(f):connected))e.push('   <ul data-role="listview" class="load-more-container">    <li data-icon="false" data-theme="d">     <a class="load-more-tweets">Load more...</a>    </li>   </ul>  ');
e.push("")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_twitter_tweet_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push("");if(typeof tweets!=="undefined"&&tweets!=null)e.each(typeof tweets==="function"?tweets.call(f):tweets,function(n,h){with(this){c.push('   <li class="ui-li ui-btn-up-c">    <a class="tweet-avatar" href="http://twitter.com/');if(typeof h.screen_name!=="undefined"&&h.screen_name!=null)c.push(e.encode(typeof h.screen_name==="function"?
h.screen_name.call(f):h.screen_name));c.push('" target="_blank">     <img src="');if(typeof h.profile_image_url!=="undefined"&&h.profile_image_url!=null)c.push(e.encode(typeof h.profile_image_url==="function"?h.profile_image_url.call(f):h.profile_image_url));c.push('" height="48" width="48" alt="');if(typeof h.screen_name!=="undefined"&&h.screen_name!=null)c.push(e.encode(typeof h.screen_name==="function"?h.screen_name.call(f):h.screen_name));c.push('" title="');if(typeof h.screen_name!=="undefined"&&
h.screen_name!=null)c.push(e.encode(typeof h.screen_name==="function"?h.screen_name.call(f):h.screen_name));c.push('" border="0">    </a>    <span class="tweet-text">     ');if(typeof h.html!=="undefined"&&h.html!=null)c.push(typeof h.html==="function"?h.html.call(f):h.html);c.push('    </span>    <span class="tweet-time">     <a href="http://twitter.com/');if(typeof h.screen_name!=="undefined"&&h.screen_name!=null)c.push(e.encode(typeof h.screen_name==="function"?h.screen_name.call(f):h.screen_name));
c.push("/status/");if(typeof h.id_str!=="undefined"&&h.id_str!=null)c.push(e.encode(typeof h.id_str==="function"?h.id_str.call(f):h.id_str));c.push('" title="View tweet on Twitter" target="_blank">      ');if(typeof h.created_at!=="undefined"&&h.created_at!=null)c.push(e.encode(typeof h.created_at==="function"?h.created_at.call(f):h.created_at));c.push("     </a>    </span>   </li>  ")}});c.push("")}return c}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tweet.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_twitter_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Twitters And Suggestions Management</strong>   <span>Manage your twitter accounts and suggestions list easily. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):
panels,function(n,h){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="twitter-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="twitter-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="twitter-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('     </label>          <div id="twitter-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Follow Custom User</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Unfollow User</a>       </div>       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push("</span>              ");if("boolean"!=="undefined"&&1&&("boolean"==="function"?false.call(f):false)){c.push('       <a href="http://twitter.com/');if(typeof h.feed_account.account!=="undefined"&&h.feed_account.account!=null)c.push(e.encode(typeof h.feed_account.account==="function"?h.feed_account.account.call(f):h.feed_account.account));
c.push('" target="_blank" class="ui-corner-bottom" title="Connected Twitter Account">');if(typeof h.feed_account.account!=="undefined"&&h.feed_account.account!=null)c.push(e.encode(typeof h.feed_account.account==="function"?h.feed_account.account.call(f):h.feed_account.account));c.push("</a>       ")}c.push('             </div>      <div class="list-view"></div>     </div>    ')}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset User</a>    </div>      <input type="radio" data-native="true" id="twitter-preset-all" name="twitter-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="twitter-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Users    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="twitter-preset-suggested" name="twitter-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="twitter-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Users    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_prices_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_prices_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Prices Management</strong>   <span>Create Prices Column, grab the hot news and filter them easily. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):panels,
function(n,h){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="prices-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="prices-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="prices-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('     </label>          <div id="prices-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==
0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <div data-role="controlgroup" data-type="horizontal" class="source-list-controls">        <a href="#" data-role="button" class="add-custom-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Custom Source</a>        <a href="#" data-role="button" class="remove-source" data-iconpos="notext" data-icon="delete" data-inline="true">Remove Source</a>       </div>       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('</span>      </div>      <div class="list-view">       ');if(typeof h.feed_account.user_feeds!=="undefined"&&h.feed_account.user_feeds!=null)e.each(typeof h.feed_account.user_feeds==="function"?h.feed_account.user_feeds.call(f):h.feed_account.user_feeds,function(u,o){with(this){c.push('        <input type="radio" data-native="true" name="prices-sources-');
if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?o.feed_account_id.call(f):o.feed_account_id));c.push('" id="source-');if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?o.feed_account_id.call(f):o.feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-id="');if(typeof o._id!==
"undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('" data-index="');if(typeof u!=="undefined"&&u!=null)c.push(e.encode(typeof u==="function"?u.call(f):u));c.push('" ');if(typeof(u==0)!=="undefined"&&u==0!=null&&(typeof(u==0)==="function"?(u==0).call(f):u==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof o.feed_account_id!=="undefined"&&o.feed_account_id!=null)c.push(e.encode(typeof o.feed_account_id==="function"?
o.feed_account_id.call(f):o.feed_account_id));c.push("-");if(typeof o._id!=="undefined"&&o._id!=null)c.push(e.encode(typeof o._id==="function"?o._id.call(f):o._id));c.push('">');if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null&&(typeof o.feed_info.title==="function"?o.feed_info.title.call(f):o.feed_info.title)){c.push(" ");if(typeof o.feed_info.title!=="undefined"&&o.feed_info.title!=null)c.push(e.encode(typeof o.feed_info.title==="function"?o.feed_info.title.call(f):o.feed_info.title))}else{c.push(" ");
if(typeof o.name!=="undefined"&&o.name!=null)c.push(e.encode(typeof o.name==="function"?o.name.call(f):o.name))}c.push(" ");c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>        <div class="preset-tabs ui-corner-all ui-body-b">    <div class="ui-header ui-bar-a">     <a href="#" data-role="button" class="add-preset-source" data-iconpos="notext" data-icon="plus" data-inline="true">Add Preset Source</a>    </div>        <input type="radio" data-native="true" id="prices-preset-all" name="prices-preset-tabs" class="preset-tab-radio" checked="checked" data-role="none">    <label for="prices-preset-all" class="preset-tab-selector ui-btn ui-btn-up-a">     All Prices    </label>    <div class="preset-tab-content visible-tab preset-sources-all">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>        <input type="radio" data-native="true" id="prices-preset-suggested" name="prices-preset-tabs" class="preset-tab-radio" data-role="none">    <label for="prices-preset-suggested" class="preset-tab-selector ui-btn ui-btn-up-a">     Suggested Relevant Prices    </label>    <div class="preset-tab-content preset-sources-suggested">     <div class="list-view" data-count="50"></div>     <a href="#" data-role="button" data-theme="c" class="load-more">Load more..</a>    </div>   </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_portfolio_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_portfolio_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Portfolio Management</strong>   <span>Collections of positions that the user holds in various securities, plus metadata, using Google Finance </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof portfolios!=="undefined"&&portfolios!=null)e.each(typeof portfolios===
"function"?portfolios.call(f):portfolios,function(n,h){with(this){c.push('     <input type="radio" data-native="true" class="mtab" id="portfolio-account-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="portfolio-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):
n));c.push('" data-role="none">     <label for="portfolio-account-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('     </label>          <div id="portfolio-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?
n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">            <span>');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('</span>      </div>            <em class="extra-details">Portfolios available in your Google Account</em>            <span style="display: none">');
if(typeof(feed_account_id=h.feed_account._id)!=="undefined"&&(feed_account_id=h.feed_account._id)!=null)c.push(e.encode(typeof(feed_account_id=h.feed_account._id)==="function"?(feed_account_id=h.feed_account._id).call(f):(feed_account_id=h.feed_account._id)));c.push('</span>      <div class="list-view">       ');if(typeof h.list!=="undefined"&&h.list!=null)e.each(typeof h.list==="function"?h.list.call(f):h.list,function(u,o){with(this){c.push('        <input type="radio" data-native="true" name="portfolio-sources-');
if(typeof feed_account_id!=="undefined"&&feed_account_id!=null)c.push(e.encode(typeof feed_account_id==="function"?feed_account_id.call(f):feed_account_id));c.push('" id="source-');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(f):o.id_bare));c.push('" data-id="');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(f):o.id_bare));c.push('" data-index="');if(typeof u!=="undefined"&&
u!=null)c.push(e.encode(typeof u==="function"?u.call(f):u));c.push('" ');if(typeof(u==0)!=="undefined"&&u==0!=null&&(typeof(u==0)==="function"?(u==0).call(f):u==0))c.push('checked="checked"');c.push(' data-role="none">        <label for="source-');if(typeof o.id_bare!=="undefined"&&o.id_bare!=null)c.push(e.encode(typeof o.id_bare==="function"?o.id_bare.call(f):o.id_bare));c.push('">');if(typeof o.title!=="undefined"&&o.title!=null)c.push(e.encode(typeof o.title==="function"?o.title.call(f):o.title));
c.push("</label>       ")}});c.push("      </div>     </div>    ")}});c.push('       </div>      <div class="module-details">       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-portfolio">Add Portfolio</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-portfolio">Edit Portfolio</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-portfolio">Delete Portfolio</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_agenda_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<div class="events-months-container"></div>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.agenda.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_linkedin_tmpl",function(d){return function(e,f){e=[];var c=f.data;with(c){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(f):!connected))e.push('  <a class="linkedin-connect-button">Connect with Twitter</a>  ');e.push("  <ul></ul>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_linkedin_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>LinkedIn Management</strong>   <span>Get the latest business news from LinkedIn and manage it. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):panels,
function(n,h){with(this){c.push('       <input type="radio" data-native="true" class="mtab" id="linkedin-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="linkedin-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="linkedin-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push("     </label>       ")}});c.push('       </div>      <div class="linkedin-management-details ui-body-c">        <p>You can add a new <strong>LinkedIn</strong> column using the <strong>Add Column</strong> button in the left side of the footer. </p>     </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_blinkx_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.blinkx.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_keyword_management_tmpl",function(d){return function(e,f){var c=[],k=f.data;with(k){c.push('<div class="ui-header ui-bar-b">   <strong>Keywords Management</strong>   <span>Manage your keywords. </span>  </div>  <div class="manage-content">     <div class="mtabs-container">        ');if(typeof panels!=="undefined"&&panels!=null)e.each(typeof panels==="function"?panels.call(f):panels,function(n,h){with(this){c.push('        <input type="radio" data-native="true" class="mtab" id="keyword-panel-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" name="keyword-panels" ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push('checked="checked"');c.push(' data-index="');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" data-role="none">     <label for="keyword-panel-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-selector">      ');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('     </label>          <div id="keyword-tab-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="mtab-content ui-body-c ');if(typeof(n==0)!=="undefined"&&n==0!=null&&(typeof(n==0)==="function"?(n==0).call(f):n==0))c.push("visible-tab");c.push('">      <div class="mtab-title ui-bar-a">       <span>');
if(typeof h.feed_account.name!=="undefined"&&h.feed_account.name!=null)c.push(e.encode(typeof h.feed_account.name==="function"?h.feed_account.name.call(f):h.feed_account.name));c.push('</span>           </div>      <div class="keyword-panel-settings">              <div data-role="fieldcontain">        <label for="keyword-text-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">Keyword</label>               <input type="text" class="keyword-text" id="keyword-text-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" value="');if(typeof h.feed_account.keyword_column.keyword!=="undefined"&&h.feed_account.keyword_column.keyword!=null)c.push(e.encode(typeof h.feed_account.keyword_column.keyword==="function"?h.feed_account.keyword_column.keyword.call(f):h.feed_account.keyword_column.keyword));c.push('"/>       </div>                   <!--       <div data-role="fieldcontain">        <label for="keyword-followers-');if(typeof n!==
"undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">Number of followers</label>        <select class="keyword-followers" id="keyword-followers-');if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">         <option value="0" ');if(typeof(h.feed_account.keyword_column.follower==0)!=="undefined"&&h.feed_account.keyword_column.follower==0!=null&&(typeof(h.feed_account.keyword_column.follower==0)==="function"?(h.feed_account.keyword_column.follower==
0).call(f):h.feed_account.keyword_column.follower==0))c.push(' selected="selected" ');c.push('>Any number of followers</option>         <option value="100" ');if(typeof(h.feed_account.keyword_column.follower==100)!=="undefined"&&h.feed_account.keyword_column.follower==100!=null&&(typeof(h.feed_account.keyword_column.follower==100)==="function"?(h.feed_account.keyword_column.follower==100).call(f):h.feed_account.keyword_column.follower==100))c.push(' selected="selected" ');c.push('>At least 100 followers</option>         <option value="1000" ');
if(typeof(h.feed_account.keyword_column.follower==1E3)!=="undefined"&&h.feed_account.keyword_column.follower==1E3!=null&&(typeof(h.feed_account.keyword_column.follower==1E3)==="function"?(h.feed_account.keyword_column.follower==1E3).call(f):h.feed_account.keyword_column.follower==1E3))c.push(' selected="selected" ');c.push('>At least 1000 followers</option>        </select>             </div>              <div data-role="fieldcontain">             <fieldset data-role="controlgroup">         <legend>&nbsp;</legend>         <input type="checkbox" id="keyword-aggregate-');
if(typeof n!=="undefined"&&n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('" class="keyword-aggregate" ');if(typeof h.feed_account.keyword_column.is_aggregate!=="undefined"&&h.feed_account.keyword_column.is_aggregate!=null&&(typeof h.feed_account.keyword_column.is_aggregate==="function"?h.feed_account.keyword_column.is_aggregate.call(f):h.feed_account.keyword_column.is_aggregate))c.push(' checked="checked" ');c.push('/>         <label for="keyword-aggregate-');if(typeof n!=="undefined"&&
n!=null)c.push(e.encode(typeof n==="function"?n.call(f):n));c.push('">Is aggregate</label>        </fieldset>             </div>       --\>              <div data-role="fieldcontain" class="keyword-save-container">        <button class="keyword-save">Save Column</button>       </div>              <div class="keyword-help">        <strong>Add Keyword Searches using Twitter.</strong>                      <div class="keyword-example">         <strong>Example:</strong>         <p>          <strong>HSBC shares</strong> will find tweets that contain <strong>both</strong> <em>HSBC</em> and <em>shares</em> <br>          <strong>"US economy"</strong> will find tweets containing the <strong>exact phrase</strong> <em>US economy</em> <br>          <strong>$AAPL OR $GOOG</strong> will find tweets containing <strong>either</strong> <em>$AAPL</em> or <em>$GOOG</em>         </p>        </div>       </div>             </div>     </div>    ')}});
c.push('       </div>     </div>    <div data-role="footer">   <div class="panel-controls">    <a href="#" data-role="button" data-icon="plus" class="add-column">Add Column</a>        <div data-role="controlgroup" data-type="horizontal">     <a href="#" data-role="button" data-icon="edit" data-iconpos="notext" data-inline="true" class="edit-column-title">Edit Title</a>     <a href="#" data-role="button" data-icon="delete" data-iconpos="notext" data-inline="true" class="remove-column">Delete Column</a>    </div>   </div>  </div>')}return c}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.management.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_keyword_tmpl",function(d){return function(e,f){e=[];f=f.data;with(f)e.push('<ul class="tweets"></ul>  <ul data-role="listview" class="load-more-container">   <li data-icon="false" data-theme="d">    <a class="load-more-tweets">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.tmpl");
finfore.modules.feed=function(){var a=function(e){var f=e.sources.slice(0);if(e.bingsearch&&e.limit>20){f[0]+="&news.offset=";f[0]+=e.limit*1-9}feedReader.get({sources:f,limit:e.limit,complete:function(c){if(!e.bingsearch&&e.loadMore===true&&e.limit>20)c=c.slice(e.limit-20,e.limit);var k="",n=c.length-1;$.each(c,function(h){if(e.loadMore===true||this.pubDate>e.date){k+=h===n?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';if(finfore.smallScreen){k+="<a><abbr>"+this.source+
"</abbr>";k+="<h3>"+this.title+"</h3>";k+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";k+='</a><a href="'+this.link+'" target="_blank" class="mobile-column-select"></a>'}else{k+='<a href="'+this.link+'" target="_blank"><abbr>'+this.source+"</abbr>";k+="<h3>"+this.title+"</h3>";k+="<p>"+this.description+"</p>";k+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";k+="</a>"}k+="</li>";if(!e.company||!finfore.smallScreen)this.pubDate>finfore.ticker.date&&finfore.ticker.updateNews(this)}});c=$(".load-more-entries",
e.$container).parents("li").first();$(k).insertBefore(c);c=$("[data-role=content] ul",e.$container);c.jqmData("listview")?c.listview("refresh"):c.listview();e.$container.removeClass("panel-loading")}})},d=function(e,f){var c=0,k=[];if(f.company){var n;if(f.blogsearch)n="http://www.google.com/search?hl=en&q="+$.URLEncode(f.company.feed_info.company_competitor.blog_keyword)+"&ie=utf-8&tbm=blg&num=100&output=rss";else if(f.bingsearch){f.company.feed_info.company_competitor.bing_keyword=f.company.feed_info.company_competitor.bing_keyword.replace(",",
" OR ");n="http://api.bing.com/rss.aspx?Source=News&Market=en-US&Version=2.0&Query="+$.URLEncode(f.company.feed_info.company_competitor.bing_keyword)+"&news.count=20"}else n="http://www.google.com/finance/company_news?q="+f.company.feed_info.company_competitor.finance_keyword+"&authuser=0&output=rss&num=100";k=[n]}if(f.portfolio&&f.portfolio.overview.rss.chanel.item)if($.isArray(f.portfolio.overview.rss.chanel.item))$.each(f.portfolio.overview.rss.chanel.item,function(){k.push("http://www.google.com/finance/company_news?q="+
this.google_ticker+"&authuser=0&output=rss")});else k=["http://www.google.com/finance/company_news?q="+f.portfolio.overview.rss.chanel.item.google_ticker+"&authuser=0&output=rss"];if(f.feed_account&&!f.portfolio)k=$.map(f.feed_account.user_feeds,function(u){return u.feed_info.address});var h=function(u,o){e.addClass("panel-loading");if(o===true)c+=20;a({sources:k,$container:e,date:new Date,loadMore:o,limit:c,blogsearch:f.blogsearch,bingsearch:f.bingsearch})};(function(){$(document).height();if(f.feed_account)var u=
f.feed_account.name;if(f.portfolio)u=f.portfolio.title;if(f.company){u="Company News";if(f.blogsearch)u="News from Blogs";if(f.bingsearch)u="Additional News"}var o=$.View("//webapp/views/module.feed.tmpl",{smallScreen:finfore.smallScreen});u=$.View("//webapp/views/module.tmpl",{title:u,smallScreen:finfore.smallScreen,content:o});$(u).appendTo(e);e.bind("refresh",h);e.bind("reinit",function(){clearInterval(w);e.unbind();e.empty();e.jqmRemoveData();d(e,f)});$(".load-more-entries",e).click(function(A){e.trigger("refresh",
[true]);A.preventDefault();return false});if(!finfore.smallScreen){var w=setInterval(h,3E5);e.trigger("refresh",[true])}e.page();e.trigger("init")})()};return{init:d,management:function(e){finfore.data.panels.main.feed||(finfore.data.panels.main.feed=[]);var f=$.View("//webapp/views/module.feed.management.tmpl",{panels:finfore.data.panels.main.feed});$(f).appendTo(e);var c=$(".mtabs-container",e);finfore.manage.bindPanelData({$container:c,category:"feed"});$(".edit-column-title",e).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",
c),category:"feed"})});$(".add-column",e).click(function(){finfore.manage.panels.create({$node:c,category:"feed"})});$(".remove-column",e).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",c),category:"feed"})});c.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",c),category:"feed"})});c.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",c),category:"feed"})});$(".add-preset-source",
e).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",c),$presets:$(".preset-tabs",e),category:"feed"})});$(".mtab-content",c).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",c),$presets:$(".preset-tabs",e),category:"feed"})}});var k=allCount=0,n=$(".preset-sources-suggested",e);f=$(".load-more",n);var h=$(".preset-sources-all",e),u=$(".load-more",h),o=function(){k++;finfore.manage.updateFeedInfos({$node:n,
type:"feed",category:"rss",count:k});return false},w=function(){allCount++;finfore.manage.updateFeedInfos({$node:h,type:"feed",category:"all,rss",count:allCount});return false};f.click(o);u.click(w);o();w()}}}();steal.loaded("webapp/modules/feed.js");
finfore.modules.podcast=function(){var a=["mp4","3g2","3gp","asf","asx","avi","flv","mov","mpg","rm","vob","webm","wmv","ogv","ogg"],d=function(f){feedReader.get({sources:f.sources,limit:f.limit,complete:function(c){if(f.loadMore===true&&f.limit>5)c=c.slice(f.limit-5,f.limit);var k="",n=c.length-1;$.each(c,function(o){if(f.loadMore===true||this.pubDate>f.date){k+=o===n?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';o=this.link;var w=o.split(".").pop();k+="<abbr>"+this.source+
"</abbr>";k+='<h3><a href="'+this.link+'" target="_blank">'+this.title+"</a></h3>";k+=$.inArray(w,a)===0?'<video src="'+o+'" width="270" height="150" controls="controls" type="video/'+w+'" preload="none"></video>':'<audio src="'+o+'" controls="controls" type="audio/'+w+'" preload="none"></audio>';k+="<p>"+this.description+"</p>";k+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";k+="</li>"}});c=$(".load-more-entries",f.$container).parents("li").first();var h=$(k),u=$("[data-role=content] ul",f.$container);
h.insertBefore(c);u.jqmData("listview")?u.listview("refresh"):u.listview();$("video, audio",h).mediaelementplayer({audioWidth:275,pluginPath:"webapp/lib/mediaelement/"});f.$container.removeClass("panel-loading")}})},e=function(f,c){var k=0,n=[];n=$.map(c.feed_account.user_feeds,function(u){return u.feed_info.address});var h=function(u,o){f.addClass("panel-loading");if(o===true)k+=5;d({sources:n,$container:f,date:new Date,loadMore:o,limit:k})};(function(){$(document).height();var u=$.View("//webapp/views/module.podcast.tmpl",
{});u=$.View("//webapp/views/module.tmpl",{title:c.feed_account.name,smallScreen:finfore.smallScreen,content:u});$(u).appendTo(f);$(".load-more-entries",f).click(function(w){f.trigger("refresh",[true]);w.preventDefault();return false});f.bind("refresh",h);f.bind("reinit",function(){clearInterval(o);f.unbind();f.empty();f.jqmRemoveData();e(f,c)});if(!finfore.smallScreen){var o=setInterval(h,3E5);f.trigger("refresh",[true])}f.page();f.trigger("init")})()};return{init:e,management:function(f){finfore.data.panels.main.podcast||
(finfore.data.panels.main.podcast=[]);var c=$.View("//webapp/views/module.podcast.management.tmpl",{panels:finfore.data.panels.main.podcast});$(c).appendTo(f);var k=$(".mtabs-container",f);finfore.manage.bindPanelData({$container:k,category:"podcast"});finfore.manage.bindPanelData({$container:k,category:"podcast"});$(".edit-column-title",f).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",k),category:"podcast"})});$(".add-column",f).click(function(){finfore.manage.panels.create({$node:k,
category:"podcast"})});$(".remove-column",f).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",k),category:"podcast"})});k.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",k),category:"podcast"})});k.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",k),category:"podcast"})});$(".add-preset-source",f).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
k),$presets:$(".preset-tabs",f),category:"podcast"})});$(".mtab-content",k).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",k),$presets:$(".preset-tabs",f),category:"podcast"})}});var n=allCount=0,h=$(".preset-sources-suggested",f);c=$(".load-more",h);var u=$(".preset-sources-all",f),o=$(".load-more",u),w=function(){n++;finfore.manage.updateFeedInfos({$node:h,type:"podcast",category:"podcast",count:n});return false},A=function(){allCount++;
finfore.manage.updateFeedInfos({$node:u,type:"podcast",category:"all,podcast",count:allCount});return false};c.click(w);o.click(A);w();A()}}}();steal.loaded("webapp/modules/podcast.js");
finfore.modules.twitter=function(){var a=function(d,e){var f,c=20,k,n,h,u,o=function(B){empty(n[0]);d.removeClass("panel-loading");if(B.results)B=B.results;$.each(B,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});f=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:B});n.append(f);B&&$.each(B,function(){var I=new Date(this.created_at);e.company&&finfore.smallScreen||I>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},w=function(B){d.addClass("panel-loading");if(B===true)c+=5;n.removeData();if(e.company){n.unbind("load");B=e.competitor?e.company.feed_info.company_competitor.keyword.replace(/,/g," OR "):e.company.feed_info.company_competitor.company_ticker+" OR "+e.company.feed_info.company_competitor.broadcast_keyword;$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:B,rpp:c},success:o})}else $.ajax({url:finforeBaseUrl+"/tweetfores/home_timeline.json",
type:"POST",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token,feed_account_id:e.feed_account._id,count:c},success:o})},A=function(){var B,I,D=false;if(e.company){I="Breaking News";if(e.competitor)I="Competitors News"}if(!e.company){I=e.feed_account.name;D=!e.feed_account.feed_token||!e.feed_account.feed_token.token}var O=$.View("//webapp/views/module.twitter.tmpl",{connected:!D});I=$.View("//webapp/views/module.tmpl",{title:I,smallScreen:finfore.smallScreen,
content:O});$(I).appendTo(d);k=$("[data-role=content]",d);n=$(".tweets",k);h=$(".load-more-tweets",k);u=$(".twitter-connect-button",d);d.addClass("panel-loading");if(D){w();var G=finforeBaseUrl+"/feed_accounts/twitter/auth?feed_account_id="+e.feed_account._id;u.click(function(){u.hide();d.addClass("panel-loading");var y=window.open(G,"twitterAuthWindow","resizable=yes,scrollbars=yes,status=yes"),F=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,
feed_token:{feed_account_id:e.feed_account.id,user_id:e.feed_account.user_id}},success:function(s){if(s.feed_token&&s.feed_token.token){e.feed_account.feed_token=s.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();A()}else if(y.closed){u.show();d.removeClass("panel-loading")}else setTimeout(F,1E4)}})};F();return false})}else if(!finfore.smallScreen){B=setInterval(w,3E5);w()}h.click(function(){d.trigger("refresh",[true])});d.page();d.bind("refresh",w);d.bind("reinit",function(){clearInterval(B);
d.unbind();d.empty();d.jqmRemoveData();a(d,e)});d.trigger("init")};A()};return{init:a,management:function(d){finfore.data.panels.main.twitter||(finfore.data.panels.main.twitter=[]);var e=$.View("//webapp/views/module.twitter.management.tmpl",{panels:finfore.data.panels.main.twitter});$(e).appendTo(d);var f=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:f,category:"twitter"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",f),category:"twitter"})});
$(".add-column",d).click(function(){finfore.manage.panels.create({$node:f,category:"twitter"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",f),category:"twitter"})});f.delegate(".add-custom-source","click",function(){finfore.manage.twitter.addCustom({$node:$(".mtab:checked",f),category:"twitter"})});f.delegate(".remove-source","click",function(){finfore.manage.twitter.remove({$node:$(".mtab:checked",f),category:"twitter"})});$(".add-preset-source",
d).click(function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",f),$presets:$(".preset-tabs",d),category:"twitter"})});$(".mtab-content",f).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",f),$presets:$(".preset-tabs",d),category:"twitter"})}});var c=allCount=0,k=$(".preset-sources-suggested",d);e=$(".load-more",k);var n=$(".preset-sources-all",d),h=$(".load-more",n),u=function(){c++;finfore.manage.updateFeedInfos({$node:k,
type:"twitter",category:"twitter",count:c});return false},o=function(){allCount++;finfore.manage.updateFeedInfos({$node:n,type:"twitter",category:"all,twitter",count:allCount});return false};e.click(u);h.click(o);u();o()}}}();steal.loaded("webapp/modules/twitter.js");
finfore.modules.prices=function(){var a=function(d,e){var f,c=f;e.company||$.map(e.feed_account.user_feeds,function(o){return o.feed_info_id});var k=10;c=k;var n=function(o){var w="",A;if(e.company){o=e.company.feed_info.company_competitor.company_ticker+",";A=e.company.feed_info.company_competitor.company_ticker;o+=e.company.feed_info.company_competitor.competitor_ticker;w=o}else if(e.feed_account.user_feeds[0]){o=e.feed_account.user_feeds[0].feed_info.price_tickers;$.each(o,function(B,I){w+=I.ticker+
","})}if(!w)return false;w=w.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+w,dataType:"jsonp",success:function(B){var I="",D=[];$.each(B,function(O,G){O=G.e+":"+G.t;var y=G.name,F='<a href="http://www.google.com/finance?q='+O+'" target="_blank">';G.c=parseFloat(G.c);G.cp=parseFloat(G.cp);e.company&&finfore.smallScreen||Math.abs(G.cp)>finfore.ticker.priceBridge&&finfore.ticker.updatePrices(G);var s=G.l,r=G.c;G=G.cp;if(y){y=F+y+"</a>";if(!finfore.smallScreen){s=
F+s+"</a>";r=F+r+"</a>";G=F+G+"</a>"}I+='<tr class="ui-btn-up-c">';I+="<td>"+y+"</td>";I+="<td>"+s+"</td>";I+=r<0?'<td class="negative nowrap">'+r+"</a></td>":'<td class="nowrap">'+r+"</a></td>";I+=G<0?'<td class="negative nowrap">'+G+"</a></td>":'<td class="nowrap">'+G+"</a></td>";I+="</tr>"}D.push({stock:O,price:s*1})});$(I).appendTo($("tbody",d));if(e.company){D.shift();(FlashDetect.installed?$('<embed height="340" menu="false" flashvars="displayVolume=true&amp;displayDividends=true&amp;displaySplits=true&amp;displayExtendedHours=true&amp;defaultZoomDays=true&amp;hasVolume=true&amp;hasExtendedHours=true&amp;defaultZoomDays=5&amp;q='+
A+"&amp;lcId=1302290366141&amp;compareTo="+D[0].stock+"%3B"+D[1].stock+'%3B&amp;single_viewpoints=name%3AMainViewPoint%2Cheight%3A202%2CtopMargin%3A0%3A%3Aname%3ABottomViewPoint%2Cheight%3A45%2CtopMargin%3A0%2Cdisplay%3Avisible&amp;single_layers=vp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A0%2Ctype%3Asimple%2ChasText%3Atrue%3A%3Avp%3AMainViewPoint%2Cname%3APriceLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AAHLineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALastDayLineLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Adividend%2Cpositioning%3Abottom%2CavoidObj%3Asplit%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Asplit%2Cpositioning%3Abottom%2CavoidObj%3Adividend%3A%3Avp%3ABottomViewPoint%2Cname%3AVolumeScaleLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3ABottomViewPoint%2Cname%3AECNVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3AVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A1%2Ctype%3Asimple&amp;compare_viewpoints=name%3AMainViewPoint%2Cheight%3A247%2CtopMargin%3A15&amp;compare_layers=vp%3AMainViewPoint%2Cname%3APercentLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%2CtickPosition%3A0%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3APercentLineChartLayer%2Carity%3AMultiple%2Ctype%3Asimple&amp;u=http://www.google.com/finance/getprices&amp;fieldSeparator=%2C&amp;objectSeparator=%3A%3A&amp;sparklineType=dynamic&amp;hasDefaultZoomSetting=true&amp;verticalScaling=maximized&amp;hasVerticalScaleSetting=true&amp;snapping=false&amp;minZoomDays=1&amp;infoTextAlign=left&amp;infoTextTopPadding=17&amp;disableExternalInterface=true" width="100%" base="http://www.google.com/finance/" wmode="opaque" type="application/x-shockwave-flash" src="http://www.google.com/finance/chart9.swf"></embed>'):
$('<img src="http://www.google.com/finance/chart?q='+A+'&cht=o&p=5d" class="image-stocks-chart">')).prependTo(d.find("[data-role=content]"))}},complete:function(){d.removeClass("panel-loading")}})},h=function(){d.addClass("panel-loading");n()},u=function(){c=k=10;empty($("[data-role=content] table tbody",d)[0]);$("[data-role=content] embed",d).remove();h()};(function(){$(document).height();var o=e.company?"Prices":e.feed_account.name;if(!d||!d.length)sandbox.debug("No container set for Module! Module *Feed* will not initalize!",
"warn");else{var w=$.View("//webapp/views/module.prices.tmpl",{});o=$.View("//webapp/views/module.tmpl",{title:o,smallScreen:finfore.smallScreen,content:w});$(o).appendTo(d);if(!finfore.smallScreen){var A=setInterval(u,3E5);h()}d.page();d.bind("refresh",u);d.bind("reinit",function(){clearInterval(A);d.unbind();d.empty();d.jqmRemoveData();a(d,e)});d.trigger("init")}})()};return{init:a,management:function(d){finfore.data.panels.main.prices||(finfore.data.panels.main.prices=[]);var e=$.View("//webapp/views/module.prices.management.tmpl",
{panels:finfore.data.panels.main.prices});$(e).appendTo(d);var f=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:f,category:"prices"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",f),category:"prices"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:f,category:"prices"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",f),category:"prices"})});f.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",f),category:"prices"})});f.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",f),category:"prices"})});$(".add-preset-source",d).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",f),$presets:$(".preset-tabs",d),category:"prices"})});$(".mtab-content",f).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
f),$presets:$(".preset-tabs",d),category:"prices"})}});var c=allCount=0,k=$(".preset-sources-suggested",d);e=$(".load-more",k);var n=$(".preset-sources-all",d),h=$(".load-more",n),u=function(){c++;finfore.manage.updateFeedInfos({$node:k,type:"prices",category:"chart",count:c});return false},o=function(){allCount++;finfore.manage.updateFeedInfos({$node:n,type:"prices",category:"all,chart",count:allCount});return false};e.click(u);h.click(o);u();o()}}}();steal.loaded("webapp/modules/prices.js");
finfore.modules.portfolio=function(){return{init:function(a,d){var e,f=e,c=10;f=c;var k=function(){a.addClass("panel-loading");var h="";if(d.portfolio.overview.rss.chanel.item){h="";if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(u,o){if(this.google_ticker)h+=o.google_ticker+","});else h=d.portfolio.overview.rss.chanel.item.google_ticker;h=h.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+h,dataType:"jsonp",
success:function(u){var o="";$.each(u,function(w,A){w=A.name;var B='<a href="http://www.google.com/finance?q='+(A.e+":"+A.t)+'" target="_blank">',I=A.l,D=parseFloat(A.c);A=parseFloat(A.cp);if(w){w=B+w+"</a>";if(!finfore.smallScreen){I=B+I+"</a>";D=B+D+"</a>";A=B+A+"</a>"}o+='<tr class="ui-btn-up-c">';o+="<td>"+w+"</td>";o+="<td>"+I+"</td>";o+=D<0?'<td class="negative nowrap">'+D+"</a></td>":'<td class="nowrap">'+D+"</a></td>";o+=A<0?'<td class="negative nowrap">'+A+"</a></td>":'<td class="nowrap">'+
A+"</a></td>";o+="</tr>"}});$(o).appendTo($("tbody",a));a.removeClass("panel-loading")},complete:function(){a.removeClass("panel-loading")}})}else a.remove()},n=function(){f=c=10;empty($("[data-role=content] tbody",a)[0]);k()};(function(){var h=$.View("//webapp/views/module.portfolio.tmpl",{});h=$.View("//webapp/views/module.tmpl",{title:d.portfolio.title,smallScreen:finfore.smallScreen,content:h});$(h).appendTo(a);if(!finfore.smallScreen){setInterval(n,3E5);k()}a.page();a.bind("refresh",n);a.trigger("init")})()},
management:function(a){var d=$.View("//webapp/views/module.portfolio.management.tmpl",{portfolios:finfore.data.portfolios});$(d).appendTo(a);var e=$(".mtabs-container",a);finfore.manage.bindPanelData({$container:e,category:"portfolio"});$(".edit-portfolio",a).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",e),category:"portfolio"})});$(".add-portfolio",a).click(function(){finfore.manage.panels.create({$node:e,category:"portfolio"})});$(".remove-portfolio",a).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",
e),category:"portfolio"})})}}}();steal.loaded("webapp/modules/portfolio.js");
finfore.modules.agenda=function(){return{init:function(a,d){current_user_id=finfore.data.user.id;var e=function(){a.addClass("panel-loading");var c="";if(d.company)c=d.competitor?d.company.feed_info.company_competitor.competitor_ticker:d.company.feed_info.company_competitor.company_ticker;else if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(){if(this.google_ticker)c+=this.google_ticker+","});else if(d.portfolio.overview.rss.chanel.item)c=d.portfolio.overview.rss.chanel.item.google_ticker;
if(!c)return false;c=c.replace(/\s/g,"");$.ajax({url:finforeAppUrl+"ffproxy.php?url="+$.URLEncode("http://www.google.com/finance/events?output=json&q="+c),dataType:"text",success:function(k){var n="",h="",u=[];if(k)u=eval(k);var o=new Date,w;if($.isArray(u)&&u.length){u=u.reverse();$.each(u,function(){w=new Date(this.LocalizedInfo.start_date);w.setHours(0);if(w>=o){var A=this.LocalizedInfo.start_date,B=this.desc,I=/^[A-Za-z]{3}/.exec(A);if(I!=null)k=I[0];I=/[0-9]{4}$/.exec(A);if(I!=null)result_year=
I[0];if(n!=k)if(n==""){n=k;h+='<div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+n+" "+result_year+"</td></tr></thead><tbody>"}else{n=k;h+='</tbody></table></div><div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+n+" "+result_year+"</td></tr></thead><tbody>"}h+='<tr class="ui-btn-up-c">';h+="<td>"+A+", ";h+=this.LocalizedInfo.start_time?this.LocalizedInfo.start_time:"All Day";h+="</td><td>"+B+"</td>";
h+="</tr>"}})}h||(h='<table class="events-table"><thead><tr><td class="ui-bar-d">No upcoming events </td></tr></thead></table>');$(h).appendTo($(".events-months-container",a));a.removeClass("panel-loading")},complete:function(){a.removeClass("panel-loading")}})},f=function(){empty($("[data-role=content] .events-months-container",a)[0]);e()};(function(){$(document).height();if(d.company){var c="Calendar";if(d.competitor)c="Competitors Calendar"}else c=d.portfolio?d.portfolio.title:d.feed_account.name;
var k=$.View("//webapp/views/module.agenda.tmpl",{});c=$.View("//webapp/views/module.tmpl",{title:c,smallScreen:finfore.smallScreen,content:k});$(c).appendTo(a);if(!finfore.smallScreen){setInterval(f,3E5);e()}a.page();a.bind("refresh",f);a.trigger("init")})()}}}();steal.loaded("webapp/modules/agenda.js");
finfore.modules.linkedin=function(){var a=function(d,e){var f,c,k=function(){d.addClass("panel-loading");empty(f[0]);$.ajax({url:finforeBaseUrl+"/linkedins/network_status.json",dataType:"json",data:{tid:e.feed_account.feed_token._id,count:25},success:function(h){var u="",o,w,A,B,I,D,O,G,y,F,s=new Date;if(h&&h.length)$.each(h,function(r,C){O=C.timestamp;s.setTime(O*1);u+='<li class="ui-li ui-btn-up-c">';F=true;if(C.updateContent.person.id!="private"){F=false;o=C.updateContent.person.firstName+" "+
C.updateContent.person.lastName;w=C.updateContent.person.apiStandardProfileRequest.url;D=C.updateContent.person.pictureUrl}if(D)u+='<a href="'+w+'" target="_blank"><img src="'+D+'" width="80" height="80" /></a>';if(C.updateContent.person.connections&&!F){A=C.updateContent.person.connections.person.firstName+" "+C.updateContent.person.connections.person.lastName;I=C.updateContent.person.connections.person.apiStandardProfileRequest.url;u+='<p><a href="'+w+'" target="_blank" class="user">'+o+'</a> connected with <a href="'+
I+'" class="connection" target="_blank">'+A+"</a></p>"}else if(C.updateContent.person.currentShare){if(C.updateContent.person.currentShare.comment&&!F){B=$.linkUrl(C.updateContent.person.currentShare.comment);u+='<p><a href="'+w+'" target="_blank" class="user">'+o+"</a> "+B+"</p>"}if(C.updateContent.person.currentShare.content){G=C.updateContent.person.currentShare.content.title;y=C.updateContent.person.currentShare.content.submittedUrl;u+='<p><a href="'+y+'" target="_blank" class="user">'+G+"</a></p>"}}u+=
"<time>"+s.toUTCString()+"</time>";u+="</li>"});else u="<li>No LinkedIn events</li>";$(u).appendTo(f);d.removeClass("panel-loading")}})},n=function(){var h,u=!e.feed_account.feed_token||!e.feed_account.feed_token.token,o=$.View("//webapp/views/module.linkedin.tmpl",{connected:!u});o=$.View("//webapp/views/module.tmpl",{title:e.feed_account.name,smallScreen:finfore.smallScreen,content:o});$(o).appendTo(d);d.page();d.bind("refresh",k);d.bind("reinit",function(){clearInterval(h);d.unbind();d.empty();
d.jqmRemoveData();a(d,e)});f=$("[data-role=content] ul",d);c=$(".linkedin-connect-button",d);if(u){var w=finforeBaseUrl+"/feed_accounts/linkedin/auth?feed_account_id="+e.feed_account._id+"&callback="+finforeAppUrl+"/authorize.php";c.click(function(){c.hide();d.addClass("panel-loading");var A=window.open(w,"linkedinAuthWindow","resizable=yes,scrollbars=yes,status=yes"),B=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,feed_token:{feed_account_id:e.feed_account.id,
user_id:e.feed_account.user_id}},success:function(I){if(I.feed_token&&I.feed_token.token){e.feed_account.feed_token=I.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();n()}else if(A.closed){c.show();d.removeClass("panel-loading")}else setTimeout(B,1E4)}})};B();return false})}else if(!finfore.smallScreen){h=setInterval(k,3E5);d.trigger("refresh")}d.trigger("init")};n()};return{init:a,management:function(d){finfore.data.panels.main.linkedin||(finfore.data.panels.main.linkedin=[]);
var e=$.View("//webapp/views/module.linkedin.management.tmpl",{panels:finfore.data.panels.main.linkedin});$(e).appendTo(d);var f=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:f,category:"linkedin"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",f),category:"linkedin"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:f,category:"linkedin"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",
f),category:"linkedin"})})}}}();steal.loaded("webapp/modules/linkedin.js");
finfore.modules.blinkx=function(){var a=function(e){e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/ /g,"+");var f='http://usp1.blinkx.com/partnerapi/user/?uid=2ehiek5947&text="'+e.company.feed_info.company_competitor.broadcast_keyword+'"&start='+e.start+"&MaxResults="+e.end+"&sortby=date&AdultFilter=true&ReturnLink=true";f=finforeAppUrl+"ffproxy.php?url="+$.URLEncode(f);$.ajax({url:f,type:"GET",dataType:"xml",success:function(c){c=
$("responsedata hit",c);var k="",n=c.length-1,h,u,o,w,A,B,I,D;$.each(c,function(O){h=$(this);u=$("date",h).text();$("media_format_string",h).text();o=$("title",h).text();w=$("channel",h).text();A=$("summary",h).text();B=$("staticpreview",h).text();I=$("url",h).text();D=new Date(u*1E3);if(finfore.smallScreen||finfore.tablet)I=I.replace("http://www.blinkx.com/burl?v=","http://m.blinkx.com/info/");if(e.loadMore===true||D>e.date){k+=O===n?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';
k+='<a href="'+I+'" target="_blank"><abbr>'+w+"</abbr>";k+="<h3>"+o+"</h3>";k+='<img src="'+B+'" />';k+="<p>"+A.substring(0,100)+"..</p>";k+="<abbr>"+D.toUTCString()+"</abbr>";k+="</a></li>"}});c=$(".load-more-entries",e.$container).parents("li").first();$(k).insertBefore(c);$("[data-role=content] ul",e.$container).listview("refresh")},complete:function(){e.$container.removeClass("panel-loading")}})},d=function(e,f){var c=0,k=0,n=function(h,u){e.addClass("panel-loading");if(u===true){c=k+1;k+=20;
a({start:c,end:k,date:new Date,loadMore:u,company:f.company,$container:e})}else a({start:1,end:k,date:new Date,loadMore:u,company:f.company,$container:e})};(function(){$(document).height();var h=$.View("//webapp/views/module.blinkx.tmpl",{});h=$.View("//webapp/views/module.tmpl",{title:"Broadcast News",smallScreen:finfore.smallScreen,content:h});$(h).appendTo(e);$(".load-more-entries",e).click(function(o){e.trigger("refresh",[true]);o.preventDefault();return false});e.bind("refresh",n);e.bind("reinit",
function(){clearInterval(u);e.unbind();e.empty();e.jqmRemoveData();d(e,f)});if(!finfore.smallScreen){var u=setInterval(n,3E5);e.trigger("refresh",[true])}e.page();e.trigger("init")})()};return{init:d}}();steal.loaded("webapp/modules/blinkx.js");
finfore.modules.keyword=function(){var a=function(d,e){var f=15,c,k,n,h=function(o){empty(k[0]);d.removeClass("panel-loading");if(o.results)o=o.results;$.each(o,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});tweetTemplate=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:o});k.append(tweetTemplate);o&&$.each(o,function(){var w=new Date(this.created_at);e.company&&finfore.smallScreen||w>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},u=function(o){d.addClass("panel-loading");if(o===true)f+=5;k.removeData();o=e.feed_account.keyword_column.keyword;if(!o){d.removeClass("panel-loading");return false}$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:o,rpp:f},success:h})};(function(){var o,w=e.feed_account.name,A=$.View("//webapp/views/module.keyword.tmpl",{});w=$.View("//webapp/views/module.tmpl",{title:w,smallScreen:finfore.smallScreen,content:A});$(w).appendTo(d);d.bind("refresh",
u);d.bind("reinit",function(){clearInterval(o);d.unbind();d.empty();d.jqmRemoveData();a(d,e)});c=$("[data-role=content]",d);k=$(".tweets",c);n=$(".load-more-tweets",c);d.addClass("panel-loading");n.click(function(){d.trigger("refresh",[true])});d.page();if(!finfore.smallScreen){o=setInterval(u,3E5);d.trigger("refresh")}d.trigger("init")})()};return{init:a,management:function(d){finfore.data.panels.main.keyword||(finfore.data.panels.main.keyword=[]);var e=$.View("//webapp/views/module.keyword.management.tmpl",
{panels:finfore.data.panels.main.keyword});$(e).appendTo(d);var f=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:f,category:"keyword"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",f),category:"keyword"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:f,category:"keyword"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",f),category:"keyword"})});f.delegate(".keyword-save",
"click",function(){var c=$(this).parents(".keyword-panel-settings:first"),k=c.parents(".mtab-content:first").prevAll(".mtab:first"),n=$.data(k[0],"data").feed_account,h=$(".keyword-text",c).val(),u=$(".keyword-followers",c).val(),o=false;if($(".keyword-aggregate",c).is(":checked"))o=true;c={_id:n._id,keyword_column_attributes:{is_aggregate:o,follower:u,keyword:h,_id:n.keyword_column._id}};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+c._id+".json",type:"PUT",data:{feed_account:c},success:function(w){$().toastmessage("showSuccessToast",
finfore.manage.messages.updateColumn);$.data(k[0],"data",{feed_account:w})},error:function(){$().toastmessage("showErrorToast",finfore.manage.messages.errorUpdateColumn)}})})}}}();steal.loaded("webapp/modules/keyword.js");
