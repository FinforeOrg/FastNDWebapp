steal.loading('webapp/core/finfore.mobile.js','jquery/view/tmpl/tmpl.js','jquery/view/view.js','jquery/jquery.js','webapp/core/utils.js','webapp/core/api.js','webapp/lib/jquery.mobile.js','webapp/lib/flash_detect_min.js','webapp/lib/mediaelement/mediaelement-and-player.js','webapp/lib/toast/jquery.toastmessage.js','webapp/lib/jquery-impromptu.3.1.js','webapp/views/desktop.mobile.tmpl','webapp/views/login.tmpl','webapp/views/signup.tmpl','webapp/views/addcompany.tmpl','webapp/core/core.js','webapp/core/desktop.mobile.js','webapp/core/login.js','webapp/core/signup.js','webapp/core/addcompany.js','webapp/views/module.tmpl','webapp/views/module.feed.tmpl','webapp/views/module.podcast.tmpl','webapp/views/module.twitter.tmpl','webapp/views/module.twitter.tweet.tmpl','webapp/views/module.prices.tmpl','webapp/views/module.portfolio.tmpl','webapp/views/module.agenda.tmpl','webapp/views/module.linkedin.tmpl','webapp/views/module.blinkx.tmpl','webapp/views/module.keyword.tmpl','webapp/modules/feed.js','webapp/modules/podcast.js','webapp/modules/twitter.js','webapp/modules/prices.js','webapp/modules/portfolio.js','webapp/modules/agenda.js','webapp/modules/linkedin.js','webapp/modules/blinkx.js','webapp/modules/keyword.js');
steal({src: 'webapp/mobile//production.css', has: ['webapp/lib/jquery.mobile.css','webapp/lib/mediaelement/mediaelementplayer.min.css','webapp/lib/toast/jquery.toastmessage.css','webapp/css/shared.css','webapp/css/small-screen.css']});
steal("jquery/view/tmpl").then("//webapp/core/utils.js","//webapp/core/api.js").then(function(){$(document).bind("mobileinit",function(){$.extend($.mobile,{ajaxEnabled:false,autoInitialize:false,hashListeningEnabled:false,defaultPageTransition:"none",defaultDialogTransition:"slidedown",pushStateEnabled:false,linkBindingEnabled:false});$.extend($.mobile.changePage.defaults,{changeHash:false});$.support.cors=true;$.mobile.allowCrossDomainPages=true})}).then("//webapp/lib/jquery.mobile.js","../lib/jquery.mobile.css").then(function(){Loader.show()}).then("//webapp/lib/flash_detect_min.js",
"//webapp/lib/mediaelement/mediaelement-and-player.js","//webapp/lib/toast/jquery.toastmessage.js","//webapp/lib/jquery.mobile.js","//webapp/lib/jquery-impromptu.3.1.js").then("//webapp/views/desktop.mobile.tmpl","//webapp/views/login.tmpl","//webapp/views/signup.tmpl","//webapp/views/addcompany.tmpl").then("../lib/jquery.mobile.css","../lib/mediaelement/mediaelementplayer.min.css","../lib/toast/jquery.toastmessage.css").then("../css/shared.css").then("../css/small-screen.css").then("./core.js").then("./desktop.mobile.js",
"./login.js","./signup.js","./addcompany.js").then("//webapp/views/module.tmpl","//webapp/views/module.feed.tmpl","//webapp/views/module.podcast.tmpl","//webapp/views/module.twitter.tmpl","//webapp/views/module.twitter.tweet.tmpl","//webapp/views/module.prices.tmpl","//webapp/views/module.portfolio.tmpl","//webapp/views/module.agenda.tmpl","//webapp/views/module.linkedin.tmpl","//webapp/views/module.blinkx.tmpl","//webapp/views/module.keyword.tmpl").then("../modules/feed.js","../modules/podcast.js",
"../modules/twitter.js","../modules/prices.js","../modules/portfolio.js","../modules/agenda.js","../modules/linkedin.js","../modules/blinkx.js","../modules/keyword.js").then(function(){finfore.init()});steal.loaded("webapp/core/finfore.mobile.js");
steal("jquery/view").then(function(){function a(P,S,da,X){X={data:X||(S?S.data:{}),_wrap:S?S._wrap:null,tmpl:null,parent:S||null,nodes:[],calls:r,nest:u,wrap:v,html:F,update:A};P&&jQuery.extend(X,P,{nodes:[],parent:S});if(da){X.tmpl=da;X._ctnt=X._ctnt||X.tmpl(jQuery,X);X.key=++U;(ba.length?D:B)[U]=X}return X}function d(P,S,da){var X;da=da?jQuery.map(da,function(ja){return typeof ja==="string"?P.key?ja.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+z+'="'+P.key+'" $2'):ja:d(ja,P,ja._ctnt)}):
P;if(S)return da;da=da.join("");da.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(ja,la,x,L){X=jQuery(x).get();o(X);if(la)X=e(la).concat(X);if(L)X=X.concat(e(L))});return X?X:e(da)}function e(P){var S=document.createElement("div");S.innerHTML=P;return jQuery.makeArray(S.childNodes)}function h(P){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+jQuery.trim(P).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,
"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(S,da,X,ja,la,x,L){S=jQuery.tmpl.tag[X];if(!S)throw"Template command not found: "+X;X=S._default||[];if(x&&!/\w$/.test(la)){la+=x;x=""}if(la){la=l(la);L=L?","+l(L)+")":x?")":"";L=x?la.indexOf(".")>-1?la+x:"("+la+").call($item"+L:la;x=x?L:"(typeof("+la+")==='function'?("+la+").call($item):("+la+"))"}else x=L=X.$1||"null";ja=l(ja);return"');"+S[da?"close":"open"].split("$notnull_1").join(la?
"typeof("+la+")!=='undefined' && ("+la+")!=null":"true").split("$1a").join(x).split("$1").join(L).split("$2").join(ja?ja.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(W,fa,O,ra){return(ra=ra?","+ra+")":O?")":"")?"("+fa+").call($item"+ra:W}):X.$2||"")+"_.push('"})+"');}return _;")}function f(P,S){P._wrap=d(P,true,jQuery.isArray(S)?S:[Q.test(S)?S:jQuery(S).html()]).join("")}function l(P){return P?P.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function q(P){var S=document.createElement("div");S.appendChild(P.cloneNode(true));
return S.innerHTML}function o(P){function S(fa){function O(Ga){Ga+=da;j=la[Ga]=la[Ga]||a(j,B[j.parent.key+da]||j.parent,null,true)}var ra,ma=fa,j,va;if(va=fa.getAttribute(z)){for(;ma.parentNode&&(ma=ma.parentNode).nodeType===1&&!(ra=ma.getAttribute(z)););if(ra!==va){ma=ma.parentNode?ma.nodeType===11?0:ma.getAttribute(z)||0:0;if(!(j=B[va])){j=D[va];j=a(j,B[ma]||D[ma],null,true);j.key=++U;B[U]=j}Z&&O(va)}fa.removeAttribute(z)}else if(Z&&(j=jQuery.data(fa,"tmplItem"))){O(j.key);B[j.key]=j;ma=(ma=jQuery.data(fa.parentNode,
"tmplItem"))?ma.key:0}if(j){for(ra=j;ra&&ra.key!=ma;){ra.nodes.push(fa);ra=ra.parent}delete j._ctnt;delete j._wrap;jQuery.data(fa,"tmplItem",j)}}var da="_"+Z,X,ja,la={},x,L,W;x=0;for(L=P.length;x<L;x++)if((X=P[x]).nodeType===1){ja=X.getElementsByTagName("*");for(W=ja.length-1;W>=0;W--)S(ja[W]);S(X)}}function r(P,S,da,X){if(!P)return ba.pop();ba.push({_:P,tmpl:S,item:this,data:da,options:X})}function u(P,S,da){return jQuery.tmpl(jQuery.template(P),S,da,this)}function v(P,S){var da=P.options||{};da.wrapped=
S;return jQuery.tmpl(jQuery.template(P.tmpl),P.data,da,P.item)}function F(P,S){var da=this._wrap;return jQuery.map(jQuery(jQuery.isArray(da)?da.join(""):da).filter(P||"*"),function(X){return S?X.innerText||X.textContent:X.outerHTML||q(X)})}function A(){var P=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(P[0]);jQuery(P).remove()}var H=jQuery.fn.domManip,z="_tmplitem",Q=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,B={},D={},K,I={key:0,data:{}},U=0,Z=0,ba=[];jQuery.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(P,S){jQuery.fn[P]=function(da){var X=[];da=jQuery(da);var ja,la,x;ja=this.length===1&&this[0].parentNode;K=B||{};if(ja&&ja.nodeType===11&&ja.childNodes.length===1&&da.length===1){da[S](this[0]);X=this}else{la=0;for(x=da.length;la<x;la++){Z=la;ja=(la>0?this.clone(true):this).get();jQuery.fn[S].apply(jQuery(da[la]),ja);X=X.concat(ja)}Z=0;X=this.pushStack(X,P,da.selector)}da=K;K=null;jQuery.tmpl.complete(da);return X}});jQuery.fn.extend({tmpl:function(P,
S,da){return jQuery.tmpl(this[0],P,S,da)},tmplItem:function(){return jQuery.tmplItem(this[0])},template:function(P){return jQuery.template(P,this[0])},domManip:function(P,S,da){if(P[0]&&P[0].nodeType){for(var X=jQuery.makeArray(arguments),ja=P.length,la=0,x;la<ja&&!(x=jQuery.data(P[la++],"tmplItem")););if(ja>1)X[0]=[jQuery.makeArray(P)];if(x&&Z)X[2]=function(L){jQuery.tmpl.afterManip(this,L,da)};H.apply(this,X)}else H.apply(this,arguments);Z=0;K||jQuery.tmpl.complete(B);return this}});jQuery.extend({tmpl:function(P,
S,da,X){var ja=!X;if(ja){X=I;P=jQuery.template[P]||jQuery.template(null,P);D={}}else if(!P){P=X.tmpl;B[X.key]=X;X.nodes=[];X.wrapped&&f(X,X.wrapped);return jQuery(d(X,null,X.tmpl(jQuery,X)))}if(!P)return[];if(typeof S==="function")S=S.call(X||{});da&&da.wrapped&&f(da,da.wrapped);S=jQuery.isArray(S)?jQuery.map(S,function(la){return la?a(da,X,P,la):null}):[a(da,X,P,S)];return ja?jQuery(d(X,null,S)):S},tmplItem:function(P){var S;if(P instanceof jQuery)P=P[0];for(;P&&P.nodeType===1&&!(S=jQuery.data(P,
"tmplItem"))&&(P=P.parentNode););return S||I},template:function(P,S){if(S){if(typeof S==="string")S=h(S);else if(S instanceof jQuery)S=S[0]||{};if(S.nodeType)S=jQuery.data(S,"tmpl")||jQuery.data(S,"tmpl",h(S.innerHTML));return typeof P==="string"?(jQuery.template[P]=S):S}return P?typeof P!=="string"?jQuery.template(null,P):jQuery.template[P]||jQuery.template(null,Q.test(P)?P:jQuery(P)):null},encode:function(P){return(""+P).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});
jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},
"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){B={}},afterManip:function(P,S,da){var X=S.nodeType===11?jQuery.makeArray(S.childNodes):S.nodeType===1?[S]:[];da.call(P,S);o(X);Z++}});$.View.register({suffix:"tmpl",renderer:function(P,S){var da=$.template(null,S);return function(X){return da.call($,$,{data:X}).join("")}},script:function(P,S){return"function(data){return ("+$.template(null,S)+").call(jQuery, jQuery, {data: data}).join(''); }"}});
jQuery.View.ext=".tmpl"});steal.loaded("jquery/view/tmpl/tmpl.js");
steal("jquery").then(function(a){var d=function(D){return D.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},e=1,h,f,l,q=function(D){return D&&a.isFunction(D.always)},o=function(D){var K=[];if(q(D))return[D];else for(var I in D)q(D[I])&&K.push(D[I]);return K},r=function(D){return a.isArray(D)&&D.length===3&&D[1]==="success"?D[0]:D};h=a.View=function(D,K,I,U){if(typeof I==="function"){U=I;I=undefined}var Z=o(K);if(Z.length){var ba=a.Deferred();Z.push(l(D,true));a.when.apply(a,Z).then(function(S){var da=
a.makeArray(arguments),X=da.pop()[0];if(q(K))K=r(S);else for(var ja in K)if(q(K[ja]))K[ja]=r(da.shift());da=X(K,I);ba.resolve(da);U&&U(da)});return ba.promise()}else{var P;Z=typeof U==="function";ba=l(D,Z);if(Z){P=ba;ba.done(function(S){U(S(K,I))})}else ba.done(function(S){P=S(K,I)});return P}};f=function(D,K){if(!D.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+K;};l=function(D,K){return a.ajax({url:D,dataType:"view",async:K})};a.ajaxTransport("view",function(D,
K){D=K.url;var I=D.match(/\.[\w\d]+$/),U,Z,ba,P=D,S,da=function(X){X=U.renderer(ba,X);if(h.cache)h.cached[ba]=X;return{view:X}};if(Z=document.getElementById(D))I=Z.type.match(/\/[\d\w]+$/)[0].replace(/^\//,".");if(!I){I=h.ext;P+=h.ext}ba=d(P);if(P.match(/^\/\//))P=typeof steal==="undefined"?"/"+P.substr(2):steal.root.mapJoin(P.substr(2));U=h.types[I];return{send:function(X,ja){if(h.cached[ba])return ja(200,"success",{view:h.cached[ba]});else if(Z)ja(200,"success",da(Z.innerHTML));else S=a.ajax({async:K.async,
url:P,dataType:"text",error:function(){f("",P);ja(404)},success:function(la){f(la,P);ja(200,"success",da(la))}})},abort:function(){S&&S.abort()}}});a.extend(h,{hookups:{},hookup:function(D){var K=++e;h.hookups[K]=D;return K},cached:{},cache:true,register:function(D){this.types["."+D.suffix]=D;window.steal&&steal.type(D.suffix+" view js",function(K,I,U){I=h.types["."+K.type];var Z=d(K.rootSrc);K.text=I.script(Z,K.text);U()})},types:{},ext:".ejs",registerScript:function(D,K,I){return"$.View.preload('"+
K+"',"+h.types["."+D].script(K,I)+");"},preload:function(D,K){h.cached[D]=function(I,U){return K.call(I,I,U)}}});window.steal&&steal.type("view js",function(D,K,I){K=h.types["."+D.type];var U=d(D.rootSrc);D.text="steal('"+(K.plugin||"jquery/view/"+D.type)+"').then(function($){$.View.preload('"+U+"',"+D.text+");\n})";I()});var u,v,F,A,H,z,Q;u=function(D){var K=a.fn[D];a.fn[D]=function(){var I=a.makeArray(arguments),U,Z,ba=this;if(q(I[0])){I[0].done(function(P){v.call(ba,[P],K)});return this}else if(F(I)){if(U=
H(I)){Z=I[U];I[U]=function(P){v.call(ba,[P],K);Z.call(ba,P)};h.apply(h,I);return this}I=h.apply(h,I);if(q(I)){I.done(function(P){v.call(ba,[P],K)});return this}else I=[I]}return v.call(this,I,K)}};v=function(D,K){var I;for(var U in h.hookups)break;if(U&&D[0]&&A(D[0])){I=h.hookups;h.hookups={};D[0]=a(D[0])}K=K.apply(this,D);I&&z(D[0],I);return K};F=function(D){var K=typeof D[1];return typeof D[0]=="string"&&(K=="object"||K=="function")&&!D[1].nodeType&&!D[1].jquery};A=function(D){if(D.jquery||D.nodeType===
1)return true;else if(typeof D==="string"){D=a.trim(D);return D.substr(0,1)==="<"&&D.substr(D.length-1,1)===">"&&D.length>=3}else return false};H=function(D){return typeof D[3]==="function"?3:typeof D[2]==="function"&&2};z=function(D,K){var I,U=0,Z,ba;D=D.filter(function(){return this.nodeType!=3});D=D.add("[data-view-id]",D);for(I=D.length;U<I;U++)if(D[U].getAttribute&&(Z=D[U].getAttribute("data-view-id"))&&(ba=K[Z])){ba(D[U],Z);delete K[Z];D[U].removeAttribute("data-view-id")}a.extend(h.hookups,
K)};a.fn.hookup=function(){var D=h.hookups;h.hookups={};z(this,D);return this};Q=["prepend","append","after","before","text","html","replaceWith","val"];for(var B=0;B<Q.length;B++)u(Q[B])});steal.loaded("jquery/view/view.js");
(function(a,d){function e(c,g,k){if(k===d&&c.nodeType===1){k="data-"+g.replace(ga,"-$1").toLowerCase();k=c.getAttribute(k);if(typeof k==="string"){try{k=k==="true"?true:k==="false"?false:k==="null"?null:!j.isNaN(k)?parseFloat(k):aa.test(k)?j.parseJSON(k):k}catch(n){}j.data(c,g,k)}else k=d}return k}function h(c){for(var g in c)if(g!=="toJSON")return false;return true}function f(c,g,k){var n=g+"defer",p=g+"queue",s=g+"mark",w=j.data(c,n,d,true);if(w&&(k==="queue"||!j.data(c,p,d,true))&&(k==="mark"||
!j.data(c,s,d,true)))setTimeout(function(){if(!j.data(c,p,d,true)&&!j.data(c,s,d,true)){j.removeData(c,n,true);w.resolve()}},0)}function l(){return false}function q(){return true}function o(c,g,k){var n=j.extend({},k[0]);n.type=c;n.originalEvent={};n.liveFired=d;j.event.handle.call(g,n);n.isDefaultPrevented()&&k[0].preventDefault()}function r(c){var g,k,n,p,s,w,E,G,J,T,ka,oa=[];p=[];s=j._data(this,"events");if(!(c.liveFired===this||!s||!s.live||c.target.disabled||c.button&&c.type==="click")){if(c.namespace)ka=
new RegExp("(^|\\.)"+c.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");c.liveFired=this;var pa=s.live.slice(0);for(E=0;E<pa.length;E++){s=pa[E];s.origType.replace(Xa,"")===c.type?p.push(s.selector):pa.splice(E--,1)}p=j(c.target).closest(p,c.currentTarget);G=0;for(J=p.length;G<J;G++){T=p[G];for(E=0;E<pa.length;E++){s=pa[E];if(T.selector===s.selector&&(!ka||ka.test(s.namespace))&&!T.elem.disabled){w=T.elem;n=null;if(s.preType==="mouseenter"||s.preType==="mouseleave"){c.type=s.preType;if((n=j(c.relatedTarget).closest(s.selector)[0])&&
j.contains(w,n))n=w}if(!n||n!==w)oa.push({elem:w,handleObj:s,level:T.level})}}}G=0;for(J=oa.length;G<J;G++){p=oa[G];if(k&&p.level>k)break;c.currentTarget=p.elem;c.data=p.handleObj.data;c.handleObj=p.handleObj;ka=p.handleObj.origHandler.apply(p.elem,arguments);if(ka===false||c.isPropagationStopped()){k=p.level;if(ka===false)g=false;if(c.isImmediatePropagationStopped())break}}return g}}function u(c,g){return(c&&c!=="*"?c+".":"")+g.replace(Sa,"`").replace(Eb,"&")}function v(c){return!c||!c.parentNode||
c.parentNode.nodeType===11}function F(c,g,k){g=g||0;if(j.isFunction(g))return j.grep(c,function(p,s){return!!g.call(p,s,p)===k});else if(g.nodeType)return j.grep(c,function(p){return p===g===k});else if(typeof g==="string"){var n=j.grep(c,function(p){return p.nodeType===1});if(Fb.test(g))return j.filter(g,n,!k);else g=j.filter(g,n)}return j.grep(c,function(p){return j.inArray(p,g)>=0===k})}function A(c){return j.nodeName(c,"table")?c.getElementsByTagName("tbody")[0]||c.appendChild(c.ownerDocument.createElement("tbody")):
c}function H(c,g){if(!(g.nodeType!==1||!j.hasData(c))){var k=j.expando,n=j.data(c),p=j.data(g,n);if(n=n[k]){c=n.events;p=p[k]=j.extend({},n);if(c){delete p.handle;p.events={};for(var s in c){k=0;for(n=c[s].length;k<n;k++)j.event.add(g,s+(c[s][k].namespace?".":"")+c[s][k].namespace,c[s][k],c[s][k].data)}}}}}function z(c,g){var k;if(g.nodeType===1){g.clearAttributes&&g.clearAttributes();g.mergeAttributes&&g.mergeAttributes(c);k=g.nodeName.toLowerCase();if(k==="object")g.outerHTML=c.outerHTML;else if(k===
"input"&&(c.type==="checkbox"||c.type==="radio")){if(c.checked)g.defaultChecked=g.checked=c.checked;if(g.value!==c.value)g.value=c.value}else if(k==="option")g.selected=c.defaultSelected;else if(k==="input"||k==="textarea")g.defaultValue=c.defaultValue;g.removeAttribute(j.expando)}}function Q(c){return"getElementsByTagName"in c?c.getElementsByTagName("*"):"querySelectorAll"in c?c.querySelectorAll("*"):[]}function B(c){if(c.type==="checkbox"||c.type==="radio")c.defaultChecked=c.checked}function D(c){if(j.nodeName(c,
"input"))B(c);else"getElementsByTagName"in c&&j.grep(c.getElementsByTagName("input"),B)}function K(c,g){g.src?j.ajax({url:g.src,async:false,dataType:"script"}):j.globalEval((g.text||g.textContent||g.innerHTML||"").replace(Gb,"/*$0*/"));g.parentNode&&g.parentNode.removeChild(g)}function I(c,g,k){var n=g==="width"?c.offsetWidth:c.offsetHeight,p=g==="width"?Hb:Ib;if(n>0){k!=="border"&&j.each(p,function(){k||(n-=parseFloat(j.css(c,"padding"+this))||0);if(k==="margin")n+=parseFloat(j.css(c,k+this))||0;
else n-=parseFloat(j.css(c,"border"+this+"Width"))||0});return n+"px"}n=Ta(c,g,g);if(n<0||n==null)n=c.style[g]||0;n=parseFloat(n)||0;k&&j.each(p,function(){n+=parseFloat(j.css(c,"padding"+this))||0;if(k!=="padding")n+=parseFloat(j.css(c,"border"+this+"Width"))||0;if(k==="margin")n+=parseFloat(j.css(c,k+this))||0});return n+"px"}function U(c){return function(g,k){if(typeof g!=="string"){k=g;g="*"}if(j.isFunction(k)){g=g.toLowerCase().split(kb);for(var n=0,p=g.length,s,w;n<p;n++){s=g[n];if(w=/^\+/.test(s))s=
s.substr(1)||"*";s=c[s]=c[s]||[];s[w?"unshift":"push"](k)}}}}function Z(c,g,k,n,p,s){p=p||g.dataTypes[0];s=s||{};s[p]=true;p=c[p];for(var w=0,E=p?p.length:0,G=c===db,J;w<E&&(G||!J);w++){J=p[w](g,k,n);if(typeof J==="string")if(!G||s[J])J=d;else{g.dataTypes.unshift(J);J=Z(c,g,k,n,J,s)}}if((G||!J)&&!s["*"])J=Z(c,g,k,n,"*",s);return J}function ba(c,g){var k,n,p=j.ajaxSettings.flatOptions||{};for(k in g)if(g[k]!==d)(p[k]?c:n||(n={}))[k]=g[k];n&&j.extend(true,c,n)}function P(c,g,k,n){if(j.isArray(g))j.each(g,
function(s,w){k||Jb.test(c)?n(c,w):P(c+"["+(typeof w==="object"||j.isArray(w)?s:"")+"]",w,k,n)});else if(!k&&g!=null&&typeof g==="object")for(var p in g)P(c+"["+p+"]",g[p],k,n);else n(c,g)}function S(c,g,k){var n=c.contents,p=c.dataTypes,s=c.responseFields,w,E,G,J;for(E in s)if(E in k)g[s[E]]=k[E];for(;p[0]==="*";){p.shift();if(w===d)w=c.mimeType||g.getResponseHeader("content-type")}if(w)for(E in n)if(n[E]&&n[E].test(w)){p.unshift(E);break}if(p[0]in k)G=p[0];else{for(E in k){if(!p[0]||c.converters[E+
" "+p[0]]){G=E;break}J||(J=E)}G=G||J}if(G){G!==p[0]&&p.unshift(G);return k[G]}}function da(c,g){if(c.dataFilter)g=c.dataFilter(g,c.dataType);var k=c.dataTypes,n={},p,s,w=k.length,E,G=k[0],J,T,ka,oa,pa;for(p=1;p<w;p++){if(p===1)for(s in c.converters)if(typeof s==="string")n[s.toLowerCase()]=c.converters[s];J=G;G=k[p];if(G==="*")G=J;else if(J!=="*"&&J!==G){T=J+" "+G;ka=n[T]||n["* "+G];if(!ka){pa=d;for(oa in n){E=oa.split(" ");if(E[0]===J||E[0]==="*")if(pa=n[E[1]+" "+G]){oa=n[oa];if(oa===true)ka=pa;
else if(pa===true)ka=oa;break}}}ka||pa||j.error("No conversion from "+T.replace(" "," to "));if(ka!==true)g=ka?ka(g):pa(oa(g))}}return g}function X(){try{return new a.XMLHttpRequest}catch(c){}}function ja(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}function la(){setTimeout(x,0);return Za=j.now()}function x(){Za=d}function L(c,g){var k={};j.each(lb.concat.apply([],lb.slice(0,g)),function(){k[this]=c});return k}function W(c){if(!eb[c]){var g=O.body,k=j("<"+c+">").appendTo(g),n=
k.css("display");k.remove();if(n==="none"||n===""){if(!Ma){Ma=O.createElement("iframe");Ma.frameBorder=Ma.width=Ma.height=0}g.appendChild(Ma);if(!Ua||!Ma.createElement){Ua=(Ma.contentWindow||Ma.contentDocument).document;Ua.write((O.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Ua.close()}k=Ua.createElement(c);Ua.body.appendChild(k);n=j.css(k,"display");g.removeChild(Ma)}eb[c]=n}return eb[c]}function fa(c){return j.isWindow(c)?c:c.nodeType===9?c.defaultView||c.parentWindow:false}
var O=a.document,ra=a.navigator,ma=a.location,j=function(){function c(){if(!g.isReady){try{O.documentElement.doScroll("left")}catch(C){setTimeout(c,1);return}g.ready()}}var g=function(C,Y){return new g.fn.init(C,Y,p)},k=a.jQuery,n=a.$,p,s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,w=/\S/,E=/^\s+/,G=/\s+$/,J=/\d/,T=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ka=/^[\],:{}\s]*$/,oa=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,pa=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,wa=/(?:^|:|,)(?:\s*\[)+/g,
Pa=/(webkit)[ \/]([\w.]+)/,Aa=/(opera)(?:.*version)?[ \/]([\w.]+)/,Ha=/(msie) ([\w.]+)/,Ka=/(mozilla)(?:.*? rv:([\w.]+))?/,t=/-([a-z]|[0-9])/ig,y=/^-ms-/,N=function(C,Y){return(Y+"").toUpperCase()},M=ra.userAgent,R,V,ea=Object.prototype.toString,ca=Object.prototype.hasOwnProperty,qa=Array.prototype.push,Ba=Array.prototype.slice,ya=String.prototype.trim,Ea=Array.prototype.indexOf,sa={};g.fn=g.prototype={constructor:g,init:function(C,Y,ha){var ia;if(!C)return this;if(C.nodeType){this.context=this[0]=
C;this.length=1;return this}if(C==="body"&&!Y&&O.body){this.context=O;this[0]=O.body;this.selector=C;this.length=1;return this}if(typeof C==="string")if((ia=C.charAt(0)==="<"&&C.charAt(C.length-1)===">"&&C.length>=3?[null,C,null]:s.exec(C))&&(ia[1]||!Y))if(ia[1]){ha=(Y=Y instanceof g?Y[0]:Y)?Y.ownerDocument||Y:O;if(C=T.exec(C))if(g.isPlainObject(Y)){C=[O.createElement(C[1])];g.fn.attr.call(C,Y,true)}else C=[ha.createElement(C[1])];else{C=g.buildFragment([ia[1]],[ha]);C=(C.cacheable?g.clone(C.fragment):
C.fragment).childNodes}return g.merge(this,C)}else{if((Y=O.getElementById(ia[2]))&&Y.parentNode){if(Y.id!==ia[2])return ha.find(C);this.length=1;this[0]=Y}this.context=O;this.selector=C;return this}else return!Y||Y.jquery?(Y||ha).find(C):this.constructor(Y).find(C);else if(g.isFunction(C))return ha.ready(C);if(C.selector!==d){this.selector=C.selector;this.context=C.context}return g.makeArray(C,this)},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return Ba.call(this,
0)},get:function(C){return C==null?this.toArray():C<0?this[this.length+C]:this[C]},pushStack:function(C,Y,ha){var ia=this.constructor();g.isArray(C)?qa.apply(ia,C):g.merge(ia,C);ia.prevObject=this;ia.context=this.context;if(Y==="find")ia.selector=this.selector+(this.selector?" ":"")+ha;else if(Y)ia.selector=this.selector+"."+Y+"("+ha+")";return ia},each:function(C,Y){return g.each(this,C,Y)},ready:function(C){g.bindReady();R.done(C);return this},eq:function(C){return C===-1?this.slice(C):this.slice(C,
+C+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Ba.apply(this,arguments),"slice",Ba.call(arguments).join(","))},map:function(C){return this.pushStack(g.map(this,function(Y,ha){return C.call(Y,ha,Y)}))},end:function(){return this.prevObject||this.constructor(null)},push:qa,sort:[].sort,splice:[].splice};g.fn.init.prototype=g.fn;g.extend=g.fn.extend=function(){var C,Y,ha,ia,xa,ua=arguments[0]||{},Ca=1,Da=arguments.length,fb=false;
if(typeof ua==="boolean"){fb=ua;ua=arguments[1]||{};Ca=2}if(typeof ua!=="object"&&!g.isFunction(ua))ua={};if(Da===Ca){ua=this;--Ca}for(;Ca<Da;Ca++)if((C=arguments[Ca])!=null)for(Y in C){ha=ua[Y];ia=C[Y];if(ua!==ia)if(fb&&ia&&(g.isPlainObject(ia)||(xa=g.isArray(ia)))){if(xa){xa=false;ha=ha&&g.isArray(ha)?ha:[]}else ha=ha&&g.isPlainObject(ha)?ha:{};ua[Y]=g.extend(fb,ha,ia)}else if(ia!==d)ua[Y]=ia}return ua};g.extend({noConflict:function(C){if(a.$===g)a.$=n;if(C&&a.jQuery===g)a.jQuery=k;return g},isReady:false,
readyWait:1,holdReady:function(C){if(C)g.readyWait++;else g.ready(true)},ready:function(C){if(C===true&&!--g.readyWait||C!==true&&!g.isReady){if(!O.body)return setTimeout(g.ready,1);g.isReady=true;if(!(C!==true&&--g.readyWait>0)){R.resolveWith(O,[g]);g.fn.trigger&&g(O).trigger("ready").unbind("ready")}}},bindReady:function(){if(!R){R=g._Deferred();if(O.readyState==="complete")return setTimeout(g.ready,1);if(O.addEventListener){O.addEventListener("DOMContentLoaded",V,false);a.addEventListener("load",
g.ready,false)}else if(O.attachEvent){O.attachEvent("onreadystatechange",V);a.attachEvent("onload",g.ready);var C=false;try{C=a.frameElement==null}catch(Y){}O.documentElement.doScroll&&C&&c()}}},isFunction:function(C){return g.type(C)==="function"},isArray:Array.isArray||function(C){return g.type(C)==="array"},isWindow:function(C){return C&&typeof C==="object"&&"setInterval"in C},isNaN:function(C){return C==null||!J.test(C)||isNaN(C)},type:function(C){return C==null?String(C):sa[ea.call(C)]||"object"},
isPlainObject:function(C){if(!C||g.type(C)!=="object"||C.nodeType||g.isWindow(C))return false;try{if(C.constructor&&!ca.call(C,"constructor")&&!ca.call(C.constructor.prototype,"isPrototypeOf"))return false}catch(Y){return false}var ha;for(ha in C);return ha===d||ca.call(C,ha)},isEmptyObject:function(C){for(var Y in C)return false;return true},error:function(C){throw C;},parseJSON:function(C){if(typeof C!=="string"||!C)return null;C=g.trim(C);if(a.JSON&&a.JSON.parse)return a.JSON.parse(C);if(ka.test(C.replace(oa,
"@").replace(pa,"]").replace(wa,"")))return(new Function("return "+C))();g.error("Invalid JSON: "+C)},parseXML:function(C){var Y,ha;try{if(a.DOMParser){ha=new DOMParser;Y=ha.parseFromString(C,"text/xml")}else{Y=new ActiveXObject("Microsoft.XMLDOM");Y.async="false";Y.loadXML(C)}}catch(ia){Y=d}if(!Y||!Y.documentElement||Y.getElementsByTagName("parsererror").length)g.error("Invalid XML: "+C);return Y},noop:function(){},globalEval:function(C){if(C&&w.test(C))(a.execScript||function(Y){a.eval.call(a,Y)})(C)},
camelCase:function(C){return C.replace(y,"ms-").replace(t,N)},nodeName:function(C,Y){return C.nodeName&&C.nodeName.toUpperCase()===Y.toUpperCase()},each:function(C,Y,ha){var ia,xa=0,ua=C.length,Ca=ua===d||g.isFunction(C);if(ha)if(Ca)for(ia in C){if(Y.apply(C[ia],ha)===false)break}else for(;xa<ua;){if(Y.apply(C[xa++],ha)===false)break}else if(Ca)for(ia in C){if(Y.call(C[ia],ia,C[ia])===false)break}else for(;xa<ua;)if(Y.call(C[xa],xa,C[xa++])===false)break;return C},trim:ya?function(C){return C==null?
"":ya.call(C)}:function(C){return C==null?"":C.toString().replace(E,"").replace(G,"")},makeArray:function(C,Y){Y=Y||[];if(C!=null){var ha=g.type(C);C.length==null||ha==="string"||ha==="function"||ha==="regexp"||g.isWindow(C)?qa.call(Y,C):g.merge(Y,C)}return Y},inArray:function(C,Y){if(!Y)return-1;if(Ea)return Ea.call(Y,C);for(var ha=0,ia=Y.length;ha<ia;ha++)if(Y[ha]===C)return ha;return-1},merge:function(C,Y){var ha=C.length,ia=0;if(typeof Y.length==="number")for(var xa=Y.length;ia<xa;ia++)C[ha++]=
Y[ia];else for(;Y[ia]!==d;)C[ha++]=Y[ia++];C.length=ha;return C},grep:function(C,Y,ha){var ia=[],xa;ha=!!ha;for(var ua=0,Ca=C.length;ua<Ca;ua++){xa=!!Y(C[ua],ua);ha!==xa&&ia.push(C[ua])}return ia},map:function(C,Y,ha){var ia,xa,ua=[],Ca=0,Da=C.length;if(C instanceof g||Da!==d&&typeof Da==="number"&&(Da>0&&C[0]&&C[Da-1]||Da===0||g.isArray(C)))for(;Ca<Da;Ca++){ia=Y(C[Ca],Ca,ha);if(ia!=null)ua[ua.length]=ia}else for(xa in C){ia=Y(C[xa],xa,ha);if(ia!=null)ua[ua.length]=ia}return ua.concat.apply([],ua)},
guid:1,proxy:function(C,Y){if(typeof Y==="string"){var ha=C[Y];Y=C;C=ha}if(!g.isFunction(C))return d;var ia=Ba.call(arguments,2);ha=function(){return C.apply(Y,ia.concat(Ba.call(arguments)))};ha.guid=C.guid=C.guid||ha.guid||g.guid++;return ha},access:function(C,Y,ha,ia,xa,ua){var Ca=C.length;if(typeof Y==="object"){for(var Da in Y)g.access(C,Da,Y[Da],ia,xa,ha);return C}if(ha!==d){ia=!ua&&ia&&g.isFunction(ha);for(Da=0;Da<Ca;Da++)xa(C[Da],Y,ia?ha.call(C[Da],Da,xa(C[Da],Y)):ha,ua);return C}return Ca?
xa(C[0],Y):d},now:function(){return(new Date).getTime()},uaMatch:function(C){C=C.toLowerCase();C=Pa.exec(C)||Aa.exec(C)||Ha.exec(C)||C.indexOf("compatible")<0&&Ka.exec(C)||[];return{browser:C[1]||"",version:C[2]||"0"}},sub:function(){function C(ha,ia){return new C.fn.init(ha,ia)}g.extend(true,C,this);C.superclass=this;C.fn=C.prototype=this();C.fn.constructor=C;C.sub=this.sub;C.fn.init=function(ha,ia){if(ia&&ia instanceof g&&!(ia instanceof C))ia=C(ia);return g.fn.init.call(this,ha,ia,Y)};C.fn.init.prototype=
C.fn;var Y=C(O);return C},browser:{}});g.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(C,Y){sa["[object "+Y+"]"]=Y.toLowerCase()});M=g.uaMatch(M);if(M.browser){g.browser[M.browser]=true;g.browser.version=M.version}if(g.browser.webkit)g.browser.safari=true;if(w.test("\u00a0")){E=/^[\s\xA0]+/;G=/[\s\xA0]+$/}p=g(O);if(O.addEventListener)V=function(){O.removeEventListener("DOMContentLoaded",V,false);g.ready()};else if(O.attachEvent)V=function(){if(O.readyState==="complete"){O.detachEvent("onreadystatechange",
V);g.ready()}};return g}(),va="done fail isResolved isRejected promise then always pipe".split(" "),Ga=[].slice;j.extend({_Deferred:function(){var c=[],g,k,n,p={done:function(){if(!n){var s=arguments,w,E,G,J,T;if(g){T=g;g=0}w=0;for(E=s.length;w<E;w++){G=s[w];J=j.type(G);if(J==="array")p.done.apply(p,G);else J==="function"&&c.push(G)}T&&p.resolveWith(T[0],T[1])}return this},resolveWith:function(s,w){if(!n&&!g&&!k){w=w||[];k=1;try{for(;c[0];)c.shift().apply(s,w)}finally{g=[s,w];k=0}}return this},resolve:function(){p.resolveWith(this,
arguments);return this},isResolved:function(){return!!(k||g)},cancel:function(){n=1;c=[];return this}};return p},Deferred:function(c){var g=j._Deferred(),k=j._Deferred(),n;j.extend(g,{then:function(p,s){g.done(p).fail(s);return this},always:function(){return g.done.apply(g,arguments).fail.apply(this,arguments)},fail:k.done,rejectWith:k.resolveWith,reject:k.resolve,isRejected:k.isResolved,pipe:function(p,s){return j.Deferred(function(w){j.each({done:[p,"resolve"],fail:[s,"reject"]},function(E,G){var J=
G[0],T=G[1],ka;j.isFunction(J)?g[E](function(){(ka=J.apply(this,arguments))&&j.isFunction(ka.promise)?ka.promise().then(w.resolve,w.reject):w[T+"With"](this===g?w:this,[ka])}):g[E](w[T])})}).promise()},promise:function(p){if(p==null){if(n)return n;n=p={}}for(var s=va.length;s--;)p[va[s]]=g[va[s]];return p}});g.done(k.cancel).fail(g.cancel);delete g.cancel;c&&c.call(g,g);return g},when:function(c){function g(E){return function(G){k[E]=arguments.length>1?Ga.call(arguments,0):G;--s||w.resolveWith(w,
Ga.call(k,0))}}var k=arguments,n=0,p=k.length,s=p,w=p<=1&&c&&j.isFunction(c.promise)?c:j.Deferred();if(p>1){for(;n<p;n++)if(k[n]&&j.isFunction(k[n].promise))k[n].promise().then(g(n),w.reject);else--s;s||w.resolveWith(w,k)}else if(w!==c)w.resolveWith(w,p?[c]:[]);return w.promise()}});j.support=function(){var c=O.createElement("div"),g=O.documentElement,k,n,p,s,w,E;c.setAttribute("className","t");c.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
k=c.getElementsByTagName("*");n=c.getElementsByTagName("a")[0];if(!k||!k.length||!n)return{};p=O.createElement("select");s=p.appendChild(O.createElement("option"));k=c.getElementsByTagName("input")[0];w={leadingWhitespace:c.firstChild.nodeType===3,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:n.getAttribute("href")==="/a",opacity:/^0.55$/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,
checkOn:k.value==="on",optSelected:s.selected,getSetAttribute:c.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};k.checked=true;w.noCloneChecked=k.cloneNode(true).checked;p.disabled=true;w.optDisabled=!s.disabled;try{delete c.test}catch(G){w.deleteExpando=false}if(!c.addEventListener&&c.attachEvent&&c.fireEvent){c.attachEvent("onclick",function(){w.noCloneEvent=
false});c.cloneNode(true).fireEvent("onclick")}k=O.createElement("input");k.value="t";k.setAttribute("type","radio");w.radioValue=k.value==="t";k.setAttribute("checked","checked");c.appendChild(k);n=O.createDocumentFragment();n.appendChild(c.firstChild);w.checkClone=n.cloneNode(true).cloneNode(true).lastChild.checked;c.innerHTML="";c.style.width=c.style.paddingLeft="1px";p=O.getElementsByTagName("body")[0];n=O.createElement(p?"div":"body");s={visibility:"hidden",width:0,height:0,border:0,margin:0,
background:"none"};p&&j.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(E in s)n.style[E]=s[E];n.appendChild(c);g=p||g;g.insertBefore(n,g.firstChild);w.appendChecked=k.checked;w.boxModel=c.offsetWidth===2;if("zoom"in c.style){c.style.display="inline";c.style.zoom=1;w.inlineBlockNeedsLayout=c.offsetWidth===2;c.style.display="";c.innerHTML="<div style='width:4px;'></div>";w.shrinkWrapBlocks=c.offsetWidth!==2}c.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";
p=c.getElementsByTagName("td");k=p[0].offsetHeight===0;p[0].style.display="";p[1].style.display="none";w.reliableHiddenOffsets=k&&p[0].offsetHeight===0;c.innerHTML="";if(O.defaultView&&O.defaultView.getComputedStyle){k=O.createElement("div");k.style.width="0";k.style.marginRight="0";c.appendChild(k);w.reliableMarginRight=(parseInt((O.defaultView.getComputedStyle(k,null)||{marginRight:0}).marginRight,10)||0)===0}n.innerHTML="";g.removeChild(n);if(c.attachEvent)for(E in{submit:1,change:1,focusin:1}){g=
"on"+E;k=g in c;if(!k){c.setAttribute(g,"return;");k=typeof c[g]==="function"}w[E+"Bubbles"]=k}n=n=p=s=p=k=c=k=null;return w}();j.boxModel=j.support.boxModel;var aa=/^(?:\{.*\}|\[.*\])$/,ga=/([A-Z])/g;j.extend({cache:{},uuid:0,expando:"jQuery"+(j.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(c){c=c.nodeType?j.cache[c[j.expando]]:c[j.expando];return!!c&&!h(c)},data:function(c,g,k,n){if(j.acceptData(c)){var p=
j.expando,s=typeof g==="string",w=c.nodeType,E=w?j.cache:c,G=w?c[j.expando]:c[j.expando]&&j.expando;if(!((!G||n&&G&&E[G]&&!E[G][p])&&s&&k===d)){if(!G)if(w)c[j.expando]=G=++j.uuid;else G=j.expando;if(!E[G]){E[G]={};if(!w)E[G].toJSON=j.noop}if(typeof g==="object"||typeof g==="function")if(n)E[G][p]=j.extend(E[G][p],g);else E[G]=j.extend(E[G],g);c=E[G];if(n){c[p]||(c[p]={});c=c[p]}if(k!==d)c[j.camelCase(g)]=k;if(g==="events"&&!c[g])return c[p]&&c[p].events;if(s){k=c[g];if(k==null)k=c[j.camelCase(g)]}else k=
c;return k}}},removeData:function(c,g,k){if(j.acceptData(c)){var n,p=j.expando,s=c.nodeType,w=s?j.cache:c,E=s?c[j.expando]:j.expando;if(w[E]){if(g)if(n=k?w[E][p]:w[E]){n[g]||(g=j.camelCase(g));delete n[g];if(!h(n))return}if(k){delete w[E][p];if(!h(w[E]))return}g=w[E][p];if(j.support.deleteExpando||!w.setInterval)delete w[E];else w[E]=null;if(g){w[E]={};if(!s)w[E].toJSON=j.noop;w[E][p]=g}else if(s)if(j.support.deleteExpando)delete c[j.expando];else if(c.removeAttribute)c.removeAttribute(j.expando);
else c[j.expando]=null}}},_data:function(c,g,k){return j.data(c,g,k,true)},acceptData:function(c){if(c.nodeName){var g=j.noData[c.nodeName.toLowerCase()];if(g)return!(g===true||c.getAttribute("classid")!==g)}return true}});j.fn.extend({data:function(c,g){var k=null;if(typeof c==="undefined"){if(this.length){k=j.data(this[0]);if(this[0].nodeType===1)for(var n=this[0].attributes,p,s=0,w=n.length;s<w;s++){p=n[s].name;if(p.indexOf("data-")===0){p=j.camelCase(p.substring(5));e(this[0],p,k[p])}}}return k}else if(typeof c===
"object")return this.each(function(){j.data(this,c)});var E=c.split(".");E[1]=E[1]?"."+E[1]:"";if(g===d){k=this.triggerHandler("getData"+E[1]+"!",[E[0]]);if(k===d&&this.length){k=j.data(this[0],c);k=e(this[0],c,k)}return k===d&&E[1]?this.data(E[0]):k}else return this.each(function(){var G=j(this),J=[E[0],g];G.triggerHandler("setData"+E[1]+"!",J);j.data(this,c,g);G.triggerHandler("changeData"+E[1]+"!",J)})},removeData:function(c){return this.each(function(){j.removeData(this,c)})}});j.extend({_mark:function(c,
g){if(c){g=(g||"fx")+"mark";j.data(c,g,(j.data(c,g,d,true)||0)+1,true)}},_unmark:function(c,g,k){if(c!==true){k=g;g=c;c=false}if(g){k=k||"fx";var n=k+"mark";if(c=c?0:(j.data(g,n,d,true)||1)-1)j.data(g,n,c,true);else{j.removeData(g,n,true);f(g,k,"mark")}}},queue:function(c,g,k){if(c){g=(g||"fx")+"queue";var n=j.data(c,g,d,true);if(k)if(!n||j.isArray(k))n=j.data(c,g,j.makeArray(k),true);else n.push(k);return n||[]}},dequeue:function(c,g){g=g||"fx";var k=j.queue(c,g),n=k.shift();if(n==="inprogress")n=
k.shift();if(n){g==="fx"&&k.unshift("inprogress");n.call(c,function(){j.dequeue(c,g)})}if(!k.length){j.removeData(c,g+"queue",true);f(c,g,"queue")}}});j.fn.extend({queue:function(c,g){if(typeof c!=="string"){g=c;c="fx"}if(g===d)return j.queue(this[0],c);return this.each(function(){var k=j.queue(this,c,g);c==="fx"&&k[0]!=="inprogress"&&j.dequeue(this,c)})},dequeue:function(c){return this.each(function(){j.dequeue(this,c)})},delay:function(c,g){c=j.fx?j.fx.speeds[c]||c:c;g=g||"fx";return this.queue(g,
function(){var k=this;setTimeout(function(){j.dequeue(k,g)},c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,g){function k(){--s||n.resolveWith(p,[p])}if(typeof c!=="string"){g=c;c=d}c=c||"fx";var n=j.Deferred(),p=this;g=p.length;var s=1,w=c+"defer",E=c+"queue";c=c+"mark";for(var G;g--;)if(G=j.data(p[g],w,d,true)||(j.data(p[g],E,d,true)||j.data(p[g],c,d,true))&&j.data(p[g],w,j._Deferred(),true)){s++;G.done(k)}k();return n.promise()}});var na=/[\n\t\r]/g,ta=/\s+/,za=/\r/g,
Fa=/^(?:button|input)$/i,Ia=/^(?:button|input|object|select|textarea)$/i,La=/^a(?:rea)?$/i,Na=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Oa,$a;j.fn.extend({attr:function(c,g){return j.access(this,c,g,true,j.attr)},removeAttr:function(c){return this.each(function(){j.removeAttr(this,c)})},prop:function(c,g){return j.access(this,c,g,true,j.prop)},removeProp:function(c){c=j.propFix[c]||c;return this.each(function(){try{this[c]=
d;delete this[c]}catch(g){}})},addClass:function(c){var g,k,n,p,s,w,E;if(j.isFunction(c))return this.each(function(G){j(this).addClass(c.call(this,G,this.className))});if(c&&typeof c==="string"){g=c.split(ta);k=0;for(n=this.length;k<n;k++){p=this[k];if(p.nodeType===1)if(!p.className&&g.length===1)p.className=c;else{s=" "+p.className+" ";w=0;for(E=g.length;w<E;w++)~s.indexOf(" "+g[w]+" ")||(s+=g[w]+" ");p.className=j.trim(s)}}}return this},removeClass:function(c){var g,k,n,p,s,w,E;if(j.isFunction(c))return this.each(function(G){j(this).removeClass(c.call(this,
G,this.className))});if(c&&typeof c==="string"||c===d){g=(c||"").split(ta);k=0;for(n=this.length;k<n;k++){p=this[k];if(p.nodeType===1&&p.className)if(c){s=(" "+p.className+" ").replace(na," ");w=0;for(E=g.length;w<E;w++)s=s.replace(" "+g[w]+" "," ");p.className=j.trim(s)}else p.className=""}}return this},toggleClass:function(c,g){var k=typeof c,n=typeof g==="boolean";if(j.isFunction(c))return this.each(function(p){j(this).toggleClass(c.call(this,p,this.className,g),g)});return this.each(function(){if(k===
"string")for(var p,s=0,w=j(this),E=g,G=c.split(ta);p=G[s++];){E=n?E:!w.hasClass(p);w[E?"addClass":"removeClass"](p)}else if(k==="undefined"||k==="boolean"){this.className&&j._data(this,"__className__",this.className);this.className=this.className||c===false?"":j._data(this,"__className__")||""}})},hasClass:function(c){c=" "+c+" ";for(var g=0,k=this.length;g<k;g++)if(this[g].nodeType===1&&(" "+this[g].className+" ").replace(na," ").indexOf(c)>-1)return true;return false},val:function(c){var g,k,n=
this[0];if(!arguments.length){if(n){if((g=j.valHooks[n.nodeName.toLowerCase()]||j.valHooks[n.type])&&"get"in g&&(k=g.get(n,"value"))!==d)return k;k=n.value;return typeof k==="string"?k.replace(za,""):k==null?"":k}return d}var p=j.isFunction(c);return this.each(function(s){var w=j(this);if(this.nodeType===1){s=p?c.call(this,s,w.val()):c;if(s==null)s="";else if(typeof s==="number")s+="";else if(j.isArray(s))s=j.map(s,function(E){return E==null?"":E+""});g=j.valHooks[this.nodeName.toLowerCase()]||j.valHooks[this.type];
if(!g||!("set"in g)||g.set(this,s,"value")===d)this.value=s}})}});j.extend({valHooks:{option:{get:function(c){var g=c.attributes.value;return!g||g.specified?c.value:c.text}},select:{get:function(c){var g,k=c.selectedIndex,n=[],p=c.options;c=c.type==="select-one";if(k<0)return null;for(var s=c?k:0,w=c?k+1:p.length;s<w;s++){g=p[s];if(g.selected&&(j.support.optDisabled?!g.disabled:g.getAttribute("disabled")===null)&&(!g.parentNode.disabled||!j.nodeName(g.parentNode,"optgroup"))){g=j(g).val();if(c)return g;
n.push(g)}}if(c&&!n.length&&p.length)return j(p[k]).val();return n},set:function(c,g){var k=j.makeArray(g);j(c).find("option").each(function(){this.selected=j.inArray(j(this).val(),k)>=0});if(!k.length)c.selectedIndex=-1;return k}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(c,g,k,n){var p=c.nodeType;if(!c||p===3||p===8||p===2)return d;if(n&&g in j.attrFn)return j(c)[g](k);if(!("getAttribute"in c))return j.prop(c,
g,k);var s,w;if(n=p!==1||!j.isXMLDoc(c)){g=j.attrFix[g]||g;w=j.attrHooks[g];if(!w)if(Na.test(g))w=$a;else if(Oa)w=Oa}if(k!==d)if(k===null){j.removeAttr(c,g);return d}else if(w&&"set"in w&&n&&(s=w.set(c,k,g))!==d)return s;else{c.setAttribute(g,""+k);return k}else if(w&&"get"in w&&n&&(s=w.get(c,g))!==null)return s;else{s=c.getAttribute(g);return s===null?d:s}},removeAttr:function(c,g){var k;if(c.nodeType===1){g=j.attrFix[g]||g;j.attr(c,g,"");c.removeAttribute(g);if(Na.test(g)&&(k=j.propFix[g]||g)in
c)c[k]=false}},attrHooks:{type:{set:function(c,g){if(Fa.test(c.nodeName)&&c.parentNode)j.error("type property can't be changed");else if(!j.support.radioValue&&g==="radio"&&j.nodeName(c,"input")){var k=c.value;c.setAttribute("type",g);if(k)c.value=k;return g}}},value:{get:function(c,g){if(Oa&&j.nodeName(c,"button"))return Oa.get(c,g);return g in c?c.value:null},set:function(c,g,k){if(Oa&&j.nodeName(c,"button"))return Oa.set(c,g,k);c.value=g}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor",
"class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(c,g,k){var n=c.nodeType;if(!c||n===3||n===8||n===2)return d;var p,s;if(n!==1||!j.isXMLDoc(c)){g=j.propFix[g]||g;s=j.propHooks[g]}return k!==d?s&&"set"in s&&(p=s.set(c,k,g))!==d?p:(c[g]=k):s&&"get"in s&&(p=s.get(c,g))!==null?p:c[g]},propHooks:{tabIndex:{get:function(c){var g=c.getAttributeNode("tabindex");
return g&&g.specified?parseInt(g.value,10):Ia.test(c.nodeName)||La.test(c.nodeName)&&c.href?0:d}}}});j.attrHooks.tabIndex=j.propHooks.tabIndex;$a={get:function(c,g){var k;return j.prop(c,g)===true||(k=c.getAttributeNode(g))&&k.nodeValue!==false?g.toLowerCase():d},set:function(c,g,k){if(g===false)j.removeAttr(c,k);else{g=j.propFix[k]||k;if(g in c)c[g]=true;c.setAttribute(k,k.toLowerCase())}return k}};if(!j.support.getSetAttribute){Oa=j.valHooks.button={get:function(c,g){return(c=c.getAttributeNode(g))&&
c.nodeValue!==""?c.nodeValue:d},set:function(c,g,k){var n=c.getAttributeNode(k);if(!n){n=O.createAttribute(k);c.setAttributeNode(n)}return n.nodeValue=g+""}};j.each(["width","height"],function(c,g){j.attrHooks[g]=j.extend(j.attrHooks[g],{set:function(k,n){if(n===""){k.setAttribute(g,"auto");return n}}})})}j.support.hrefNormalized||j.each(["href","src","width","height"],function(c,g){j.attrHooks[g]=j.extend(j.attrHooks[g],{get:function(k){k=k.getAttribute(g,2);return k===null?d:k}})});if(!j.support.style)j.attrHooks.style=
{get:function(c){return c.style.cssText.toLowerCase()||d},set:function(c,g){return c.style.cssText=""+g}};if(!j.support.optSelected)j.propHooks.selected=j.extend(j.propHooks.selected,{get:function(){return null}});j.support.checkOn||j.each(["radio","checkbox"],function(){j.valHooks[this]={get:function(c){return c.getAttribute("value")===null?"on":c.value}}});j.each(["radio","checkbox"],function(){j.valHooks[this]=j.extend(j.valHooks[this],{set:function(c,g){if(j.isArray(g))return c.checked=j.inArray(j(c).val(),
g)>=0}})});var Xa=/\.(.*)$/,Va=/^(?:textarea|input|select)$/i,Sa=/\./g,Eb=/ /g,Kb=/[^\w\s.|`]/g,Lb=function(c){return c.replace(Kb,"\\$&")};j.event={add:function(c,g,k,n){if(!(c.nodeType===3||c.nodeType===8)){if(k===false)k=l;else if(!k)return;var p,s;if(k.handler){p=k;k=p.handler}if(!k.guid)k.guid=j.guid++;if(s=j._data(c)){var w=s.events,E=s.handle;if(!w)s.events=w={};if(!E)s.handle=E=function(pa){return typeof j!=="undefined"&&(!pa||j.event.triggered!==pa.type)?j.event.handle.apply(E.elem,arguments):
d};E.elem=c;g=g.split(" ");for(var G,J=0,T;G=g[J++];){s=p?j.extend({},p):{handler:k,data:n};if(G.indexOf(".")>-1){T=G.split(".");G=T.shift();s.namespace=T.slice(0).sort().join(".")}else{T=[];s.namespace=""}s.type=G;if(!s.guid)s.guid=k.guid;var ka=w[G],oa=j.event.special[G]||{};if(!ka){ka=w[G]=[];if(!oa.setup||oa.setup.call(c,n,T,E)===false)if(c.addEventListener)c.addEventListener(G,E,false);else c.attachEvent&&c.attachEvent("on"+G,E)}if(oa.add){oa.add.call(c,s);if(!s.handler.guid)s.handler.guid=k.guid}ka.push(s);
j.event.global[G]=true}c=null}}},global:{},remove:function(c,g,k,n){if(!(c.nodeType===3||c.nodeType===8)){if(k===false)k=l;var p,s,w=0,E,G,J,T,ka,oa,pa=j.hasData(c)&&j._data(c),wa=pa&&pa.events;if(pa&&wa){if(g&&g.type){k=g.handler;g=g.type}if(!g||typeof g==="string"&&g.charAt(0)==="."){g=g||"";for(p in wa)j.event.remove(c,p+g)}else{for(g=g.split(" ");p=g[w++];){T=p;E=p.indexOf(".")<0;G=[];if(!E){G=p.split(".");p=G.shift();J=new RegExp("(^|\\.)"+j.map(G.slice(0).sort(),Lb).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(ka=
wa[p])if(k){T=j.event.special[p]||{};for(s=n||0;s<ka.length;s++){oa=ka[s];if(k.guid===oa.guid){if(E||J.test(oa.namespace)){n==null&&ka.splice(s--,1);T.remove&&T.remove.call(c,oa)}if(n!=null)break}}if(ka.length===0||n!=null&&ka.length===1){if(!T.teardown||T.teardown.call(c,G)===false)j.removeEvent(c,p,pa.handle);delete wa[p]}}else for(s=0;s<ka.length;s++){oa=ka[s];if(E||J.test(oa.namespace)){j.event.remove(c,T,oa.handler,s);ka.splice(s--,1)}}}if(j.isEmptyObject(wa)){if(g=pa.handle)g.elem=null;delete pa.events;
delete pa.handle;j.isEmptyObject(pa)&&j.removeData(c,d,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(c,g,k,n){var p=c.type||c,s=[],w;if(p.indexOf("!")>=0){p=p.slice(0,-1);w=true}if(p.indexOf(".")>=0){s=p.split(".");p=s.shift();s.sort()}if(!((!k||j.event.customEvent[p])&&!j.event.global[p])){c=typeof c==="object"?c[j.expando]?c:new j.Event(p,c):new j.Event(p);c.type=p;c.exclusive=w;c.namespace=s.join(".");c.namespace_re=new RegExp("(^|\\.)"+s.join("\\.(?:.*\\.)?")+
"(\\.|$)");if(n||!k){c.preventDefault();c.stopPropagation()}if(k){if(!(k.nodeType===3||k.nodeType===8)){c.result=d;c.target=k;g=g!=null?j.makeArray(g):[];g.unshift(c);s=k;n=p.indexOf(":")<0?"on"+p:"";do{w=j._data(s,"handle");c.currentTarget=s;w&&w.apply(s,g);if(n&&j.acceptData(s)&&s[n]&&s[n].apply(s,g)===false){c.result=false;c.preventDefault()}s=s.parentNode||s.ownerDocument||s===c.target.ownerDocument&&a}while(s&&!c.isPropagationStopped());if(!c.isDefaultPrevented()){var E;s=j.event.special[p]||
{};if((!s._default||s._default.call(k.ownerDocument,c)===false)&&!(p==="click"&&j.nodeName(k,"a"))&&j.acceptData(k)){try{if(n&&k[p]){if(E=k[n])k[n]=null;j.event.triggered=p;k[p]()}}catch(G){}if(E)k[n]=E;j.event.triggered=d}}return c.result}}else j.each(j.cache,function(){var J=this[j.expando];J&&J.events&&J.events[p]&&j.event.trigger(c,g,J.handle.elem)})}},handle:function(c){c=j.event.fix(c||a.event);var g=((j._data(this,"events")||{})[c.type]||[]).slice(0),k=!c.exclusive&&!c.namespace,n=Array.prototype.slice.call(arguments,
0);n[0]=c;c.currentTarget=this;for(var p=0,s=g.length;p<s;p++){var w=g[p];if(k||c.namespace_re.test(w.namespace)){c.handler=w.handler;c.data=w.data;c.handleObj=w;w=w.handler.apply(this,n);if(w!==d){c.result=w;if(w===false){c.preventDefault();c.stopPropagation()}}if(c.isImmediatePropagationStopped())break}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(c){if(c[j.expando])return c;var g=c;c=j.Event(g);for(var k=this.props.length,n;k;){n=this.props[--k];c[n]=g[n]}if(!c.target)c.target=c.srcElement||O;if(c.target.nodeType===3)c.target=c.target.parentNode;if(!c.relatedTarget&&c.fromElement)c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement;if(c.pageX==null&&c.clientX!=null){k=c.target.ownerDocument||O;g=k.documentElement;k=k.body;c.pageX=c.clientX+(g&&g.scrollLeft||k&&k.scrollLeft||0)-(g&&g.clientLeft||k&&k.clientLeft||
0);c.pageY=c.clientY+(g&&g.scrollTop||k&&k.scrollTop||0)-(g&&g.clientTop||k&&k.clientTop||0)}if(c.which==null&&(c.charCode!=null||c.keyCode!=null))c.which=c.charCode!=null?c.charCode:c.keyCode;if(!c.metaKey&&c.ctrlKey)c.metaKey=c.ctrlKey;if(!c.which&&c.button!==d)c.which=c.button&1?1:c.button&2?3:c.button&4?2:0;return c},guid:1E8,proxy:j.proxy,special:{ready:{setup:j.bindReady,teardown:j.noop},live:{add:function(c){j.event.add(this,u(c.origType,c.selector),j.extend({},c,{handler:r,guid:c.handler.guid}))},
remove:function(c){j.event.remove(this,u(c.origType,c.selector),c)}},beforeunload:{setup:function(c,g,k){if(j.isWindow(this))this.onbeforeunload=k},teardown:function(c,g){if(this.onbeforeunload===g)this.onbeforeunload=null}}}};j.removeEvent=O.removeEventListener?function(c,g,k){c.removeEventListener&&c.removeEventListener(g,k,false)}:function(c,g,k){c.detachEvent&&c.detachEvent("on"+g,k)};j.Event=function(c,g){if(!this.preventDefault)return new j.Event(c,g);if(c&&c.type){this.originalEvent=c;this.type=
c.type;this.isDefaultPrevented=c.defaultPrevented||c.returnValue===false||c.getPreventDefault&&c.getPreventDefault()?q:l}else this.type=c;g&&j.extend(this,g);this.timeStamp=j.now();this[j.expando]=true};j.Event.prototype={preventDefault:function(){this.isDefaultPrevented=q;var c=this.originalEvent;if(c)if(c.preventDefault)c.preventDefault();else c.returnValue=false},stopPropagation:function(){this.isPropagationStopped=q;var c=this.originalEvent;if(c){c.stopPropagation&&c.stopPropagation();c.cancelBubble=
true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=q;this.stopPropagation()},isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l};var mb=function(c){var g=c.relatedTarget,k=false,n=c.type;c.type=c.data;if(g!==this){if(g)k=j.contains(this,g);if(!k){j.event.handle.apply(this,arguments);c.type=n}}},nb=function(c){c.type=c.data;j.event.handle.apply(this,arguments)};j.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,g){j.event.special[c]=
{setup:function(k){j.event.add(this,g,k&&k.selector?nb:mb,c)},teardown:function(k){j.event.remove(this,g,k&&k.selector?nb:mb)}}});if(!j.support.submitBubbles)j.event.special.submit={setup:function(){if(j.nodeName(this,"form"))return false;else{j.event.add(this,"click.specialSubmit",function(c){var g=c.target,k=j.nodeName(g,"input")||j.nodeName(g,"button")?g.type:"";if((k==="submit"||k==="image")&&j(g).closest("form").length)o("submit",this,arguments)});j.event.add(this,"keypress.specialSubmit",function(c){var g=
c.target,k=j.nodeName(g,"input")||j.nodeName(g,"button")?g.type:"";if((k==="text"||k==="password")&&j(g).closest("form").length&&c.keyCode===13)o("submit",this,arguments)})}},teardown:function(){j.event.remove(this,".specialSubmit")}};if(!j.support.changeBubbles){var Ya,ob=function(c){var g=j.nodeName(c,"input")?c.type:"",k=c.value;if(g==="radio"||g==="checkbox")k=c.checked;else if(g==="select-multiple")k=c.selectedIndex>-1?j.map(c.options,function(n){return n.selected}).join("-"):"";else if(j.nodeName(c,
"select"))k=c.selectedIndex;return k},ab=function(c,g){var k=c.target,n,p;if(!(!Va.test(k.nodeName)||k.readOnly)){n=j._data(k,"_change_data");p=ob(k);if(c.type!=="focusout"||k.type!=="radio")j._data(k,"_change_data",p);if(!(n===d||p===n))if(n!=null||p){c.type="change";c.liveFired=d;j.event.trigger(c,g,k)}}};j.event.special.change={filters:{focusout:ab,beforedeactivate:ab,click:function(c){var g=c.target,k=j.nodeName(g,"input")?g.type:"";if(k==="radio"||k==="checkbox"||j.nodeName(g,"select"))ab.call(this,
c)},keydown:function(c){var g=c.target,k=j.nodeName(g,"input")?g.type:"";if(c.keyCode===13&&!j.nodeName(g,"textarea")||c.keyCode===32&&(k==="checkbox"||k==="radio")||k==="select-multiple")ab.call(this,c)},beforeactivate:function(c){c=c.target;j._data(c,"_change_data",ob(c))}},setup:function(){if(this.type==="file")return false;for(var c in Ya)j.event.add(this,c+".specialChange",Ya[c]);return Va.test(this.nodeName)},teardown:function(){j.event.remove(this,".specialChange");return Va.test(this.nodeName)}};
Ya=j.event.special.change.filters;Ya.focus=Ya.beforeactivate}j.support.focusinBubbles||j.each({focus:"focusin",blur:"focusout"},function(c,g){function k(p){var s=j.event.fix(p);s.type=g;s.originalEvent={};j.event.trigger(s,null,s.target);s.isDefaultPrevented()&&p.preventDefault()}var n=0;j.event.special[g]={setup:function(){n++===0&&O.addEventListener(c,k,true)},teardown:function(){--n===0&&O.removeEventListener(c,k,true)}}});j.each(["bind","one"],function(c,g){j.fn[g]=function(k,n,p){var s;if(typeof k===
"object"){for(var w in k)this[g](w,n,k[w],p);return this}if(arguments.length===2||n===false){p=n;n=d}if(g==="one"){s=function(G){j(this).unbind(G,s);return p.apply(this,arguments)};s.guid=p.guid||j.guid++}else s=p;if(k==="unload"&&g!=="one")this.one(k,n,p);else{w=0;for(var E=this.length;w<E;w++)j.event.add(this[w],k,s,n)}return this}});j.fn.extend({unbind:function(c,g){if(typeof c==="object"&&!c.preventDefault)for(var k in c)this.unbind(k,c[k]);else{k=0;for(var n=this.length;k<n;k++)j.event.remove(this[k],
c,g)}return this},delegate:function(c,g,k,n){return this.live(g,k,n,c)},undelegate:function(c,g,k){return arguments.length===0?this.unbind("live"):this.die(g,null,k,c)},trigger:function(c,g){return this.each(function(){j.event.trigger(c,g,this)})},triggerHandler:function(c,g){if(this[0])return j.event.trigger(c,g,this[0],true)},toggle:function(c){var g=arguments,k=c.guid||j.guid++,n=0,p=function(s){var w=(j.data(this,"lastToggle"+c.guid)||0)%n;j.data(this,"lastToggle"+c.guid,w+1);s.preventDefault();
return g[w].apply(this,arguments)||false};for(p.guid=k;n<g.length;)g[n++].guid=k;return this.click(p)},hover:function(c,g){return this.mouseenter(c).mouseleave(g||c)}});var gb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};j.each(["live","die"],function(c,g){j.fn[g]=function(k,n,p,s){var w=0,E,G,J=s||this.selector,T=s?this:j(this.context);if(typeof k==="object"&&!k.preventDefault){for(E in k)T[g](E,n,k[E],J);return this}if(g==="die"&&!k&&s&&s.charAt(0)==="."){T.unbind(s);
return this}if(n===false||j.isFunction(n)){p=n||l;n=d}for(k=(k||"").split(" ");(s=k[w++])!=null;){E=Xa.exec(s);G="";if(E){G=E[0];s=s.replace(Xa,"")}if(s==="hover")k.push("mouseenter"+G,"mouseleave"+G);else{E=s;if(gb[s]){k.push(gb[s]+G);s+=G}else s=(gb[s]||s)+G;if(g==="live"){G=0;for(var ka=T.length;G<ka;G++)j.event.add(T[G],"live."+u(s,J),{data:n,selector:J,handler:p,origType:s,origHandler:p,preType:E})}else T.unbind("live."+u(s,J),p)}}return this}});j.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(c,g){j.fn[g]=function(k,n){if(n==null){n=k;k=null}return arguments.length>0?this.bind(g,k,n):this.trigger(g)};if(j.attrFn)j.attrFn[g]=true});(function(){function c(t,y,N,M,R,V){R=0;for(var ea=M.length;R<ea;R++){var ca=M[R];if(ca){var qa=false;for(ca=ca[t];ca;){if(ca.sizcache===N){qa=M[ca.sizset];break}if(ca.nodeType===1&&!V){ca.sizcache=N;ca.sizset=R}if(ca.nodeName.toLowerCase()===y){qa=ca;break}ca=ca[t]}M[R]=qa}}}function g(t,y,N,M,R,V){R=0;for(var ea=M.length;R<ea;R++){var ca=M[R];if(ca){var qa=
false;for(ca=ca[t];ca;){if(ca.sizcache===N){qa=M[ca.sizset];break}if(ca.nodeType===1){if(!V){ca.sizcache=N;ca.sizset=R}if(typeof y!=="string"){if(ca===y){qa=true;break}}else if(J.filter(y,[ca]).length>0){qa=ca;break}}ca=ca[t]}M[R]=qa}}}var k=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,n=0,p=Object.prototype.toString,s=false,w=true,E=/\\/g,G=/\W/;[0,0].sort(function(){w=false;return 0});var J=function(t,y,N,M){N=
N||[];var R=y=y||O;if(y.nodeType!==1&&y.nodeType!==9)return[];if(!t||typeof t!=="string")return N;var V,ea,ca,qa,Ba,ya=true,Ea=J.isXML(y),sa=[],C=t;do{k.exec("");if(V=k.exec(C)){C=V[3];sa.push(V[1]);if(V[2]){qa=V[3];break}}}while(V);if(sa.length>1&&ka.exec(t))if(sa.length===2&&T.relative[sa[0]])ea=Ka(sa[0]+sa[1],y);else for(ea=T.relative[sa[0]]?[y]:J(sa.shift(),y);sa.length;){t=sa.shift();if(T.relative[t])t+=sa.shift();ea=Ka(t,ea)}else{if(!M&&sa.length>1&&y.nodeType===9&&!Ea&&T.match.ID.test(sa[0])&&
!T.match.ID.test(sa[sa.length-1])){V=J.find(sa.shift(),y,Ea);y=V.expr?J.filter(V.expr,V.set)[0]:V.set[0]}if(y){V=M?{expr:sa.pop(),set:wa(M)}:J.find(sa.pop(),sa.length===1&&(sa[0]==="~"||sa[0]==="+")&&y.parentNode?y.parentNode:y,Ea);ea=V.expr?J.filter(V.expr,V.set):V.set;if(sa.length>0)ca=wa(ea);else ya=false;for(;sa.length;){V=Ba=sa.pop();if(T.relative[Ba])V=sa.pop();else Ba="";if(V==null)V=y;T.relative[Ba](ca,V,Ea)}}else ca=[]}ca||(ca=ea);ca||J.error(Ba||t);if(p.call(ca)==="[object Array]")if(ya)if(y&&
y.nodeType===1)for(t=0;ca[t]!=null;t++){if(ca[t]&&(ca[t]===true||ca[t].nodeType===1&&J.contains(y,ca[t])))N.push(ea[t])}else for(t=0;ca[t]!=null;t++)ca[t]&&ca[t].nodeType===1&&N.push(ea[t]);else N.push.apply(N,ca);else wa(ca,N);if(qa){J(qa,R,N,M);J.uniqueSort(N)}return N};J.uniqueSort=function(t){if(Aa){s=w;t.sort(Aa);if(s)for(var y=1;y<t.length;y++)t[y]===t[y-1]&&t.splice(y--,1)}return t};J.matches=function(t,y){return J(t,null,null,y)};J.matchesSelector=function(t,y){return J(y,null,null,[t]).length>
0};J.find=function(t,y,N){var M;if(!t)return[];for(var R=0,V=T.order.length;R<V;R++){var ea,ca=T.order[R];if(ea=T.leftMatch[ca].exec(t)){var qa=ea[1];ea.splice(1,1);if(qa.substr(qa.length-1)!=="\\"){ea[1]=(ea[1]||"").replace(E,"");M=T.find[ca](ea,y,N);if(M!=null){t=t.replace(T.match[ca],"");break}}}}M||(M=typeof y.getElementsByTagName!=="undefined"?y.getElementsByTagName("*"):[]);return{set:M,expr:t}};J.filter=function(t,y,N,M){for(var R,V,ea=t,ca=[],qa=y,Ba=y&&y[0]&&J.isXML(y[0]);t&&y.length;){for(var ya in T.filter)if((R=
T.leftMatch[ya].exec(t))!=null&&R[2]){var Ea,sa,C=T.filter[ya];sa=R[1];V=false;R.splice(1,1);if(sa.substr(sa.length-1)!=="\\"){if(qa===ca)ca=[];if(T.preFilter[ya])if(R=T.preFilter[ya](R,qa,N,ca,M,Ba)){if(R===true)continue}else V=Ea=true;if(R)for(var Y=0;(sa=qa[Y])!=null;Y++)if(sa){Ea=C(sa,R,Y,qa);var ha=M^!!Ea;if(N&&Ea!=null)if(ha)V=true;else qa[Y]=false;else if(ha){ca.push(sa);V=true}}if(Ea!==d){N||(qa=ca);t=t.replace(T.match[ya],"");if(!V)return[];break}}}if(t===ea)if(V==null)J.error(t);else break;
ea=t}return qa};J.error=function(t){throw"Syntax error, unrecognized expression: "+t;};var T=J.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,y){var N=typeof y==="string",M=N&&!G.test(y);N=N&&!M;if(M)y=y.toLowerCase();M=0;for(var R=t.length,V;M<R;M++)if(V=t[M]){for(;(V=V.previousSibling)&&V.nodeType!==
1;);t[M]=N||V&&V.nodeName.toLowerCase()===y?V||false:V===y}N&&J.filter(y,t,true)},">":function(t,y){var N,M=typeof y==="string",R=0,V=t.length;if(M&&!G.test(y))for(y=y.toLowerCase();R<V;R++){if(N=t[R]){N=N.parentNode;t[R]=N.nodeName.toLowerCase()===y?N:false}}else{for(;R<V;R++)if(N=t[R])t[R]=M?N.parentNode:N.parentNode===y;M&&J.filter(y,t,true)}},"":function(t,y,N){var M,R=n++,V=g;if(typeof y==="string"&&!G.test(y)){M=y=y.toLowerCase();V=c}V("parentNode",y,R,t,M,N)},"~":function(t,y,N){var M,R=n++,
V=g;if(typeof y==="string"&&!G.test(y)){M=y=y.toLowerCase();V=c}V("previousSibling",y,R,t,M,N)}},find:{ID:function(t,y,N){if(typeof y.getElementById!=="undefined"&&!N)return(t=y.getElementById(t[1]))&&t.parentNode?[t]:[]},NAME:function(t,y){if(typeof y.getElementsByName!=="undefined"){var N=[];y=y.getElementsByName(t[1]);for(var M=0,R=y.length;M<R;M++)y[M].getAttribute("name")===t[1]&&N.push(y[M]);return N.length===0?null:N}},TAG:function(t,y){if(typeof y.getElementsByTagName!=="undefined")return y.getElementsByTagName(t[1])}},
preFilter:{CLASS:function(t,y,N,M,R,V){t=" "+t[1].replace(E,"")+" ";if(V)return t;V=0;for(var ea;(ea=y[V])!=null;V++)if(ea)if(R^(ea.className&&(" "+ea.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0))N||M.push(ea);else if(N)y[V]=false;return false},ID:function(t){return t[1].replace(E,"")},TAG:function(t){return t[1].replace(E,"").toLowerCase()},CHILD:function(t){if(t[1]==="nth"){t[2]||J.error(t[0]);t[2]=t[2].replace(/^\+|\s*/g,"");var y=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(t[2]==="even"&&"2n"||
t[2]==="odd"&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=y[1]+(y[2]||1)-0;t[3]=y[3]-0}else t[2]&&J.error(t[0]);t[0]=n++;return t},ATTR:function(t,y,N,M,R,V){y=t[1]=t[1].replace(E,"");if(!V&&T.attrMap[y])t[1]=T.attrMap[y];t[4]=(t[4]||t[5]||"").replace(E,"");if(t[2]==="~=")t[4]=" "+t[4]+" ";return t},PSEUDO:function(t,y,N,M,R){if(t[1]==="not")if((k.exec(t[3])||"").length>1||/^\w/.test(t[3]))t[3]=J(t[3],null,null,y);else{t=J.filter(t[3],y,N,true^R);N||M.push.apply(M,t);return false}else if(T.match.POS.test(t[0])||
T.match.CHILD.test(t[0]))return true;return t},POS:function(t){t.unshift(true);return t}},filters:{enabled:function(t){return t.disabled===false&&t.type!=="hidden"},disabled:function(t){return t.disabled===true},checked:function(t){return t.checked===true},selected:function(t){return t.selected===true},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,y,N){return!!J(N[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var y=
t.getAttribute("type"),N=t.type;return t.nodeName.toLowerCase()==="input"&&"text"===N&&(y===N||y===null)},radio:function(t){return t.nodeName.toLowerCase()==="input"&&"radio"===t.type},checkbox:function(t){return t.nodeName.toLowerCase()==="input"&&"checkbox"===t.type},file:function(t){return t.nodeName.toLowerCase()==="input"&&"file"===t.type},password:function(t){return t.nodeName.toLowerCase()==="input"&&"password"===t.type},submit:function(t){var y=t.nodeName.toLowerCase();return(y==="input"||
y==="button")&&"submit"===t.type},image:function(t){return t.nodeName.toLowerCase()==="input"&&"image"===t.type},reset:function(t){var y=t.nodeName.toLowerCase();return(y==="input"||y==="button")&&"reset"===t.type},button:function(t){var y=t.nodeName.toLowerCase();return y==="input"&&"button"===t.type||y==="button"},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,y){return y===0},last:function(t,
y,N,M){return y===M.length-1},even:function(t,y){return y%2===0},odd:function(t,y){return y%2===1},lt:function(t,y,N){return y<N[3]-0},gt:function(t,y,N){return y>N[3]-0},nth:function(t,y,N){return N[3]-0===y},eq:function(t,y,N){return N[3]-0===y}},filter:{PSEUDO:function(t,y,N,M){var R=y[1],V=T.filters[R];if(V)return V(t,N,y,M);else if(R==="contains")return(t.textContent||t.innerText||J.getText([t])||"").indexOf(y[3])>=0;else if(R==="not"){y=y[3];N=0;for(M=y.length;N<M;N++)if(y[N]===t)return false;
return true}else J.error(R)},CHILD:function(t,y){var N=y[1],M=t;switch(N){case "only":case "first":for(;M=M.previousSibling;)if(M.nodeType===1)return false;if(N==="first")return true;M=t;case "last":for(;M=M.nextSibling;)if(M.nodeType===1)return false;return true;case "nth":N=y[2];var R=y[3];if(N===1&&R===0)return true;y=y[0];var V=t.parentNode;if(V&&(V.sizcache!==y||!t.nodeIndex)){var ea=0;for(M=V.firstChild;M;M=M.nextSibling)if(M.nodeType===1)M.nodeIndex=++ea;V.sizcache=y}t=t.nodeIndex-R;return N===
0?t===0:t%N===0&&t/N>=0}},ID:function(t,y){return t.nodeType===1&&t.getAttribute("id")===y},TAG:function(t,y){return y==="*"&&t.nodeType===1||t.nodeName.toLowerCase()===y},CLASS:function(t,y){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(y)>-1},ATTR:function(t,y){var N=y[1];t=T.attrHandle[N]?T.attrHandle[N](t):t[N]!=null?t[N]:t.getAttribute(N);N=t+"";var M=y[2];y=y[4];return t==null?M==="!=":M==="="?N===y:M==="*="?N.indexOf(y)>=0:M==="~="?(" "+N+" ").indexOf(y)>=0:!y?N&&t!==false:
M==="!="?N!==y:M==="^="?N.indexOf(y)===0:M==="$="?N.substr(N.length-y.length)===y:M==="|="?N===y||N.substr(0,y.length+1)===y+"-":false},POS:function(t,y,N,M){var R=T.setFilters[y[2]];if(R)return R(t,N,y,M)}}},ka=T.match.POS,oa=function(t,y){return"\\"+(y-0+1)};for(var pa in T.match){T.match[pa]=new RegExp(T.match[pa].source+/(?![^\[]*\])(?![^\(]*\))/.source);T.leftMatch[pa]=new RegExp(/(^(?:.|\r|\n)*?)/.source+T.match[pa].source.replace(/\\(\d+)/g,oa))}var wa=function(t,y){t=Array.prototype.slice.call(t,
0);if(y){y.push.apply(y,t);return y}return t};try{Array.prototype.slice.call(O.documentElement.childNodes,0)}catch(Pa){wa=function(t,y){var N=0;y=y||[];if(p.call(t)==="[object Array]")Array.prototype.push.apply(y,t);else if(typeof t.length==="number")for(var M=t.length;N<M;N++)y.push(t[N]);else for(;t[N];N++)y.push(t[N]);return y}}var Aa,Ha;if(O.documentElement.compareDocumentPosition)Aa=function(t,y){if(t===y){s=true;return 0}if(!t.compareDocumentPosition||!y.compareDocumentPosition)return t.compareDocumentPosition?
-1:1;return t.compareDocumentPosition(y)&4?-1:1};else{Aa=function(t,y){if(t===y){s=true;return 0}else if(t.sourceIndex&&y.sourceIndex)return t.sourceIndex-y.sourceIndex;var N,M,R=[],V=[];N=t.parentNode;M=y.parentNode;var ea=N;if(N===M)return Ha(t,y);else if(N){if(!M)return 1}else return-1;for(;ea;){R.unshift(ea);ea=ea.parentNode}for(ea=M;ea;){V.unshift(ea);ea=ea.parentNode}N=R.length;M=V.length;for(ea=0;ea<N&&ea<M;ea++)if(R[ea]!==V[ea])return Ha(R[ea],V[ea]);return ea===N?Ha(t,V[ea],-1):Ha(R[ea],
y,1)};Ha=function(t,y,N){if(t===y)return N;for(t=t.nextSibling;t;){if(t===y)return-1;t=t.nextSibling}return 1}}J.getText=function(t){for(var y="",N,M=0;t[M];M++){N=t[M];if(N.nodeType===3||N.nodeType===4)y+=N.nodeValue;else if(N.nodeType!==8)y+=J.getText(N.childNodes)}return y};(function(){var t=O.createElement("div"),y="script"+(new Date).getTime(),N=O.documentElement;t.innerHTML="<a name='"+y+"'/>";N.insertBefore(t,N.firstChild);if(O.getElementById(y)){T.find.ID=function(M,R,V){if(typeof R.getElementById!==
"undefined"&&!V)return(R=R.getElementById(M[1]))?R.id===M[1]||typeof R.getAttributeNode!=="undefined"&&R.getAttributeNode("id").nodeValue===M[1]?[R]:d:[]};T.filter.ID=function(M,R){var V=typeof M.getAttributeNode!=="undefined"&&M.getAttributeNode("id");return M.nodeType===1&&V&&V.nodeValue===R}}N.removeChild(t);N=t=null})();(function(){var t=O.createElement("div");t.appendChild(O.createComment(""));if(t.getElementsByTagName("*").length>0)T.find.TAG=function(y,N){N=N.getElementsByTagName(y[1]);if(y[1]===
"*"){y=[];for(var M=0;N[M];M++)N[M].nodeType===1&&y.push(N[M]);N=y}return N};t.innerHTML="<a href='#'></a>";if(t.firstChild&&typeof t.firstChild.getAttribute!=="undefined"&&t.firstChild.getAttribute("href")!=="#")T.attrHandle.href=function(y){return y.getAttribute("href",2)};t=null})();O.querySelectorAll&&function(){var t=J,y=O.createElement("div");y.innerHTML="<p class='TEST'></p>";if(!(y.querySelectorAll&&y.querySelectorAll(".TEST").length===0)){J=function(M,R,V,ea){R=R||O;if(!ea&&!J.isXML(R)){var ca=
/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(M);if(ca&&(R.nodeType===1||R.nodeType===9))if(ca[1])return wa(R.getElementsByTagName(M),V);else if(ca[2]&&T.find.CLASS&&R.getElementsByClassName)return wa(R.getElementsByClassName(ca[2]),V);if(R.nodeType===9){if(M==="body"&&R.body)return wa([R.body],V);else if(ca&&ca[3]){var qa=R.getElementById(ca[3]);if(qa&&qa.parentNode){if(qa.id===ca[3])return wa([qa],V)}else return wa([],V)}try{return wa(R.querySelectorAll(M),V)}catch(Ba){}}else if(R.nodeType===1&&R.nodeName.toLowerCase()!==
"object"){ca=R;var ya=(qa=R.getAttribute("id"))||"__sizzle__",Ea=R.parentNode,sa=/^\s*[+~]/.test(M);if(qa)ya=ya.replace(/'/g,"\\$&");else R.setAttribute("id",ya);if(sa&&Ea)R=R.parentNode;try{if(!sa||Ea)return wa(R.querySelectorAll("[id='"+ya+"'] "+M),V)}catch(C){}finally{qa||ca.removeAttribute("id")}}}return t(M,R,V,ea)};for(var N in t)J[N]=t[N];y=null}}();(function(){var t=O.documentElement,y=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(y){var N=!y.call(O.createElement("div"),
"div"),M=false;try{y.call(O.documentElement,"[test!='']:sizzle")}catch(R){M=true}J.matchesSelector=function(V,ea){ea=ea.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!J.isXML(V))try{if(M||!T.match.PSEUDO.test(ea)&&!/!=/.test(ea)){var ca=y.call(V,ea);if(ca||!N||V.document&&V.document.nodeType!==11)return ca}}catch(qa){}return J(ea,null,null,[V]).length>0}}})();(function(){var t=O.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!t.getElementsByClassName||t.getElementsByClassName("e").length===
0)){t.lastChild.className="e";if(t.getElementsByClassName("e").length!==1){T.order.splice(1,0,"CLASS");T.find.CLASS=function(y,N,M){if(typeof N.getElementsByClassName!=="undefined"&&!M)return N.getElementsByClassName(y[1])};t=null}}})();J.contains=O.documentElement.contains?function(t,y){return t!==y&&(t.contains?t.contains(y):true)}:O.documentElement.compareDocumentPosition?function(t,y){return!!(t.compareDocumentPosition(y)&16)}:function(){return false};J.isXML=function(t){return(t=(t?t.ownerDocument||
t:0).documentElement)?t.nodeName!=="HTML":false};var Ka=function(t,y){var N,M=[],R="";for(y=y.nodeType?[y]:y;N=T.match.PSEUDO.exec(t);){R+=N[0];t=t.replace(T.match.PSEUDO,"")}t=T.relative[t]?t+"*":t;N=0;for(var V=y.length;N<V;N++)J(t,y[N],M);return J.filter(R,M)};j.find=J;j.expr=J.selectors;j.expr[":"]=j.expr.filters;j.unique=J.uniqueSort;j.text=J.getText;j.isXMLDoc=J.isXML;j.contains=J.contains})();var Mb=/Until$/,Nb=/^(?:parents|prevUntil|prevAll)/,Ob=/,/,Fb=/^.[^:#\[\.,]*$/,Pb=Array.prototype.slice,
pb=j.expr.match.POS,Qb={children:true,contents:true,next:true,prev:true};j.fn.extend({find:function(c){var g=this,k,n;if(typeof c!=="string")return j(c).filter(function(){k=0;for(n=g.length;k<n;k++)if(j.contains(g[k],this))return true});var p=this.pushStack("","find",c),s,w,E;k=0;for(n=this.length;k<n;k++){s=p.length;j.find(c,this[k],p);if(k>0)for(w=s;w<p.length;w++)for(E=0;E<s;E++)if(p[E]===p[w]){p.splice(w--,1);break}}return p},has:function(c){var g=j(c);return this.filter(function(){for(var k=
0,n=g.length;k<n;k++)if(j.contains(this,g[k]))return true})},not:function(c){return this.pushStack(F(this,c,false),"not",c)},filter:function(c){return this.pushStack(F(this,c,true),"filter",c)},is:function(c){return!!c&&(typeof c==="string"?j.filter(c,this).length>0:this.filter(c).length>0)},closest:function(c,g){var k=[],n,p,s=this[0];if(j.isArray(c)){var w,E={},G=1;if(s&&c.length){n=0;for(p=c.length;n<p;n++){w=c[n];E[w]||(E[w]=pb.test(w)?j(w,g||this.context):w)}for(;s&&s.ownerDocument&&s!==g;){for(w in E){c=
E[w];if(c.jquery?c.index(s)>-1:j(s).is(c))k.push({selector:w,elem:s,level:G})}s=s.parentNode;G++}}return k}w=pb.test(c)||typeof c!=="string"?j(c,g||this.context):0;n=0;for(p=this.length;n<p;n++)for(s=this[n];s;)if(w?w.index(s)>-1:j.find.matchesSelector(s,c)){k.push(s);break}else{s=s.parentNode;if(!s||!s.ownerDocument||s===g||s.nodeType===11)break}k=k.length>1?j.unique(k):k;return this.pushStack(k,"closest",c)},index:function(c){if(!c)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof c===
"string")return j.inArray(this[0],j(c));return j.inArray(c.jquery?c[0]:c,this)},add:function(c,g){c=typeof c==="string"?j(c,g):j.makeArray(c&&c.nodeType?[c]:c);g=j.merge(this.get(),c);return this.pushStack(v(c[0])||v(g[0])?g:j.unique(g))},andSelf:function(){return this.add(this.prevObject)}});j.each({parent:function(c){return(c=c.parentNode)&&c.nodeType!==11?c:null},parents:function(c){return j.dir(c,"parentNode")},parentsUntil:function(c,g,k){return j.dir(c,"parentNode",k)},next:function(c){return j.nth(c,
2,"nextSibling")},prev:function(c){return j.nth(c,2,"previousSibling")},nextAll:function(c){return j.dir(c,"nextSibling")},prevAll:function(c){return j.dir(c,"previousSibling")},nextUntil:function(c,g,k){return j.dir(c,"nextSibling",k)},prevUntil:function(c,g,k){return j.dir(c,"previousSibling",k)},siblings:function(c){return j.sibling(c.parentNode.firstChild,c)},children:function(c){return j.sibling(c.firstChild)},contents:function(c){return j.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:
j.makeArray(c.childNodes)}},function(c,g){j.fn[c]=function(k,n){var p=j.map(this,g,k),s=Pb.call(arguments);Mb.test(c)||(n=k);if(n&&typeof n==="string")p=j.filter(n,p);p=this.length>1&&!Qb[c]?j.unique(p):p;if((this.length>1||Ob.test(n))&&Nb.test(c))p=p.reverse();return this.pushStack(p,c,s.join(","))}});j.extend({filter:function(c,g,k){if(k)c=":not("+c+")";return g.length===1?j.find.matchesSelector(g[0],c)?[g[0]]:[]:j.find.matches(c,g)},dir:function(c,g,k){var n=[];for(c=c[g];c&&c.nodeType!==9&&(k===
d||c.nodeType!==1||!j(c).is(k));){c.nodeType===1&&n.push(c);c=c[g]}return n},nth:function(c,g,k){g=g||1;for(var n=0;c;c=c[k])if(c.nodeType===1&&++n===g)break;return c},sibling:function(c,g){for(var k=[];c;c=c.nextSibling)c.nodeType===1&&c!==g&&k.push(c);return k}});var Rb=/ jQuery\d+="(?:\d+|null)"/g,hb=/^\s+/,qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rb=/<([\w:]+)/,Sb=/<tbody/i,Tb=/<|&#?\w+;/,sb=/<(?:script|object|embed|option|style)/i,tb=/checked\s*(?:[^=]|=\s*.checked.)/i,
Ub=/\/(java|ecma)script/i,Gb=/^\s*<!(?:\[CDATA\[|\-\-)/,Ja={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Ja.optgroup=Ja.option;Ja.tbody=Ja.tfoot=Ja.colgroup=Ja.caption=Ja.thead;Ja.th=Ja.td;if(!j.support.htmlSerialize)Ja._default=
[1,"div<div>","</div>"];j.fn.extend({text:function(c){if(j.isFunction(c))return this.each(function(g){var k=j(this);k.text(c.call(this,g,k.text()))});if(typeof c!=="object"&&c!==d)return this.empty().append((this[0]&&this[0].ownerDocument||O).createTextNode(c));return j.text(this)},wrapAll:function(c){if(j.isFunction(c))return this.each(function(k){j(this).wrapAll(c.call(this,k))});if(this[0]){var g=j(c,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&g.insertBefore(this[0]);g.map(function(){for(var k=
this;k.firstChild&&k.firstChild.nodeType===1;)k=k.firstChild;return k}).append(this)}return this},wrapInner:function(c){if(j.isFunction(c))return this.each(function(g){j(this).wrapInner(c.call(this,g))});return this.each(function(){var g=j(this),k=g.contents();k.length?k.wrapAll(c):g.append(c)})},wrap:function(c){return this.each(function(){j(this).wrapAll(c)})},unwrap:function(){return this.parent().each(function(){j.nodeName(this,"body")||j(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,
true,function(c){this.nodeType===1&&this.appendChild(c)})},prepend:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.insertBefore(c,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(g){this.parentNode.insertBefore(g,this)});else if(arguments.length){var c=j(arguments[0]);c.push.apply(c,this.toArray());return this.pushStack(c,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,
false,function(g){this.parentNode.insertBefore(g,this.nextSibling)});else if(arguments.length){var c=this.pushStack(this,"after",arguments);c.push.apply(c,j(arguments[0]).toArray());return c}},remove:function(c,g){for(var k=0,n;(n=this[k])!=null;k++)if(!c||j.filter(c,[n]).length){if(!g&&n.nodeType===1){j.cleanData(n.getElementsByTagName("*"));j.cleanData([n])}n.parentNode&&n.parentNode.removeChild(n)}return this},empty:function(){for(var c=0,g;(g=this[c])!=null;c++)for(g.nodeType===1&&j.cleanData(g.getElementsByTagName("*"));g.firstChild;)g.removeChild(g.firstChild);
return this},clone:function(c,g){c=c==null?false:c;g=g==null?c:g;return this.map(function(){return j.clone(this,c,g)})},html:function(c){if(c===d)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Rb,""):null;else if(typeof c==="string"&&!sb.test(c)&&(j.support.leadingWhitespace||!hb.test(c))&&!Ja[(rb.exec(c)||["",""])[1].toLowerCase()]){c=c.replace(qb,"<$1></$2>");try{for(var g=0,k=this.length;g<k;g++)if(this[g].nodeType===1){j.cleanData(this[g].getElementsByTagName("*"));this[g].innerHTML=
c}}catch(n){this.empty().append(c)}}else j.isFunction(c)?this.each(function(p){var s=j(this);s.html(c.call(this,p,s.html()))}):this.empty().append(c);return this},replaceWith:function(c){if(this[0]&&this[0].parentNode){if(j.isFunction(c))return this.each(function(g){var k=j(this),n=k.html();k.replaceWith(c.call(this,g,n))});if(typeof c!=="string")c=j(c).detach();return this.each(function(){var g=this.nextSibling,k=this.parentNode;j(this).remove();g?j(g).before(c):j(k).append(c)})}else return this.length?
this.pushStack(j(j.isFunction(c)?c():c),"replaceWith",c):this},detach:function(c){return this.remove(c,true)},domManip:function(c,g,k){var n,p,s,w=c[0],E=[];if(!j.support.checkClone&&arguments.length===3&&typeof w==="string"&&tb.test(w))return this.each(function(){j(this).domManip(c,g,k,true)});if(j.isFunction(w))return this.each(function(ka){var oa=j(this);c[0]=w.call(this,ka,g?oa.html():d);oa.domManip(c,g,k)});if(this[0]){n=w&&w.parentNode;n=j.support.parentNode&&n&&n.nodeType===11&&n.childNodes.length===
this.length?{fragment:n}:j.buildFragment(c,this,E);s=n.fragment;if(p=s.childNodes.length===1?(s=s.firstChild):s.firstChild){g=g&&j.nodeName(p,"tr");for(var G=0,J=this.length,T=J-1;G<J;G++)k.call(g?A(this[G],p):this[G],n.cacheable||J>1&&G<T?j.clone(s,true,true):s)}E.length&&j.each(E,K)}return this}});j.buildFragment=function(c,g,k){var n,p,s,w;if(g&&g[0])w=g[0].ownerDocument||g[0];w.createDocumentFragment||(w=O);if(c.length===1&&typeof c[0]==="string"&&c[0].length<512&&w===O&&c[0].charAt(0)==="<"&&
!sb.test(c[0])&&(j.support.checkClone||!tb.test(c[0]))){p=true;if((s=j.fragments[c[0]])&&s!==1)n=s}if(!n){n=w.createDocumentFragment();j.clean(c,w,n,k)}if(p)j.fragments[c[0]]=s?n:1;return{fragment:n,cacheable:p}};j.fragments={};j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,g){j.fn[c]=function(k){var n=[];k=j(k);var p=this.length===1&&this[0].parentNode;if(p&&p.nodeType===11&&p.childNodes.length===1&&k.length===1){k[g](this[0]);
return this}else{p=0;for(var s=k.length;p<s;p++){var w=(p>0?this.clone(true):this).get();j(k[p])[g](w);n=n.concat(w)}return this.pushStack(n,c,k.selector)}}});j.extend({clone:function(c,g,k){var n=c.cloneNode(true),p,s,w;if((!j.support.noCloneEvent||!j.support.noCloneChecked)&&(c.nodeType===1||c.nodeType===11)&&!j.isXMLDoc(c)){z(c,n);p=Q(c);s=Q(n);for(w=0;p[w];++w)s[w]&&z(p[w],s[w])}if(g){H(c,n);if(k){p=Q(c);s=Q(n);for(w=0;p[w];++w)H(p[w],s[w])}}return n},clean:function(c,g,k,n){g=g||O;if(typeof g.createElement===
"undefined")g=g.ownerDocument||g[0]&&g[0].ownerDocument||O;for(var p=[],s,w=0,E;(E=c[w])!=null;w++){if(typeof E==="number")E+="";if(E){if(typeof E==="string")if(Tb.test(E)){E=E.replace(qb,"<$1></$2>");s=(rb.exec(E)||["",""])[1].toLowerCase();var G=Ja[s]||Ja._default,J=G[0],T=g.createElement("div");for(T.innerHTML=G[1]+E+G[2];J--;)T=T.lastChild;if(!j.support.tbody){J=Sb.test(E);G=s==="table"&&!J?T.firstChild&&T.firstChild.childNodes:G[1]==="<table>"&&!J?T.childNodes:[];for(s=G.length-1;s>=0;--s)j.nodeName(G[s],
"tbody")&&!G[s].childNodes.length&&G[s].parentNode.removeChild(G[s])}!j.support.leadingWhitespace&&hb.test(E)&&T.insertBefore(g.createTextNode(hb.exec(E)[0]),T.firstChild);E=T.childNodes}else E=g.createTextNode(E);var ka;if(!j.support.appendChecked)if(E[0]&&typeof(ka=E.length)==="number")for(s=0;s<ka;s++)D(E[s]);else D(E);if(E.nodeType)p.push(E);else p=j.merge(p,E)}}if(k){c=function(oa){return!oa.type||Ub.test(oa.type)};for(w=0;p[w];w++)if(n&&j.nodeName(p[w],"script")&&(!p[w].type||p[w].type.toLowerCase()===
"text/javascript"))n.push(p[w].parentNode?p[w].parentNode.removeChild(p[w]):p[w]);else{if(p[w].nodeType===1){g=j.grep(p[w].getElementsByTagName("script"),c);p.splice.apply(p,[w+1,0].concat(g))}k.appendChild(p[w])}}return p},cleanData:function(c){for(var g,k,n=j.cache,p=j.expando,s=j.event.special,w=j.support.deleteExpando,E=0,G;(G=c[E])!=null;E++)if(!(G.nodeName&&j.noData[G.nodeName.toLowerCase()]))if(k=G[j.expando]){if((g=n[k]&&n[k][p])&&g.events){for(var J in g.events)s[J]?j.event.remove(G,J):j.removeEvent(G,
J,g.handle);if(g.handle)g.handle.elem=null}if(w)delete G[j.expando];else G.removeAttribute&&G.removeAttribute(j.expando);delete n[k]}}});var ib=/alpha\([^)]*\)/i,Vb=/opacity=([^)]*)/,Wb=/([A-Z]|^ms)/g,ub=/^-?\d+(?:px)?$/i,Xb=/^-?\d/,Yb=/^([\-+])=([\-+.\de]+)/,Zb={position:"absolute",visibility:"hidden",display:"block"},Hb=["Left","Right"],Ib=["Top","Bottom"],Ta,vb,wb;j.fn.css=function(c,g){if(arguments.length===2&&g===d)return this;return j.access(this,c,g,true,function(k,n,p){return p!==d?j.style(k,
n,p):j.css(k,n)})};j.extend({cssHooks:{opacity:{get:function(c,g){if(g){c=Ta(c,"opacity","opacity");return c===""?"1":c}else return c.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":j.support.cssFloat?"cssFloat":"styleFloat"},style:function(c,g,k,n){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var p,s=j.camelCase(g),w=c.style,E=j.cssHooks[s];g=j.cssProps[s]||s;if(k!==d){n=typeof k;if(n===
"string"&&(p=Yb.exec(k))){k=+(p[1]+1)*+p[2]+parseFloat(j.css(c,g));n="number"}if(!(k==null||n==="number"&&isNaN(k))){if(n==="number"&&!j.cssNumber[s])k+="px";if(!E||!("set"in E)||(k=E.set(c,k))!==d)try{w[g]=k}catch(G){}}}else{if(E&&"get"in E&&(p=E.get(c,false,n))!==d)return p;return w[g]}}},css:function(c,g,k){var n,p;g=j.camelCase(g);p=j.cssHooks[g];g=j.cssProps[g]||g;if(g==="cssFloat")g="float";if(p&&"get"in p&&(n=p.get(c,true,k))!==d)return n;else if(Ta)return Ta(c,g)},swap:function(c,g,k){var n=
{};for(var p in g){n[p]=c.style[p];c.style[p]=g[p]}k.call(c);for(p in g)c.style[p]=n[p]}});j.curCSS=j.css;j.each(["height","width"],function(c,g){j.cssHooks[g]={get:function(k,n,p){var s;if(n){if(k.offsetWidth!==0)return I(k,g,p);else j.swap(k,Zb,function(){s=I(k,g,p)});return s}},set:function(k,n){if(ub.test(n)){n=parseFloat(n);if(n>=0)return n+"px"}else return n}}});if(!j.support.opacity)j.cssHooks.opacity={get:function(c,g){return Vb.test((g&&c.currentStyle?c.currentStyle.filter:c.style.filter)||
"")?parseFloat(RegExp.$1)/100+"":g?"1":""},set:function(c,g){var k=c.style;c=c.currentStyle;var n=j.isNaN(g)?"":"alpha(opacity="+g*100+")",p=c&&c.filter||k.filter||"";k.zoom=1;if(g>=1&&j.trim(p.replace(ib,""))===""){k.removeAttribute("filter");if(c&&!c.filter)return}k.filter=ib.test(p)?p.replace(ib,n):p+" "+n}};j(function(){if(!j.support.reliableMarginRight)j.cssHooks.marginRight={get:function(c,g){var k;j.swap(c,{display:"inline-block"},function(){k=g?Ta(c,"margin-right","marginRight"):c.style.marginRight});
return k}}});if(O.defaultView&&O.defaultView.getComputedStyle)vb=function(c,g){var k,n;g=g.replace(Wb,"-$1").toLowerCase();if(!(n=c.ownerDocument.defaultView))return d;if(n=n.getComputedStyle(c,null)){k=n.getPropertyValue(g);if(k===""&&!j.contains(c.ownerDocument.documentElement,c))k=j.style(c,g)}return k};if(O.documentElement.currentStyle)wb=function(c,g){var k,n=c.currentStyle&&c.currentStyle[g],p=c.runtimeStyle&&c.runtimeStyle[g],s=c.style;if(!ub.test(n)&&Xb.test(n)){k=s.left;if(p)c.runtimeStyle.left=
c.currentStyle.left;s.left=g==="fontSize"?"1em":n||0;n=s.pixelLeft+"px";s.left=k;if(p)c.runtimeStyle.left=p}return n===""?"auto":n};Ta=vb||wb;if(j.expr&&j.expr.filters){j.expr.filters.hidden=function(c){var g=c.offsetHeight;return c.offsetWidth===0&&g===0||!j.support.reliableHiddenOffsets&&(c.style.display||j.css(c,"display"))==="none"};j.expr.filters.visible=function(c){return!j.expr.filters.hidden(c)}}var $b=/%20/g,Jb=/\[\]$/,xb=/\r?\n/g,ac=/#.*$/,bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
dc=/^(?:GET|HEAD)$/,ec=/^\/\//,yb=/\?/,fc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,gc=/^(?:select|textarea)/i,kb=/\s+/,hc=/([?&])_=[^&]*/,zb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ab=j.fn.load,db={},Bb={},Qa,Ra,Cb=["*/"]+["*"];try{Qa=ma.href}catch(nc){Qa=O.createElement("a");Qa.href="";Qa=Qa.href}Ra=zb.exec(Qa.toLowerCase())||[];j.fn.extend({load:function(c,g,k){if(typeof c!=="string"&&Ab)return Ab.apply(this,arguments);else if(!this.length)return this;var n=c.indexOf(" ");
if(n>=0){var p=c.slice(n,c.length);c=c.slice(0,n)}n="GET";if(g)if(j.isFunction(g)){k=g;g=d}else if(typeof g==="object"){g=j.param(g,j.ajaxSettings.traditional);n="POST"}var s=this;j.ajax({url:c,type:n,dataType:"html",data:g,complete:function(w,E,G){G=w.responseText;if(w.isResolved()){w.done(function(J){G=J});s.html(p?j("<div>").append(G.replace(fc,"")).find(p):G)}k&&s.each(k,[G,E,w])}});return this},serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
j.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||gc.test(this.nodeName)||cc.test(this.type))}).map(function(c,g){c=j(this).val();return c==null?null:j.isArray(c)?j.map(c,function(k){return{name:g.name,value:k.replace(xb,"\r\n")}}):{name:g.name,value:c.replace(xb,"\r\n")}}).get()}});j.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,g){j.fn[g]=function(k){return this.bind(g,k)}});j.each(["get","post"],function(c,
g){j[g]=function(k,n,p,s){if(j.isFunction(n)){s=s||p;p=n;n=d}return j.ajax({type:g,url:k,data:n,success:p,dataType:s})}});j.extend({getScript:function(c,g){return j.get(c,d,g,"script")},getJSON:function(c,g,k){return j.get(c,g,k,"json")},ajaxSetup:function(c,g){if(g)ba(c,j.ajaxSettings);else{g=c;c=j.ajaxSettings}ba(c,g);return c},ajaxSettings:{url:Qa,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ra[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",
processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Cb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":true,"text json":j.parseJSON,"text xml":j.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:U(db),ajaxTransport:U(Bb),ajax:function(c,g){function k(M,R,V,ea){if(Aa!==2){Aa=2;Pa&&clearTimeout(Pa);
wa=d;oa=ea||"";t.readyState=M>0?4:0;var ca,qa,Ba;ea=R;V=V?S(n,t,V):d;var ya;if(M>=200&&M<300||M===304){if(n.ifModified){if(ya=t.getResponseHeader("Last-Modified"))j.lastModified[J]=ya;if(ya=t.getResponseHeader("Etag"))j.etag[J]=ya}if(M===304){ea="notmodified";ca=true}else try{qa=da(n,V);ea="success";ca=true}catch(Ea){ea="parsererror";Ba=Ea}}else{Ba=ea;if(!ea||M){ea="error";if(M<0)M=0}}t.status=M;t.statusText=""+(R||ea);ca?w.resolveWith(p,[qa,ea,t]):w.rejectWith(p,[t,ea,Ba]);t.statusCode(G);G=d;if(Ha)s.trigger("ajax"+
(ca?"Success":"Error"),[t,n,ca?qa:Ba]);E.resolveWith(p,[t,ea]);if(Ha){s.trigger("ajaxComplete",[t,n]);--j.active||j.event.trigger("ajaxStop")}}}if(typeof c==="object"){g=c;c=d}g=g||{};var n=j.ajaxSetup({},g),p=n.context||n,s=p!==n&&(p.nodeType||p instanceof j)?j(p):j.event,w=j.Deferred(),E=j._Deferred(),G=n.statusCode||{},J,T={},ka={},oa,pa,wa,Pa,Aa=0,Ha,Ka,t={readyState:0,setRequestHeader:function(M,R){if(!Aa){var V=M.toLowerCase();M=ka[V]=ka[V]||M;T[M]=R}return this},getAllResponseHeaders:function(){return Aa===
2?oa:null},getResponseHeader:function(M){var R;if(Aa===2){if(!pa)for(pa={};R=bc.exec(oa);)pa[R[1].toLowerCase()]=R[2];R=pa[M.toLowerCase()]}return R===d?null:R},overrideMimeType:function(M){if(!Aa)n.mimeType=M;return this},abort:function(M){M=M||"abort";wa&&wa.abort(M);k(0,M);return this}};w.promise(t);t.success=t.done;t.error=t.fail;t.complete=E.done;t.statusCode=function(M){if(M){var R;if(Aa<2)for(R in M)G[R]=[G[R],M[R]];else{R=M[t.status];t.then(R,R)}}return this};n.url=((c||n.url)+"").replace(ac,
"").replace(ec,Ra[1]+"//");n.dataTypes=j.trim(n.dataType||"*").toLowerCase().split(kb);if(n.crossDomain==null){c=zb.exec(n.url.toLowerCase());n.crossDomain=!!(c&&(c[1]!=Ra[1]||c[2]!=Ra[2]||(c[3]||(c[1]==="http:"?80:443))!=(Ra[3]||(Ra[1]==="http:"?80:443))))}if(n.data&&n.processData&&typeof n.data!=="string")n.data=j.param(n.data,n.traditional);Z(db,n,g,t);if(Aa===2)return false;Ha=n.global;n.type=n.type.toUpperCase();n.hasContent=!dc.test(n.type);Ha&&j.active++===0&&j.event.trigger("ajaxStart");if(!n.hasContent){if(n.data){n.url+=
(yb.test(n.url)?"&":"?")+n.data;delete n.data}J=n.url;if(n.cache===false){c=j.now();var y=n.url.replace(hc,"$1_="+c);n.url=y+(y===n.url?(yb.test(n.url)?"&":"?")+"_="+c:"")}}if(n.data&&n.hasContent&&n.contentType!==false||g.contentType)t.setRequestHeader("Content-Type",n.contentType);if(n.ifModified){J=J||n.url;j.lastModified[J]&&t.setRequestHeader("If-Modified-Since",j.lastModified[J]);j.etag[J]&&t.setRequestHeader("If-None-Match",j.etag[J])}t.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?
n.accepts[n.dataTypes[0]]+(n.dataTypes[0]!=="*"?", "+Cb+"; q=0.01":""):n.accepts["*"]);for(Ka in n.headers)t.setRequestHeader(Ka,n.headers[Ka]);if(n.beforeSend&&(n.beforeSend.call(p,t,n)===false||Aa===2)){t.abort();return false}for(Ka in{success:1,error:1,complete:1})t[Ka](n[Ka]);if(wa=Z(Bb,n,g,t)){t.readyState=1;Ha&&s.trigger("ajaxSend",[t,n]);if(n.async&&n.timeout>0)Pa=setTimeout(function(){t.abort("timeout")},n.timeout);try{Aa=1;wa.send(T,k)}catch(N){Aa<2?k(-1,N):j.error(N)}}else k(-1,"No Transport");
return t},param:function(c,g){var k=[],n=function(s,w){w=j.isFunction(w)?w():w;k[k.length]=encodeURIComponent(s)+"="+encodeURIComponent(w)};if(g===d)g=j.ajaxSettings.traditional;if(j.isArray(c)||c.jquery&&!j.isPlainObject(c))j.each(c,function(){n(this.name,this.value)});else for(var p in c)P(p,c[p],g,n);return k.join("&").replace($b,"+")}});j.extend({active:0,lastModified:{},etag:{}});var ic=j.now(),bb=/(\=)\?(&|$)|\?\?/i;j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return j.expando+"_"+
ic++}});j.ajaxPrefilter("json jsonp",function(c,g,k){g=c.contentType==="application/x-www-form-urlencoded"&&typeof c.data==="string";if(c.dataTypes[0]==="jsonp"||c.jsonp!==false&&(bb.test(c.url)||g&&bb.test(c.data))){var n,p=c.jsonpCallback=j.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,s=a[p],w=c.url,E=c.data,G="$1"+p+"$2";if(c.jsonp!==false){w=w.replace(bb,G);if(c.url===w){if(g)E=E.replace(bb,G);if(c.data===E)w+=(/\?/.test(w)?"&":"?")+c.jsonp+"="+p}}c.url=w;c.data=E;a[p]=function(J){n=
[J]};k.always(function(){a[p]=s;n&&j.isFunction(s)&&a[p](n[0])});c.converters["script json"]=function(){n||j.error(p+" was not called");return n[0]};c.dataTypes[0]="json";return"script"}});j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(c){j.globalEval(c);return c}}});j.ajaxPrefilter("script",function(c){if(c.cache===d)c.cache=false;if(c.crossDomain){c.type=
"GET";c.global=false}});j.ajaxTransport("script",function(c){if(c.crossDomain){var g,k=O.head||O.getElementsByTagName("head")[0]||O.documentElement;return{send:function(n,p){g=O.createElement("script");g.async="async";if(c.scriptCharset)g.charset=c.scriptCharset;g.src=c.url;g.onload=g.onreadystatechange=function(s,w){if(w||!g.readyState||/loaded|complete/.test(g.readyState)){g.onload=g.onreadystatechange=null;k&&g.parentNode&&k.removeChild(g);g=d;w||p(200,"success")}};k.insertBefore(g,k.firstChild)},
abort:function(){g&&g.onload(0,1)}}}});var jb=a.ActiveXObject?function(){for(var c in Wa)Wa[c](0,1)}:false,jc=0,Wa;j.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&X()||ja()}:X;(function(c){j.extend(j.support,{ajax:!!c,cors:!!c&&"withCredentials"in c})})(j.ajaxSettings.xhr());j.support.ajax&&j.ajaxTransport(function(c){if(!c.crossDomain||j.support.cors){var g;return{send:function(k,n){var p=c.xhr(),s,w;c.username?p.open(c.type,c.url,c.async,c.username,c.password):p.open(c.type,c.url,
c.async);if(c.xhrFields)for(w in c.xhrFields)p[w]=c.xhrFields[w];c.mimeType&&p.overrideMimeType&&p.overrideMimeType(c.mimeType);if(!c.crossDomain&&!k["X-Requested-With"])k["X-Requested-With"]="XMLHttpRequest";try{for(w in k)p.setRequestHeader(w,k[w])}catch(E){}p.send(c.hasContent&&c.data||null);g=function(G,J){var T,ka,oa,pa,wa;try{if(g&&(J||p.readyState===4)){g=d;if(s){p.onreadystatechange=j.noop;jb&&delete Wa[s]}if(J)p.readyState!==4&&p.abort();else{T=p.status;oa=p.getAllResponseHeaders();pa={};
if((wa=p.responseXML)&&wa.documentElement)pa.xml=wa;pa.text=p.responseText;try{ka=p.statusText}catch(Pa){ka=""}if(!T&&c.isLocal&&!c.crossDomain)T=pa.text?200:404;else if(T===1223)T=204}}}catch(Aa){J||n(-1,Aa)}pa&&n(T,ka,pa,oa)};if(!c.async||p.readyState===4)g();else{s=++jc;if(jb){if(!Wa){Wa={};j(a).unload(jb)}Wa[s]=g}p.onreadystatechange=g}},abort:function(){g&&g(0,1)}}}});var eb={},Ma,Ua,kc=/^(?:toggle|show|hide)$/,lc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cb,lb=[["height","marginTop","marginBottom",
"paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Za;j.fn.extend({show:function(c,g,k){if(c||c===0)return this.animate(L("show",3),c,g,k);else{k=0;for(var n=this.length;k<n;k++){c=this[k];if(c.style){g=c.style.display;if(!j._data(c,"olddisplay")&&g==="none")g=c.style.display="";g===""&&j.css(c,"display")==="none"&&j._data(c,"olddisplay",W(c.nodeName))}}for(k=0;k<n;k++){c=this[k];if(c.style){g=c.style.display;if(g===""||g==="none")c.style.display=
j._data(c,"olddisplay")||""}}return this}},hide:function(c,g,k){if(c||c===0)return this.animate(L("hide",3),c,g,k);else{c=0;for(g=this.length;c<g;c++)if(this[c].style){k=j.css(this[c],"display");k!=="none"&&!j._data(this[c],"olddisplay")&&j._data(this[c],"olddisplay",k)}for(c=0;c<g;c++)if(this[c].style)this[c].style.display="none";return this}},_toggle:j.fn.toggle,toggle:function(c,g,k){var n=typeof c==="boolean";if(j.isFunction(c)&&j.isFunction(g))this._toggle.apply(this,arguments);else c==null||
n?this.each(function(){var p=n?c:j(this).is(":hidden");j(this)[p?"show":"hide"]()}):this.animate(L("toggle",3),c,g,k);return this},fadeTo:function(c,g,k,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:g},c,k,n)},animate:function(c,g,k,n){var p=j.speed(g,k,n);if(j.isEmptyObject(c))return this.each(p.complete,[false]);c=j.extend({},c);return this[p.queue===false?"each":"queue"](function(){p.queue===false&&j._mark(this);var s=j.extend({},p),w=this.nodeType===1,E=w&&j(this).is(":hidden"),
G,J,T,ka,oa;s.animatedProperties={};for(T in c){G=j.camelCase(T);if(T!==G){c[G]=c[T];delete c[T]}J=c[G];if(j.isArray(J)){s.animatedProperties[G]=J[1];J=c[G]=J[0]}else s.animatedProperties[G]=s.specialEasing&&s.specialEasing[G]||s.easing||"swing";if(J==="hide"&&E||J==="show"&&!E)return s.complete.call(this);if(w&&(G==="height"||G==="width")){s.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(j.css(this,"display")==="inline"&&j.css(this,"float")==="none")if(j.support.inlineBlockNeedsLayout){J=
W(this.nodeName);if(J==="inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}}else this.style.display="inline-block"}}if(s.overflow!=null)this.style.overflow="hidden";for(T in c){w=new j.fx(this,s,T);J=c[T];if(kc.test(J))w[J==="toggle"?E?"show":"hide":J]();else{G=lc.exec(J);ka=w.cur();if(G){J=parseFloat(G[2]);oa=G[3]||(j.cssNumber[T]?"":"px");if(oa!=="px"){j.style(this,T,(J||1)+oa);ka=(J||1)/w.cur()*ka;j.style(this,T,ka+oa)}if(G[1])J=(G[1]==="-="?-1:1)*J+ka;
w.custom(ka,J,oa)}else w.custom(ka,J,"")}}return true})},stop:function(c,g){c&&this.queue([]);this.each(function(){var k=j.timers,n=k.length;for(g||j._unmark(true,this);n--;)if(k[n].elem===this){g&&k[n](true);k.splice(n,1)}});g||this.dequeue();return this}});j.each({slideDown:L("show",1),slideUp:L("hide",1),slideToggle:L("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,g){j.fn[c]=function(k,n,p){return this.animate(g,k,n,p)}});j.extend({speed:function(c,
g,k){var n=c&&typeof c==="object"?j.extend({},c):{complete:k||!k&&g||j.isFunction(c)&&c,duration:c,easing:k&&g||g&&!j.isFunction(g)&&g};n.duration=j.fx.off?0:typeof n.duration==="number"?n.duration:n.duration in j.fx.speeds?j.fx.speeds[n.duration]:j.fx.speeds._default;n.old=n.complete;n.complete=function(p){j.isFunction(n.old)&&n.old.call(this);if(n.queue!==false)j.dequeue(this);else p!==false&&j._unmark(this)};return n},easing:{linear:function(c,g,k,n){return k+n*c},swing:function(c,g,k,n){return(-Math.cos(c*
Math.PI)/2+0.5)*n+k}},timers:[],fx:function(c,g,k){this.options=g;this.elem=c;this.prop=k;g.orig=g.orig||{}}});j.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(j.fx.step[this.prop]||j.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var c,g=j.css(this.elem,this.prop);return isNaN(c=parseFloat(g))?!g||g==="auto"?0:g:c},custom:function(c,g,k){function n(w){return p.step(w)}
var p=this,s=j.fx;this.startTime=Za||la();this.start=c;this.end=g;this.unit=k||this.unit||(j.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;n.elem=this.elem;if(n()&&j.timers.push(n)&&!cb)cb=setInterval(s.tick,s.interval)},show:function(){this.options.orig[this.prop]=j.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());j(this.elem).show()},hide:function(){this.options.orig[this.prop]=j.style(this.elem,this.prop);
this.options.hide=true;this.custom(this.cur(),0)},step:function(c){var g=Za||la(),k=true,n=this.elem,p=this.options,s;if(c||g>=p.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();p.animatedProperties[this.prop]=true;for(s in p.animatedProperties)if(p.animatedProperties[s]!==true)k=false;if(k){p.overflow!=null&&!j.support.shrinkWrapBlocks&&j.each(["","X","Y"],function(E,G){n.style["overflow"+G]=p.overflow[E]});p.hide&&j(n).hide();if(p.hide||p.show)for(var w in p.animatedProperties)j.style(n,
w,p.orig[w]);p.complete.call(n)}return false}else{if(p.duration==Infinity)this.now=g;else{c=g-this.startTime;this.state=c/p.duration;this.pos=j.easing[p.animatedProperties[this.prop]](this.state,c,0,1,p.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};j.extend(j.fx,{tick:function(){for(var c=j.timers,g=0;g<c.length;++g)c[g]()||c.splice(g--,1);c.length||j.fx.stop()},interval:13,stop:function(){clearInterval(cb);cb=null},speeds:{slow:600,fast:200,_default:400},
step:{opacity:function(c){j.style(c.elem,"opacity",c.now)},_default:function(c){if(c.elem.style&&c.elem.style[c.prop]!=null)c.elem.style[c.prop]=(c.prop==="width"||c.prop==="height"?Math.max(0,c.now):c.now)+c.unit;else c.elem[c.prop]=c.now}}});if(j.expr&&j.expr.filters)j.expr.filters.animated=function(c){return j.grep(j.timers,function(g){return c===g.elem}).length};var mc=/^t(?:able|d|h)$/i,Db=/^(?:body|html)$/i;j.fn.offset="getBoundingClientRect"in O.documentElement?function(c){var g=this[0],k;
if(c)return this.each(function(w){j.offset.setOffset(this,c,w)});if(!g||!g.ownerDocument)return null;if(g===g.ownerDocument.body)return j.offset.bodyOffset(g);try{k=g.getBoundingClientRect()}catch(n){}var p=g.ownerDocument,s=p.documentElement;if(!k||!j.contains(s,g))return k?{top:k.top,left:k.left}:{top:0,left:0};g=p.body;p=fa(p);return{top:k.top+(p.pageYOffset||j.support.boxModel&&s.scrollTop||g.scrollTop)-(s.clientTop||g.clientTop||0),left:k.left+(p.pageXOffset||j.support.boxModel&&s.scrollLeft||
g.scrollLeft)-(s.clientLeft||g.clientLeft||0)}}:function(c){var g=this[0];if(c)return this.each(function(T){j.offset.setOffset(this,c,T)});if(!g||!g.ownerDocument)return null;if(g===g.ownerDocument.body)return j.offset.bodyOffset(g);j.offset.initialize();var k,n=g.offsetParent,p=g,s=g.ownerDocument,w=s.documentElement,E=s.body;k=(s=s.defaultView)?s.getComputedStyle(g,null):g.currentStyle;for(var G=g.offsetTop,J=g.offsetLeft;(g=g.parentNode)&&g!==E&&g!==w;){if(j.offset.supportsFixedPosition&&k.position===
"fixed")break;k=s?s.getComputedStyle(g,null):g.currentStyle;G-=g.scrollTop;J-=g.scrollLeft;if(g===n){G+=g.offsetTop;J+=g.offsetLeft;if(j.offset.doesNotAddBorder&&!(j.offset.doesAddBorderForTableAndCells&&mc.test(g.nodeName))){G+=parseFloat(k.borderTopWidth)||0;J+=parseFloat(k.borderLeftWidth)||0}p=n;n=g.offsetParent}if(j.offset.subtractsBorderForOverflowNotVisible&&k.overflow!=="visible"){G+=parseFloat(k.borderTopWidth)||0;J+=parseFloat(k.borderLeftWidth)||0}k=k}if(k.position==="relative"||k.position===
"static"){G+=E.offsetTop;J+=E.offsetLeft}if(j.offset.supportsFixedPosition&&k.position==="fixed"){G+=Math.max(w.scrollTop,E.scrollTop);J+=Math.max(w.scrollLeft,E.scrollLeft)}return{top:G,left:J}};j.offset={initialize:function(){var c=O.body,g=O.createElement("div"),k,n,p,s=parseFloat(j.css(c,"marginTop"))||0;j.extend(g.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});g.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
c.insertBefore(g,c.firstChild);k=g.firstChild;n=k.firstChild;p=k.nextSibling.firstChild.firstChild;this.doesNotAddBorder=n.offsetTop!==5;this.doesAddBorderForTableAndCells=p.offsetTop===5;n.style.position="fixed";n.style.top="20px";this.supportsFixedPosition=n.offsetTop===20||n.offsetTop===15;n.style.position=n.style.top="";k.style.overflow="hidden";k.style.position="relative";this.subtractsBorderForOverflowNotVisible=n.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=c.offsetTop!==s;c.removeChild(g);
j.offset.initialize=j.noop},bodyOffset:function(c){var g=c.offsetTop,k=c.offsetLeft;j.offset.initialize();if(j.offset.doesNotIncludeMarginInBodyOffset){g+=parseFloat(j.css(c,"marginTop"))||0;k+=parseFloat(j.css(c,"marginLeft"))||0}return{top:g,left:k}},setOffset:function(c,g,k){var n=j.css(c,"position");if(n==="static")c.style.position="relative";var p=j(c),s=p.offset(),w=j.css(c,"top"),E=j.css(c,"left"),G={},J={};if((n==="absolute"||n==="fixed")&&j.inArray("auto",[w,E])>-1){J=p.position();n=J.top;
E=J.left}else{n=parseFloat(w)||0;E=parseFloat(E)||0}if(j.isFunction(g))g=g.call(c,k,s);if(g.top!=null)G.top=g.top-s.top+n;if(g.left!=null)G.left=g.left-s.left+E;"using"in g?g.using.call(c,G):p.css(G)}};j.fn.extend({position:function(){if(!this[0])return null;var c=this[0],g=this.offsetParent(),k=this.offset(),n=Db.test(g[0].nodeName)?{top:0,left:0}:g.offset();k.top-=parseFloat(j.css(c,"marginTop"))||0;k.left-=parseFloat(j.css(c,"marginLeft"))||0;n.top+=parseFloat(j.css(g[0],"borderTopWidth"))||0;
n.left+=parseFloat(j.css(g[0],"borderLeftWidth"))||0;return{top:k.top-n.top,left:k.left-n.left}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||O.body;c&&!Db.test(c.nodeName)&&j.css(c,"position")==="static";)c=c.offsetParent;return c})}});j.each(["Left","Top"],function(c,g){var k="scroll"+g;j.fn[k]=function(n){var p,s;if(n===d){p=this[0];if(!p)return null;return(s=fa(p))?"pageXOffset"in s?s[c?"pageYOffset":"pageXOffset"]:j.support.boxModel&&s.document.documentElement[k]||
s.document.body[k]:p[k]}return this.each(function(){if(s=fa(this))s.scrollTo(!c?n:j(s).scrollLeft(),c?n:j(s).scrollTop());else this[k]=n})}});j.each(["Height","Width"],function(c,g){var k=g.toLowerCase();j.fn["inner"+g]=function(){var n=this[0];return n&&n.style?parseFloat(j.css(n,k,"padding")):null};j.fn["outer"+g]=function(n){var p=this[0];return p&&p.style?parseFloat(j.css(p,k,n?"margin":"border")):null};j.fn[k]=function(n){var p=this[0];if(!p)return n==null?null:this;if(j.isFunction(n))return this.each(function(E){var G=
j(this);G[k](n.call(this,E,G[k]()))});if(j.isWindow(p)){var s=p.document.documentElement["client"+g],w=p.document.body;return p.document.compatMode==="CSS1Compat"&&s||w&&w["client"+g]||s}else if(p.nodeType===9)return Math.max(p.documentElement["client"+g],p.body["scroll"+g],p.documentElement["scroll"+g],p.body["offset"+g],p.documentElement["offset"+g]);else if(n===d){p=j.css(p,k);s=parseFloat(p);return j.isNaN(s)?p:s}else return this.css(k,typeof n==="string"?n:n+"px")}});a.jQuery=a.$=j})(window);
steal.loaded("jquery/jquery.js");window.Storage=window.localStorage;var storage=function(){try{localStorage.setItem("testLocalStorage","testLocalStorage");return true}catch(a){return false}}();
storage||function(){var a=function(d){function e(r,u,v){var F;if(v){F=new Date;F.setTime(F.getTime()+v*24*60*60*1E3);v="; expires="+F.toGMTString()}else v="";document.cookie=r+"="+u+v+"; path=/"}function h(r){r=r+"=";var u=document.cookie.split(";"),v,F;for(v=0;v<u.length;v++){for(F=u[v];F.charAt(0)==" ";)F=F.substring(1,F.length);if(F.indexOf(r)==0)return F.substring(r.length,F.length)}return null}function f(r){r=JSON.stringify(r);if(d=="session")window.name=r;else e("localStorage",r,365)}function l(){if(d==
"session")window.name="";else e("localStorage","",365)}function q(){var r=d=="session"?window.name:h("localStorage");return r?JSON.parse(r):{}}var o=q();return{length:0,clear:function(){o={};this.length=0;l()},getItem:function(r){return o[r]===undefined?null:o[r]},key:function(r){var u=0;for(var v in o)if(u==r)return v;else u++;return null},removeItem:function(r){delete o[r];this.length--;f(o)},setItem:function(r,u){o[r]=u+"";this.length++;f(o)}}};window.Storage=new a("local");window.sessionStorage=
new a("session")}();
(function(){if(!("JSON"in window&&JSON.stringify&&JSON.parse)){if(!this.JSON)this.JSON={};(function(){function a(u){return u<10?"0"+u:u}function d(u){f.lastIndex=0;return f.test(u)?'"'+u.replace(f,function(v){var F=o[v];return typeof F==="string"?F:"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function e(u,v){var F,A,H=l,z,Q=v[u];if(Q&&typeof Q==="object"&&typeof Q.toJSON==="function")Q=Q.toJSON(u);if(typeof r==="function")Q=r.call(v,u,Q);switch(typeof Q){case "string":return d(Q);case "number":return isFinite(Q)?
String(Q):"null";case "boolean":case "null":return String(Q);case "object":if(!Q)return"null";l+=q;z=[];if(Object.prototype.toString.apply(Q)==="[object Array]"){A=Q.length;for(u=0;u<A;u+=1)z[u]=e(u,Q)||"null";v=z.length===0?"[]":l?"[\n"+l+z.join(",\n"+l)+"\n"+H+"]":"["+z.join(",")+"]";l=H;return v}if(r&&typeof r==="object"){A=r.length;for(u=0;u<A;u+=1){F=r[u];if(typeof F==="string")if(v=e(F,Q))z.push(d(F)+(l?": ":":")+v)}}else for(F in Q)if(Object.hasOwnProperty.call(Q,F))if(v=e(F,Q))z.push(d(F)+
(l?": ":":")+v);v=z.length===0?"{}":l?"{\n"+l+z.join(",\n"+l)+"\n"+H+"}":"{"+z.join(",")+"}";l=H;return v}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,q,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;if(typeof JSON.stringify!=="function")JSON.stringify=function(u,v,F){var A;q=l="";if(typeof F==="number")for(A=0;A<F;A+=1)q+=" ";else if(typeof F==="string")q=F;if((r=v)&&typeof v!=="function"&&(typeof v!=="object"||typeof v.length!=="number"))throw new Error("JSON.stringify");return e("",
{"":u})};if(typeof JSON.parse!=="function")JSON.parse=function(u,v){function F(A,H){var z,Q,B=A[H];if(B&&typeof B==="object")for(z in B)if(Object.hasOwnProperty.call(B,z)){Q=F(B,z);if(Q!==undefined)B[z]=Q;else delete B[z]}return v.call(A,H,B)}u=String(u);h.lastIndex=0;if(h.test(u))u=u.replace(h,function(A){return"\\u"+("0000"+A.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(u.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){u=eval("("+u+")");return typeof v==="function"?F({"":u},""):u}throw new SyntaxError("JSON.parse");}})()}})();function empty(a){if(!a)return false;var d;for(d=a.childNodes.length-1;d>=0;d--)a.removeChild(a.childNodes[d])}$.extend({linkUrl:function(a){if(a)return a.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$1" target="_blank">$1</a>')}});
$.extend({URLEncode:function(a){if(!a)return false;var d="",e=0;a=a.toString();for(var h=/(^[a-zA-Z0-9_.]*)/;e<a.length;){var f=h.exec(a.substr(e));if(f!=null&&f.length>1&&f[1]!=""){d+=f[1];e+=f[1].length}else{if(a[e]==" ")d+="+";else{f=a.charCodeAt(e).toString(16);d+="%"+(f.length<2?"0":"")+f.toUpperCase()}e++}}return d},URLDecode:function(a){a=a;for(var d,e=/(%[^%]{2})/;(m=e.exec(a))!=null&&m.length>1&&m[1]!="";){b=parseInt(m[1].substr(1),16);d=String.fromCharCode(b);a=a.replace(m[1],d)}return a}});
$.extend({encode64:function(a){var d="",e,h,f,l,q,o,r=0;for(a=function(u){u=u.replace(/\r\n/g,"\n");for(var v="",F=0;F<u.length;F++){var A=u.charCodeAt(F);if(A<128)v+=String.fromCharCode(A);else{if(A>127&&A<2048)v+=String.fromCharCode(A>>6|192);else{v+=String.fromCharCode(A>>12|224);v+=String.fromCharCode(A>>6&63|128)}v+=String.fromCharCode(A&63|128)}}return v}(a);r<a.length;){e=a.charCodeAt(r++);h=a.charCodeAt(r++);f=a.charCodeAt(r++);l=e>>2;e=(e&3)<<4|h>>4;q=(h&15)<<2|f>>6;o=f&63;if(isNaN(h))q=
o=64;else if(isNaN(f))o=64;d=d+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(q)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o)}return d}});
$.fn.serializeObject=function(){var a={},d=this.serializeArray();$.each(d,function(){if(a[this.name]!==undefined){a[this.name].push||(a[this.name]=[a[this.name]]);a[this.name].push(this.value||"")}else a[this.name]=this.value||""});return a};steal.loaded("webapp/core/utils.js");
var finforeBaseUrl="http://api.finfore.net",finforeAppUrl="http://"+window.location.hostname+window.location.pathname,WebService={connectError:"<strong>Could not connect to FastND web service. </strong><br>Please try again in a few minutes. <br> Sorry for the delay in accessing our service. If the problem persists, please contact us.",auth:function(a){$.mobile.showPageLoadingMsg();$.ajax({url:finforeBaseUrl+"/user_sessions.json",type:"POST",data:{user_session:{login:a.username,password:a.password}},
success:function(d){a.complete&&a.complete(d)},error:function(){$().toastmessage("showErrorToast","<strong>Invalid Username or Password</strong><br /> Please try again. ")},complete:function(){$.mobile.hidePageLoadingMsg()}})},focus:function(a){var d=function(e,h){e=e.title.toLowerCase();h=h.title.toLowerCase();if(e<h)return-1;if(e>h)return 1;return 0};$.ajax({url:finforeBaseUrl+"/category_focus.json",type:"GET",success:function(e){e[0].profiles.sort(d);e[1].profiles.sort(d);e[2].profiles.sort(d);
a.complete&&a.complete(e)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"});Loader.hide()}})},updateUser:function(a){Loader.show();$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:a.data},success:function(d){finfore.data.user=d;finfore.storeData({user:d});a.complete&&a.complete(d)},error:function(){$().toastmessage("showToast",{text:"There was a problem updating your profile. Please try again later. ",
type:"error",sticky:true})},complete:function(){Loader.hide()}})},refreshUser:function(a){Loader.show();$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"GET",success:function(d){finfore.data.user=d;finfore.storeData({user:d});a.complete&&a.complete(d)},error:function(){$().toastmessage("showToast",{text:WebService.connectError,sticky:true,position:"top-right",type:"error"})},complete:function(){Loader.hide()}})},updateCompanies:function(a){$.ajax({url:finforeBaseUrl+"/users/"+
finfore.data.user._id+".json",type:"PUT",data:{user:{user_company_tabs_attributes:a.userCompanyTabs}},success:function(){a.complete&&a.complete()}})},updateColumns:function(a){$.ajax({url:finforeBaseUrl+"/users/"+finfore.data.user._id+".json",type:"PUT",data:{user:{feed_accounts_attributes:a.columns}},success:function(){a.complete&&a.complete()}})},getColumn:function(){}},Loader={$body:$("body"),show:function(){this.$body.addClass("ui-loading")},hide:function(){this.$body.removeClass("ui-loading")}},
feedReader={},callbackCounter=-1;
feedReader.get=function(a){var d="select channel.title, channel.item.title, channel.item.link, channel.item.description, channel.item.date, channel.item.pubDate from xml where url in(";$.each(a.sources,function(h,f){if(h!==0)d+=",";d+="'"+f+"'"});d+=') | unique(field="channel.item.link") | sort(field="channel.item.date", descending="true") | sort(field="channel.item.pubDate", descending="true")  | truncate(count='+a.limit+")";callbackCounter++;var e="feedReaderCallback"+callbackCounter;window[e]=
function(h){feedReaderCallback(h,a);delete window[e]};$.ajax({url:"http://query.yahooapis.com/v1/public/yql",dataType:"jsonp",jsonpCallback:e,cache:true,data:{q:d,format:"json",_maxage:300,diagnostics:false}})};
function feedReaderCallback(a,d){var e=[],h="";if(a.query&&a.query.results&&a.query.results.rss){if(!$.isArray(a.query.results.rss))a.query.results.rss=[a.query.results.rss];e=$.map(a.query.results.rss,function(f){if(!f.channel.item)return null;if(f.channel.item.description)h=f.channel.item.description.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";else if(f.channel.item.summary)h=f.channel.item.summary.replace(/(<([^>]+)>)/ig,"").substring(0,200)+"..";try{return{title:f.channel.item.title.replace(/(<([^>]+)>)/ig,
""),link:f.channel.item.link,description:h,pubDate:f.channel.item.pubDate?new Date(f.channel.item.pubDate):new Date(f.channel.item.date),source:f.channel.title}}catch(l){return null}})}d.complete(e)}steal.loaded("webapp/core/api.js");
(function(a,d){if(a.cleanData){var e=a.cleanData;a.cleanData=function(f){for(var l=0,q;(q=f[l])!=null;l++)a(q).triggerHandler("remove");e(f)}}else{var h=a.fn.remove;a.fn.remove=function(f,l){return this.each(function(){if(!l)if(!f||a.filter(f,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return h.call(a(this),f,l)})}}a.widget=function(f,l,q){var o=f.split(".")[0],r;f=f.split(".")[1];r=o+"-"+f;if(!q){q=l;l=a.Widget}a.expr[":"][r]=function(u){return!!a.data(u,
f)};a[o]=a[o]||{};a[o][f]=function(u,v){arguments.length&&this._createWidget(u,v)};l=new l;l.options=a.extend(true,{},l.options);a[o][f].prototype=a.extend(true,l,{namespace:o,widgetName:f,widgetEventPrefix:a[o][f].prototype.widgetEventPrefix||f,widgetBaseClass:r},q);a.widget.bridge(f,a[o][f])};a.widget.bridge=function(f,l){a.fn[f]=function(q){var o=typeof q==="string",r=Array.prototype.slice.call(arguments,1),u=this;q=!o&&r.length?a.extend.apply(null,[true,q].concat(r)):q;if(o&&q.charAt(0)==="_")return u;
o?this.each(function(){var v=a.data(this,f);if(!v)throw"cannot call methods on "+f+" prior to initialization; attempted to call method '"+q+"'";if(!a.isFunction(v[q]))throw"no such method '"+q+"' for "+f+" widget instance";var F=v[q].apply(v,r);if(F!==v&&F!==d){u=F;return false}}):this.each(function(){var v=a.data(this,f);v?v.option(q||{})._init():a.data(this,f,new l(q,this))});return u}};a.Widget=function(f,l){arguments.length&&this._createWidget(f,l)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",
options:{disabled:false},_createWidget:function(f,l){a.data(l,this.widgetName,this);this.element=a(l);this.options=a.extend(true,{},this.options,this._getCreateOptions(),f);var q=this;this.element.bind("remove."+this.widgetName,function(){q.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){var f={};if(a.metadata)f=a.metadata.get(element)[this.widgetName];return f},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);
this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(f,l){var q=f;if(arguments.length===0)return a.extend({},this.options);if(typeof f==="string"){if(l===d)return this.options[f];q={};q[f]=l}this._setOptions(q);return this},_setOptions:function(f){var l=this;a.each(f,function(q,o){l._setOption(q,o)});return this},_setOption:function(f,l){this.options[f]=l;if(f===
"disabled")this.widget()[l?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",l);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(f,l,q){var o=this.options[f];l=a.Event(l);l.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();q=q||{};if(l.originalEvent){f=a.event.props.length;for(var r;f;){r=a.event.props[--f];l[r]=l.originalEvent[r]}}this.element.trigger(l,
q);return!(a.isFunction(o)&&o.call(this.element[0],l,q)===false||l.isDefaultPrevented())}}})(jQuery);
(function(a,d){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var e=this.element,h={};a.each(this.options,function(f){var l=e.jqmData(f.replace(/[A-Z]/g,function(q){return"-"+q.toLowerCase()}));if(l!==d)h[f]=l});return h},enhanceWithin:function(e){var h=a.mobile.closestPageData(a(e));h=h&&h.keepNativeSelector()||"";a(this.options.initSelector,e).not(h)[this.widgetName]()}})})(jQuery);
(function(a){a(window);var d=a("html");a.mobile.media=function(){var e={},h=a("<div id='jquery-mediatest'>"),f=a("<body>").append(h);return function(l){if(!(l in e)){var q=document.createElement("style"),o="@media "+l+" { #jquery-mediatest { position:absolute; } }";q.type="text/css";if(q.styleSheet)q.styleSheet.cssText=o;else q.appendChild(document.createTextNode(o));d.prepend(f).prepend(q);e[l]=h.css("position")==="absolute";f.add(q).remove()}return e[l]}}()})(jQuery);
(function(a,d){function e(v){var F=v.charAt(0).toUpperCase()+v.substr(1);v=(v+" "+q.join(F+" ")+F).split(" ");for(var A in v)if(l[v[A]]!==d)return true}function h(){var v=location.protocol+"//"+location.host+location.pathname+"ui-dir/",F=a("head base"),A=null,H="",z;if(F.length)H=F.attr("href");else F=A=a("<base>",{href:v}).appendTo("head");z=a("<a href='testurl' />").prependTo(f)[0].href;F[0].href=H||location.pathname;A&&A.remove();return z.indexOf(v)===0}var f=a("<body>").prependTo("html"),l=f[0].style,
q=["Webkit","Moz","O"],o="palmGetResource"in window,r=window.operamini&&{}.toString.call(window.operamini)==="[object OperaMini]",u=window.blackberry;a.mobile.browser={};a.mobile.browser.ie=function(){for(var v=3,F=document.createElement("div"),A=F.all||[];F.innerHTML="<!--[if gt IE "+ ++v+"]><br><![endif]--\>",A[0];);return v>4?v:!v}();a.extend(a.support,{orientation:"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,
pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),boxShadow:!!e("boxShadow")&&!u,scrollTop:("pageXOffset"in window||"scrollTop"in document.documentElement||"scrollTop"in f[0])&&!o&&!r,dynamicBaseTag:h()});f.remove();o=function(){var v=window.navigator.userAgent;return v.indexOf("Nokia")>-1&&(v.indexOf("Symbian/3")>-1||v.indexOf("Series60/5")>-1)&&v.indexOf("AppleWebKit")>-1&&v.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();
a.mobile.ajaxBlacklist=window.blackberry&&!window.WebKitPoint||r||o;o&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);
(function(a,d,e,h){function f(aa){for(;aa&&typeof aa.originalEvent!=="undefined";)aa=aa.originalEvent;return aa}function l(aa,ga){var na=aa.type,ta,za,Fa;aa=a.Event(aa);aa.type=ga;ta=aa.originalEvent;za=a.event.props;if(ta)for(Fa=za.length;Fa;){ga=za[--Fa];aa[ga]=ta[ga]}if(na.search(/mouse(down|up)|click/)>-1&&!aa.which)aa.which=1;if(na.search(/^touch/)!==-1){ga=f(ta);na=ga.touches;ga=ga.changedTouches;if(na=na&&na.length?na[0]:ga&&ga.length?ga[0]:h){ta=0;for(len=da.length;ta<len;ta++){ga=da[ta];
aa[ga]=na[ga]}}}return aa}function q(aa){for(var ga={},na,ta;aa;){na=a.data(aa,P);for(ta in na)if(na[ta])ga[ta]=ga.hasVirtualBinding=true;aa=aa.parentNode}return ga}function o(aa,ga){for(var na;aa;){if((na=a.data(aa,P))&&(!ga||na[ga]))return aa;aa=aa.parentNode}return null}function r(){O=false}function u(){O=true}function v(){va=0;W.length=0;fa=false;u()}function F(){r()}function A(){H();ja=setTimeout(function(){ja=0;v()},a.vmouse.resetTimerDuration)}function H(){if(ja){clearTimeout(ja);ja=0}}function z(aa,
ga,na){var ta;if(na&&na[aa]||!na&&o(ga.target,aa)){ta=l(ga,aa);a(ga.target).trigger(ta)}return ta}function Q(aa){var ga=a.data(aa.target,S);if(!fa&&(!va||va!==ga))if(ga=z("v"+aa.type,aa)){ga.isDefaultPrevented()&&aa.preventDefault();ga.isPropagationStopped()&&aa.stopPropagation();ga.isImmediatePropagationStopped()&&aa.stopImmediatePropagation()}}function B(aa){var ga=f(aa).touches,na;if(ga&&ga.length===1){na=aa.target;ga=q(na);if(ga.hasVirtualBinding){va=j++;a.data(na,S,va);H();F();L=false;na=f(aa).touches[0];
la=na.pageX;x=na.pageY;z("vmouseover",aa,ga);z("vmousedown",aa,ga)}}}function D(aa){if(!O){L||z("vmousecancel",aa,q(aa.target));L=true;A()}}function K(aa){if(!O){var ga=f(aa).touches[0],na=L,ta=a.vmouse.moveDistanceThreshold;L=L||Math.abs(ga.pageX-la)>ta||Math.abs(ga.pageY-x)>ta;flags=q(aa.target);L&&!na&&z("vmousecancel",aa,flags);z("vmousemove",aa,flags);A()}}function I(aa){if(!O){u();var ga=q(aa.target),na;z("vmouseup",aa,ga);if(!L)if((na=z("vclick",aa,ga))&&na.isDefaultPrevented()){na=f(aa).changedTouches[0];
W.push({touchID:va,x:na.clientX,y:na.clientY});fa=true}z("vmouseout",aa,ga);L=false;A()}}function U(aa){aa=a.data(aa,P);var ga;if(aa)for(ga in aa)if(aa[ga])return true;return false}function Z(){}function ba(aa){var ga=aa.substr(1);return{setup:function(){U(this)||a.data(this,P,{});a.data(this,P)[aa]=true;X[aa]=(X[aa]||0)+1;X[aa]===1&&ma.bind(ga,Q);a(this).bind(ga,Z);if(ra){X.touchstart=(X.touchstart||0)+1;X.touchstart===1&&ma.bind("touchstart",B).bind("touchend",I).bind("touchmove",K).bind("scroll",
D)}},teardown:function(){--X[aa];X[aa]||ma.unbind(ga,Q);if(ra){--X.touchstart;X.touchstart||ma.unbind("touchstart",B).unbind("touchmove",K).unbind("touchend",I).unbind("scroll",D)}var na=a(this),ta=a.data(this,P);if(ta)ta[aa]=false;na.unbind(ga,Z);U(this)||na.removeData(P)}}}var P="virtualMouseBindings",S="virtualTouchID";d="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" ");var da="clientX clientY pageX pageY screenX screenY".split(" "),X={},ja=0,la=0,x=0,L=false,
W=[],fa=false,O=false,ra="addEventListener"in e,ma=a(e),j=1,va=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var Ga=0;Ga<d.length;Ga++)a.event.special[d[Ga]]=ba(d[Ga]);ra&&e.addEventListener("click",function(aa){var ga=W.length,na=aa.target,ta,za,Fa,Ia,La;if(ga){ta=aa.clientX;za=aa.clientY;threshold=a.vmouse.clickDistanceThreshold;for(Fa=na;Fa;){for(Ia=0;Ia<ga;Ia++){La=W[Ia];if(Fa===na&&Math.abs(La.x-ta)<threshold&&Math.abs(La.y-za)<threshold||a.data(Fa,
S)===La.touchID){aa.preventDefault();aa.stopPropagation();return}}Fa=Fa.parentNode}}},true)})(jQuery,window,document);
(function(a,d,e){function h(r,u,v){var F=v.type;v.type=u;a.event.handle.call(r,v);v.type=F}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(r,u){a.fn[u]=function(v){return v?this.bind(u,v):this.trigger(u)};a.attrFn[u]=true});var f=a.support.touch,l=f?"touchstart":"mousedown",q=f?"touchend":"mouseup",o=f?"touchmove":"mousemove";a.event.special.scrollstart={enabled:true,setup:function(){function r(A,
H){v=H;h(u,v?"scrollstart":"scrollstop",A)}var u=this,v,F;a(u).bind("touchmove scroll",function(A){if(a.event.special.scrollstart.enabled){v||r(A,true);clearTimeout(F);F=setTimeout(function(){r(A,false)},50)}})}};a.event.special.tap={setup:function(){var r=this,u=a(r);u.bind("vmousedown",function(v){function F(){clearTimeout(Q)}function A(){F();u.unbind("vclick",H).unbind("vmouseup",F).unbind("vmousecancel",A)}function H(B){A();z==B.target&&h(r,"tap",B)}if(v.which&&v.which!==1)return false;var z=
v.target,Q;u.bind("vmousecancel",A).bind("vmouseup",F).bind("vclick",H);Q=setTimeout(function(){h(r,"taphold",a.Event("taphold"))},750)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var r=a(this);r.bind(l,function(u){function v(z){if(A){var Q=z.originalEvent.touches?z.originalEvent.touches[0]:z;H={time:(new Date).getTime(),coords:[Q.pageX,Q.pageY]};Math.abs(A.coords[0]-H.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&
z.preventDefault()}}var F=u.originalEvent.touches?u.originalEvent.touches[0]:u,A={time:(new Date).getTime(),coords:[F.pageX,F.pageY],origin:a(u.target)},H;r.bind(o,v).one(q,function(){r.unbind(o,v);if(A&&H)if(H.time-A.time<a.event.special.swipe.durationThreshold&&Math.abs(A.coords[0]-H.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(A.coords[1]-H.coords[1])<a.event.special.swipe.verticalDistanceThreshold)A.origin.trigger("swipe").trigger(A.coords[0]>H.coords[0]?"swipeleft":
"swiperight");A=H=e})})}};(function(r,u){function v(){var D=A();if(D!==H){H=D;F.trigger("orientationchange")}}var F=r(u),A,H,z,Q,B={"0":true,"180":true};if(r.support.orientation){z=r.mobile.media("all and (orientation: landscape)");Q=B[u.orientation];if(z&&Q||!z&&!Q)B={"-90":true,"90":true}}r.event.special.orientationchange={setup:function(){if(r.support.orientation&&r.mobile.orientationChangeEnabled)return false;H=A();F.bind("throttledresize",v)},teardown:function(){if(r.support.orientation&&r.mobile.orientationChangeEnabled)return false;
F.unbind("throttledresize",v)},add:function(D){var K=D.handler;D.handler=function(I){I.orientation=A();return K.apply(this,arguments)}}};r.event.special.orientationchange.orientation=A=function(){var D=true;D=document.documentElement;return(D=r.support.orientation?B[u.orientation]:D&&D.clientWidth/D.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,d);(function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",r)},teardown:function(){a(this).unbind("resize",r)}};var r=function(){F=
(new Date).getTime();A=F-u;if(A>=250){u=F;a(this).trigger("throttledresize")}else{v&&clearTimeout(v);v=setTimeout(r,250-A)}},u=0,v,F,A})();a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(r,u){a.event.special[r]={setup:function(){a(this).bind(u,a.noop)}}})})(jQuery,this);
(function(a,d,e){function h(v){v=v||location.href;return"#"+v.replace(/^[^#]*#?(.*)$/,"$1")}var f="hashchange",l=document,q,o=a.event.special,r=l.documentMode,u="on"+f in d&&(r===e||r>7);a.fn[f]=function(v){return v?this.bind(f,v):this.trigger(f)};a.fn[f].delay=50;o[f]=a.extend(o[f],{setup:function(){if(u)return false;a(q.start)},teardown:function(){if(u)return false;a(q.stop)}});q=function(){function v(){var D=h(),K=B(H);if(D!==H){Q(H=D,K);a(d).trigger(f)}else if(K!==H)location.href=location.href.replace(/#.*/,
"")+K;A=setTimeout(v,a.fn[f].delay)}var F={},A,H=h(),z=function(D){return D},Q=z,B=z;F.start=function(){A||v()};F.stop=function(){A&&clearTimeout(A);A=e};a.browser.msie&&!u&&function(){var D,K;F.start=function(){if(!D){K=(K=a.fn[f].src)&&K+h();D=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){K||Q(h());v()}).attr("src",K||"javascript:0").insertAfter("body")[0].contentWindow;l.onpropertychange=function(){try{if(event.propertyName==="title")D.document.title=l.title}catch(I){}}}};
F.stop=z;B=function(){return h(D.location.href)};Q=function(I,U){var Z=D.document,ba=a.fn[f].domain;if(I!==U){Z.title=l.title;Z.open();ba&&Z.write('<script>document.domain="'+ba+'"<\/script>');Z.close();D.location.hash=I}}}();return F}()})(jQuery,this);
(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){this._trigger("beforecreate");this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme)},keepNativeSelector:function(){var d=this.options;if(d.keepNative&&a.trim(d.keepNative)&&d.keepNative!==d.keepNativeDefault)return[d.keepNative,d.keepNativeDefault].join(", ");return d.keepNativeDefault}})})(jQuery);
(function(a,d){var e={};a.extend(a.mobile,{ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"slide",minScrollBack:250,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",autoInitializePage:true,pushStateEnabled:true,orientationChangeEnabled:true,gradeA:function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=
7},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(l){if(a.type(l)!=="number")l=a.mobile.defaultHomeScroll;a.event.special.scrollstart.enabled=false;
setTimeout(function(){d.scrollTo(0,l);a(document).trigger("silentscroll",{x:0,y:l})},20);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:e,nsNormalize:function(l){if(l)return e[l]||(e[l]=a.camelCase(a.mobile.ns+l))},getInheritedTheme:function(l,q){l=l[0];for(var o="",r=/ui-(bar|body)-([a-z])\b/,u,v;l;){u=l.className||"";if((v=r.exec(u))&&(o=v[2]))break;l=l.parentNode}return o||q||"a"},closestPageData:function(l){return l.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")}});
a.fn.jqmData=function(l,q){var o;if(typeof l!="undefined")o=this.data(l?a.mobile.nsNormalize(l):l,q);return o};a.jqmData=function(l,q,o){var r;if(typeof q!="undefined")r=a.data(l,q?a.mobile.nsNormalize(q):q,o);return r};a.fn.jqmRemoveData=function(l){return this.removeData(a.mobile.nsNormalize(l))};a.jqmRemoveData=function(l,q){return a.removeData(l,a.mobile.nsNormalize(q))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=function(l){l=a(l);(l.jqmData("dependents")||
a()).remove();l.remove()};a.fn.addDependents=function(l){a.addDependents(a(this),l)};a.addDependents=function(l,q){var o=a(l).jqmData("dependents")||a();a(l).jqmData("dependents",a.merge(o,q))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};var h=a.find,f=/:jqmData\(([^)]*)\)/g;a.find=function(l,q,o,r){l=l.replace(f,"[data-"+(a.mobile.ns||"")+"$1]");return h.call(this,l,q,o,r)};a.extend(a.find,h);a.find.matches=function(l,q){return a.find(l,null,null,q)};a.find.matchesSelector=
function(l,q){return a.find(q,null,null,[l]).length>0}})(jQuery,this);
(function(a,d){function e(x){var L=x.find(".ui-title:eq(0)");L.length?L.focus():x.focus()}function h(x){if(Q&&(!Q.closest(".ui-page-active").length||x))Q.removeClass(a.mobile.activeBtnClass);Q=null}function f(){K=false;D.length>0&&a.mobile.changePage.apply(null,D.pop())}function l(x,L,W,fa){var O=a.mobile.urlHistory.getActive(),ra=a.support.touchOverflow&&a.mobile.touchOverflowEnabled,ma=O.lastScroll||(ra?0:a.mobile.defaultHomeScroll);O=q();window.scrollTo(0,a.mobile.defaultHomeScroll);L&&L.data("page")._trigger("beforehide",
null,{nextPage:x});ra||x.height(O+ma);x.data("page")._trigger("beforeshow",null,{prevPage:L||a("")});a.mobile.hidePageLoadingMsg();if(ra&&ma){x.addClass("ui-mobile-pre-transition");e(x);x.is(".ui-native-fixed")?x.find(".ui-content").scrollTop(ma):x.scrollTop(ma)}W=(a.mobile.transitionHandlers[W||"none"]||a.mobile.defaultTransitionHandler)(W,fa,x,L);W.done(function(){if(!ra){x.height("");e(x)}ra||a.mobile.silentScroll(ma);if(L){ra||L.height("");L.data("page")._trigger("hide",null,{nextPage:x})}x.data("page")._trigger("show",
null,{prevPage:L||a("")})});return W}function q(){var x=a.event.special.orientationchange.orientation()==="portrait",L=x?screen.availHeight:screen.availWidth;x=Math.max(x?480:320,a(window).height());return Math.min(L,x)}function o(){a.support.touchOverflow&&a.mobile.touchOverflowEnabled||a("."+a.mobile.activePageClass).css("min-height",q())}function r(x,L){L&&x.attr("data-"+a.mobile.ns+"role",L);x.page()}function u(x){for(;x;){if(typeof x.nodeName==="string"&&x.nodeName.toLowerCase()=="a")break;x=
x.parentNode}return x}function v(x){x=a(x).closest(".ui-page").jqmData("url");var L=ba.hrefNoHash;if(!x||!z.isPath(x))x=L;return z.makeUrlAbsolute(x,L)}var F=a(window),A=a("html"),H=a("head"),z={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(x){if(a.type(x)==="object")return x;x=z.urlParseRE.exec(x||"")||[];return{href:x[0]||"",hrefNoHash:x[1]||
"",hrefNoSearch:x[2]||"",domain:x[3]||"",protocol:x[4]||"",doubleSlash:x[5]||"",authority:x[6]||"",username:x[8]||"",password:x[9]||"",host:x[10]||"",hostname:x[11]||"",port:x[12]||"",pathname:x[13]||"",directory:x[14]||"",filename:x[15]||"",search:x[16]||"",hash:x[17]||""}},makePathAbsolute:function(x,L){if(x&&x.charAt(0)==="/")return x;x=x||"";L=(L=L?L.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?L.split("/"):[];x=x.split("/");for(var W=0;W<x.length;W++){var fa=x[W];switch(fa){case ".":break;case "..":L.length&&
L.pop();break;default:L.push(fa);break}}return"/"+L.join("/")},isSameDomain:function(x,L){return z.parseUrl(x).domain===z.parseUrl(L).domain},isRelativeUrl:function(x){return z.parseUrl(x).protocol===""},isAbsoluteUrl:function(x){return z.parseUrl(x).protocol!==""},makeUrlAbsolute:function(x,L){if(!z.isRelativeUrl(x))return x;x=z.parseUrl(x);L=z.parseUrl(L);var W=x.protocol||L.protocol,fa=x.protocol?x.doubleSlash:x.doubleSlash||L.doubleSlash,O=x.authority||L.authority,ra=x.pathname!=="",ma=z.makePathAbsolute(x.pathname||
L.filename,L.pathname);return W+fa+O+ma+(x.search||!ra&&L.search||"")+x.hash},addSearchParams:function(x,L){x=z.parseUrl(x);L=typeof L==="object"?a.param(L):L;var W=x.search||"?";return x.hrefNoSearch+W+(W.charAt(W.length-1)!=="?"?"&":"")+L+(x.hash||"")},convertUrlToDataUrl:function(x){var L=z.parseUrl(x);if(z.isEmbeddedPage(L))return L.hash.split(I)[0].replace(/^#/,"");else if(z.isSameDomain(L,ba))return L.hrefNoHash.replace(ba.domain,"");return x},get:function(x){if(x===d)x=location.hash;return z.stripHash(x).replace(/[^\/]*\.[^\/*]+$/,
"")},getFilePath:function(x){var L="&"+a.mobile.subPageUrlKey;return x&&x.split(L)[0].split(I)[0]},set:function(x){location.hash=x},isPath:function(x){return/\//.test(x)},clean:function(x){return x.replace(ba.domain,"")},stripHash:function(x){return x.replace(/^#/,"")},cleanHash:function(x){return z.stripHash(x.replace(/\?.*$/,"").replace(I,""))},isExternal:function(x){x=z.parseUrl(x);return x.protocol&&x.domain!==Z.domain?true:false},hasProtocol:function(x){return/^(:?\w+:)/.test(x)},isFirstPageUrl:function(x){x=
z.parseUrl(z.makeUrlAbsolute(x,ba));var L=a.mobile.firstPage;L=L&&L[0]?L[0].id:d;return(x.hrefNoHash===Z.hrefNoHash||P&&x.hrefNoHash===ba.hrefNoHash)&&(!x.hash||x.hash==="#"||L&&x.hash.replace(/^#/,"")===L)},isEmbeddedPage:function(x){x=z.parseUrl(x);if(x.protocol!=="")return x.hash&&(x.hrefNoHash===Z.hrefNoHash||P&&x.hrefNoHash===ba.hrefNoHash);return/^#/.test(x.href)},isPermittedCrossDomainRequest:function(x,L){return a.mobile.allowCrossDomainPages&&x.protocol==="file:"&&L.search(/^https?:/)!=-1}},
Q=null,B={stack:[],activeIndex:0,getActive:function(){return B.stack[B.activeIndex]},getPrev:function(){return B.stack[B.activeIndex-1]},getNext:function(){return B.stack[B.activeIndex+1]},addNew:function(x,L,W,fa,O){B.getNext()&&B.clearForward();B.stack.push({url:x,transition:L,title:W,pageUrl:fa,role:O});B.activeIndex=B.stack.length-1},clearForward:function(){B.stack=B.stack.slice(0,B.activeIndex+1)},directHashChange:function(x){var L,W,fa;this.getActive();a.each(B.stack,function(O,ra){if(x.currentUrl===
ra.url){L=O<B.activeIndex;W=!L;fa=O}});this.activeIndex=fa!==d?fa:this.activeIndex;if(L)(x.either||x.isBack)(true);else if(W)(x.either||x.isForward)(false)},ignoreNextHashChange:false},D=[],K=false,I="&ui-state=dialog",U=H.children("base"),Z=z.parseUrl(location.href),ba=U.length?z.parseUrl(z.makeUrlAbsolute(U.attr("href"),Z.href)):Z,P=Z.hrefNoHash!==ba.hrefNoHash,S=a.support.dynamicBaseTag?{element:U.length?U:a("<base>",{href:ba.hrefNoHash}).prependTo(H),set:function(x){S.element.attr("href",z.makeUrlAbsolute(x,
ba))},reset:function(){S.element.attr("href",ba.hrefNoHash)}}:d,da=true,X,ja,la;X=function(){var x=F;if(a.support.touchOverflow&&a.mobile.touchOverflowEnabled){x=a(".ui-page-active");x=x.is(".ui-native-fixed")?x.find(".ui-content"):x}return x};ja=function(x){if(da){var L=a.mobile.urlHistory.getActive();if(L){x=x&&x.scrollTop();L.lastScroll=x<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:x}}};la=function(){setTimeout(ja,100,a(this))};F.bind(a.support.pushState?"popstate":"hashchange",function(){da=
false});F.one(a.support.pushState?"popstate":"hashchange",function(){da=true});F.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){var x=X();da=true;x.unbind("scrollstop",la);x.bind("scrollstop",la)})});X().bind("scrollstop",la);a.mobile.getScreenHeight=q;a.fn.animationComplete=function(x){if(a.support.cssTransitions)return a(this).one("webkitAnimationEnd",x);else{setTimeout(x,0);return a(this)}};a.mobile.path=z;a.mobile.base=S;a.mobile.urlHistory=B;a.mobile.dialogHashKey=
I;a.mobile.noneTransitionHandler=function(x,L,W,fa){fa&&fa.removeClass(a.mobile.activePageClass);W.addClass(a.mobile.activePageClass);return a.Deferred().resolve(x,L,W,fa).promise()};a.mobile.defaultTransitionHandler=a.mobile.noneTransitionHandler;a.mobile.transitionHandlers={none:a.mobile.defaultTransitionHandler};a.mobile.allowCrossDomainPages=false;a.mobile.getDocumentUrl=function(x){return x?a.extend({},Z):Z.href};a.mobile.getDocumentBase=function(x){return x?a.extend({},ba):ba.href};a.mobile._bindPageRemove=
function(){var x=a(this);!x.data("page").options.domCache&&x.is(":jqmData(external-page='true')")&&x.bind("pagehide.remove",function(){var L=a(this),W=new a.Event("pageremove");L.trigger(W);W.isDefaultPrevented()||L.removeWithDependents()})};a.mobile.loadPage=function(x,L){var W=a.Deferred(),fa=a.extend({},a.mobile.loadPage.defaults,L),O=null,ra=null,ma=z.makeUrlAbsolute(x,function(){return a.mobile.activePage&&v(a.mobile.activePage)||ba.hrefNoHash}());if(fa.data&&fa.type==="get"){ma=z.addSearchParams(ma,
fa.data);fa.data=d}if(fa.data&&fa.type==="post")fa.reloadPage=true;var j=z.getFilePath(ma),va=z.convertUrlToDataUrl(ma);fa.pageContainer=fa.pageContainer||a.mobile.pageContainer;O=fa.pageContainer.children(":jqmData(url='"+va+"')");if(O.length===0&&va&&!z.isPath(va))O=fa.pageContainer.children("#"+va).attr("data-"+a.mobile.ns+"url",va);if(O.length===0)if(a.mobile.firstPage&&z.isFirstPageUrl(j)){if(a.mobile.firstPage.parent().length)O=a(a.mobile.firstPage)}else if(z.isEmbeddedPage(j)){W.reject(ma,
L);return W.promise()}S&&S.reset();if(O.length){if(!fa.reloadPage){r(O,fa.role);W.resolve(ma,L,O);return W.promise()}ra=O}var Ga=fa.pageContainer,aa=new a.Event("pagebeforeload"),ga={url:x,absUrl:ma,dataUrl:va,deferred:W,options:fa};Ga.trigger(aa,ga);if(aa.isDefaultPrevented())return W.promise();if(fa.showLoadMsg)var na=setTimeout(function(){a.mobile.showPageLoadingMsg()},fa.loadMsgDelay),ta=function(){clearTimeout(na);a.mobile.hidePageLoadingMsg()};a.mobile.allowCrossDomainPages||z.isSameDomain(Z,
ma)?a.ajax({url:j,type:fa.type,data:fa.data,dataType:"html",success:function(za,Fa,Ia){var La=a("<div></div>"),Na=za.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,Oa=new RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),$a=new RegExp("\\bdata-"+a.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");if(Oa.test(za)&&RegExp.$1&&$a.test(RegExp.$1)&&RegExp.$1)x=j=z.getFilePath(RegExp.$1);S&&S.set(j);La.get(0).innerHTML=za;O=La.find(":jqmData(role='page'), :jqmData(role='dialog')").first();O.length||(O=
a("<div data-"+a.mobile.ns+"role='page'>"+za.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));if(Na&&!O.jqmData("title")){if(~Na.indexOf("&"))Na=a("<div>"+Na+"</div>").text();O.jqmData("title",Na)}if(!a.support.dynamicBaseTag){var Xa=z.get(j);O.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var Va=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",Sa=a(this).attr(Va);Sa=Sa.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(Sa)||
a(this).attr(Va,Xa+Sa)})}O.attr("data-"+a.mobile.ns+"url",z.convertUrlToDataUrl(j)).attr("data-"+a.mobile.ns+"external-page",true).appendTo(fa.pageContainer);O.one("pagecreate",a.mobile._bindPageRemove);r(O,fa.role);if(ma.indexOf("&"+a.mobile.subPageUrlKey)>-1)O=fa.pageContainer.children(":jqmData(url='"+va+"')");fa.showLoadMsg&&ta();ga.xhr=Ia;ga.textStatus=Fa;ga.page=O;fa.pageContainer.trigger("pageload",ga);W.resolve(ma,L,O,ra)},error:function(za,Fa,Ia){S&&S.set(z.get());ga.xhr=za;ga.textStatus=
Fa;ga.errorThrown=Ia;za=new a.Event("pageloadfailed");fa.pageContainer.trigger(za,ga);if(!za.isDefaultPrevented()){if(fa.showLoadMsg){ta();a("<div class='ui-loader ui-overlay-shadow ui-body-e ui-corner-all'><h1>"+a.mobile.pageLoadErrorMessage+"</h1></div>").css({display:"block",opacity:0.96,top:F.scrollTop()+100}).appendTo(fa.pageContainer).delay(800).fadeOut(400,function(){a(this).remove()})}W.reject(ma,L)}}}):W.reject(ma,L);return W.promise()};a.mobile.loadPage.defaults={type:"get",data:d,reloadPage:false,
role:d,showLoadMsg:false,pageContainer:d,loadMsgDelay:50};a.mobile.changePage=function(x,L){if(K)D.unshift(arguments);else{var W=a.extend({},a.mobile.changePage.defaults,L);W.pageContainer=W.pageContainer||a.mobile.pageContainer;W.fromPage=W.fromPage||a.mobile.activePage;var fa=W.pageContainer,O=new a.Event("pagebeforechange"),ra={toPage:x,options:W};fa.trigger(O,ra);if(!O.isDefaultPrevented()){x=ra.toPage;K=true;if(typeof x=="string")a.mobile.loadPage(x,W).done(function(Fa,Ia,La,Na){K=false;Ia.duplicateCachedPage=
Na;a.mobile.changePage(La,Ia)}).fail(function(){K=false;h(true);f();W.pageContainer.trigger("pagechangefailed",ra)});else{if(x[0]===a.mobile.firstPage[0]&&!W.dataUrl)W.dataUrl=Z.hrefNoHash;O=W.fromPage;var ma=W.dataUrl&&z.convertUrlToDataUrl(W.dataUrl)||x.jqmData("url"),j=ma;z.getFilePath(ma);var va=B.getActive(),Ga=B.activeIndex===0,aa=0,ga=document.title,na=W.role==="dialog"||x.jqmData("role")==="dialog";if(O&&O[0]===x[0]&&!W.allowSamePageTransition){K=false;fa.trigger("pagechange",ra)}else{r(x,
W.role);W.fromHashChange&&B.directHashChange({currentUrl:ma,isBack:function(){aa=-1},isForward:function(){aa=1}});try{document.activeElement&&document.activeElement.nodeName.toLowerCase()!="body"?a(document.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(ta){}if(na&&va)ma=(va.url||"")+I;if(W.changeHash!==false&&ma){B.ignoreNextHashChange=true;z.set(ma)}var za=!va?ga:x.jqmData("title")||x.children(":jqmData(role='header')").find(".ui-title").getEncodedText();if(za&&
ga==document.title)ga=za;x.jqmData("title")||x.jqmData("title",ga);W.transition=W.transition||(aa&&!Ga?va.transition:d)||(na?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);aa||B.addNew(ma,W.transition,ga,j,W.role);document.title=B.getActive().title;a.mobile.activePage=x;W.reverse=W.reverse||aa<0;l(x,O,W.transition,W.reverse).done(function(){h();W.duplicateCachedPage&&W.duplicateCachedPage.remove();A.removeClass("ui-mobile-rendering");f();fa.trigger("pagechange",ra)})}}}}};a.mobile.changePage.defaults=
{transition:d,reverse:false,changeHash:true,fromHashChange:false,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:true,dataUrl:d,fromPage:d,allowSamePageTransition:false};a.mobile._registerInternalEvents=function(){a(document).delegate("form","submit",function(x){var L=a(this);if(!(!a.mobile.ajaxEnabled||L.is(":jqmData(ajax='false')"))){var W=L.attr("method"),fa=L.attr("target"),O=L.attr("action");if(!O){O=v(L);if(O===ba.hrefNoHash)O=Z.hrefNoSearch}O=z.makeUrlAbsolute(O,v(L));if(!(z.isExternal(O)&&
!z.isPermittedCrossDomainRequest(Z,O)||fa)){a.mobile.changePage(O,{type:W&&W.length&&W.toLowerCase()||"get",data:L.serialize(),transition:L.jqmData("transition"),direction:L.jqmData("direction"),reloadPage:true});x.preventDefault()}}});a(document).bind("vclick",function(x){if(!(x.which>1||!a.mobile.linkBindingEnabled))if(x=u(x.target))if(z.parseUrl(x.getAttribute("href")||"#").hash!=="#"){h(true);Q=a(x).closest(".ui-btn").not(".ui-disabled");Q.addClass(a.mobile.activeBtnClass);a("."+a.mobile.activePageClass+
" .ui-btn").not(x).blur()}});a(document).bind("click",function(x){if(a.mobile.linkBindingEnabled){var L=u(x.target);if(!(!L||x.which>1)){var W=a(L),fa=function(){window.setTimeout(function(){h(true)},200)};if(W.is(":jqmData(rel='back')")){window.history.back();return false}var O=v(W);L=z.makeUrlAbsolute(W.attr("href")||"#",O);if(!a.mobile.ajaxEnabled&&!z.isEmbeddedPage(L))fa();else{if(L.search("#")!=-1)if(L=L.replace(/[^#]*#/,""))L=z.isPath(L)?z.makeUrlAbsolute(L,O):z.makeUrlAbsolute("#"+L,Z.hrefNoHash);
else{x.preventDefault();return}if(W.is("[rel='external']")||W.is(":jqmData(ajax='false')")||W.is("[target]")||z.isExternal(L)&&!z.isPermittedCrossDomainRequest(Z,L))fa();else{fa=W.jqmData("transition");O=(O=W.jqmData("direction"))&&O==="reverse"||W.jqmData("back");W=W.attr("data-"+a.mobile.ns+"rel")||d;a.mobile.changePage(L,{transition:fa,reverse:O,role:W});x.preventDefault()}}}}});a(document).delegate(".ui-page","pageshow.prefetch",function(){var x=[];a(this).find("a:jqmData(prefetch)").each(function(){var L=
a(this),W=L.attr("href");if(W&&a.inArray(W,x)===-1){x.push(W);a.mobile.loadPage(W,{role:L.attr("data-"+a.mobile.ns+"rel")})}})});a.mobile._handleHashChange=function(x){var L=z.stripHash(x),W={transition:a.mobile.urlHistory.stack.length===0?"none":d,changeHash:false,fromHashChange:true};if(!a.mobile.hashListeningEnabled||B.ignoreNextHashChange)B.ignoreNextHashChange=false;else{if(B.stack.length>1&&L.indexOf(I)>-1)if(a.mobile.activePage.is(".ui-dialog"))B.directHashChange({currentUrl:L,either:function(fa){var O=
a.mobile.urlHistory.getActive();L=O.pageUrl;a.extend(W,{role:O.role,transition:O.transition,reverse:fa})}});else{B.directHashChange({currentUrl:L,isBack:function(){window.history.back()},isForward:function(){window.history.forward()}});return}if(L){L=typeof L==="string"&&!z.isPath(L)?z.makeUrlAbsolute("#"+L,ba):L;a.mobile.changePage(L,W)}else a.mobile.changePage(a.mobile.firstPage,W)}};F.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)});a(document).bind("pageshow",o);a(window).bind("throttledresize",
o)}})(jQuery);
(function(a,d){var e={},h=a(d),f=a.mobile.path.parseUrl(location.href);a.extend(e,{initialFilePath:function(){return f.pathname+f.search}(),initialHref:f.hrefNoHash,hashchangeFired:false,state:function(){return{hash:location.hash||"#"+e.initialFilePath,title:document.title,initialHref:e.initialHref}},resetUIKeys:function(l){var q="&"+a.mobile.subPageUrlKey,o=l.indexOf(a.mobile.dialogHashKey);if(o>-1)l=l.slice(0,o)+"#"+l.slice(o);else if(l.indexOf(q)>-1)l=l.split(q).join("#"+q);return l},nextHashChangePrevented:function(l){a.mobile.urlHistory.ignoreNextHashChange=
l;e.onHashChangeDisabled=l},onHashChange:function(){if(!e.onHashChangeDisabled){var l,q;l=location.hash;var o=a.mobile.path.isPath(l),r=o?location.href:a.mobile.getDocumentUrl();l=o?l.replace("#",""):l;q=e.state();l=a.mobile.path.makeUrlAbsolute(l,r);if(o)l=e.resetUIKeys(l);history.replaceState(q,document.title,l)}},onPopState:function(l){var q=l.originalEvent.state;if(q){e.nextHashChangePrevented(true);setTimeout(function(){e.nextHashChangePrevented(false);a.mobile._handleHashChange(q.hash)},100)}},
init:function(){h.bind("hashchange",e.onHashChange);h.bind("popstate",e.onPopState);location.hash===""&&history.replaceState(e.state(),document.title,location.href)}});a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&e.init()})})(jQuery,this);
(function(a){function d(e,h,f,l){var q=new a.Deferred,o=h?" reverse":"",r="ui-mobile-viewport-transitioning viewport-"+e;f.animationComplete(function(){f.add(l).removeClass("out in reverse "+e);l&&l[0]!==f[0]&&l.removeClass(a.mobile.activePageClass);f.parent().removeClass(r);q.resolve(e,h,f,l)});f.parent().addClass(r);l&&l.addClass(e+" out"+o);f.addClass(a.mobile.activePageClass+" "+e+" in"+o);return q.promise()}a.mobile.css3TransitionHandler=d;if(a.mobile.defaultTransitionHandler===a.mobile.noneTransitionHandler)a.mobile.defaultTransitionHandler=
d})(jQuery,this);
(function(a){a.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};a(document).bind("pagecreate create",function(d){var e=a.mobile.closestPageData(a(d.target));if(e){options=e.options;a(d.target).find("input").not(e.keepNativeSelector()).each(function(){var h=a(this),f=this.getAttribute("type"),l=options.degradeInputs[f]||"text";if(options.degradeInputs[f]){var q=
a("<div>").html(h.clone()).html(),o=q.indexOf(" type=")>-1;h.replaceWith(q.replace(o?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+l+'" data-'+a.mobile.ns+'type="'+f+'"'+(o?"":">")))}})}})})(jQuery);
(function(a,d){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var e=this,h=this.element,f=a("<a href='#' data-"+a.mobile.ns+"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");h.addClass("ui-overlay-"+this.options.overlayTheme);h.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(f).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");
f.bind("click",function(){e.close()});h.bind("vclick submit",function(l){l=a(l.target).closest(l.type==="vclick"?"a":"form");var q;if(l.length&&!l.jqmData("transition")){q=a.mobile.urlHistory.getActive()||{};l.attr("data-"+a.mobile.ns+"transition",q.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)})},close:function(){d.history.back()}});a(document).delegate(a.mobile.dialog.prototype.options.initSelector,
"pagecreate",function(){a(this).dialog()})})(jQuery,this);
(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=false;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme="a";a.mobile.page.prototype.options.contentTheme=null;a(document).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var d=a(this),e=d.data("page").options,h=d.jqmData("role"),f=e.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",
this).each(function(){var l=a(this),q=l.jqmData("role"),o=l.jqmData("theme"),r=o||e.contentTheme||h==="dialog"&&f,u;l.addClass("ui-"+q);if(q==="header"||q==="footer"){var v=o||(q==="header"?e.headerTheme:e.footerTheme)||f;l.addClass("ui-bar-"+v).attr("role",q==="header"?"banner":"contentinfo");o=l.children("a");r=o.hasClass("ui-btn-left");u=o.hasClass("ui-btn-right");r=r||o.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;u||o.eq(1).addClass("ui-btn-right");if(e.addBackBtn&&q==="header"&&
a(".ui-page").length>1&&l.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!r)a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+e.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",e.backBtnTheme||v).prependTo(l);l.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({tabindex:"0",role:"heading","aria-level":"1"})}else if(q==="content"){r&&l.addClass("ui-body-"+r);l.attr("role","main")}})})})(jQuery);
(function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",initSelector:":jqmData(role='collapsible')"},_create:function(){var d=this.element,e=this.options,h=d.addClass("ui-collapsible"),f=d.children(e.heading).first(),l=h.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),
q=d.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");if(f.is("legend")){f=a("<div role='heading'>"+f.html()+"</div>").insertBefore(f);f.next().remove()}if(q.length){if(!e.theme)e.theme=q.jqmData("theme");if(!e.contentTheme)e.contentTheme=q.jqmData("content-theme")}l.addClass(e.contentTheme?"ui-body-"+e.contentTheme:"");f.insertBefore(l).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,
corners:false,iconPos:"left",icon:"plus",theme:e.theme}).add(".ui-btn-inner").addClass("ui-corner-top ui-corner-bottom");h.bind("expand collapse",function(o){if(!o.isDefaultPrevented()){o.preventDefault();var r=a(this);o=o.type==="collapse";var u=e.contentTheme;f.toggleClass("ui-collapsible-heading-collapsed",o).find(".ui-collapsible-heading-status").text(o?e.expandCueText:e.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!o).toggleClass("ui-icon-plus",o);r.toggleClass("ui-collapsible-collapsed",
o);l.toggleClass("ui-collapsible-content-collapsed",o).attr("aria-hidden",o);if(u&&(!q.length||h.jqmData("collapsible-last"))){f.find("a").first().add(f.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",o);l.toggleClass("ui-corner-bottom",!o)}l.trigger("updatelayout")}}).trigger(e.collapsed?"collapse":"expand");f.bind("click",function(o){var r=f.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";h.trigger(r);o.preventDefault()})}});a(document).bind("pagecreate create",function(d){a(a.mobile.collapsible.prototype.options.initSelector,
d.target).collapsible()})})(jQuery);
(function(a){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var d=this.element.addClass("ui-collapsible-set"),e=this.options,h=d.children(":jqmData(role='collapsible')");if(!e.theme)e.theme=d.jqmData("theme");if(!e.contentTheme)e.contentTheme=d.jqmData("content-theme");if(!d.jqmData("collapsiblebound")){d.jqmData("collapsiblebound",true).bind("expand collapse",function(f){var l=f.type==="collapse";f=a(f.target).closest(".ui-collapsible");
var q=f.data("collapsible");if(q.options.contentTheme&&f.jqmData("collapsible-last")){f.find(q.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",l);f.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!l)}}).bind("expand",function(f){a(f.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")});h.each(function(){a(this).find(a.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});
h.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top");h.last().jqmData("collapsible-last",true).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom")}}});a(document).bind("pagecreate create",function(d){a(a.mobile.collapsibleset.prototype.options.initSelector,d.target).collapsibleset()})})(jQuery);
(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};a(document).bind("pagecreate create",function(d){a(":jqmData(role='fieldcontain')",d.target).fieldcontain()})})(jQuery);
(function(a){a.fn.grid=function(d){return this.each(function(){var e=a(this),h=a.extend({grid:null},d),f=e.children(),l={solo:1,a:2,b:3,c:4,d:5};h=h.grid;if(!h)if(f.length<=5)for(var q in l){if(l[q]===f.length)h=q}else h="a";l=l[h];e.addClass("ui-grid-"+h);f.filter(":nth-child("+l+"n+1)").addClass("ui-block-a");l>1&&f.filter(":nth-child("+l+"n+2)").addClass("ui-block-b");l>2&&f.filter(":nth-child(3n+3)").addClass("ui-block-c");l>3&&f.filter(":nth-child(4n+4)").addClass("ui-block-d");l>4&&f.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);
(function(a,d){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var e=this.element,h=e.find("a"),f=h.filter(":jqmData(icon)").length?this.options.iconpos:d;e.addClass("ui-navbar").attr("role","navigation").find("ul").grid({grid:this.options.grid});f||e.addClass("ui-navbar-noicons");h.buttonMarkup({corners:false,shadow:false,iconpos:f});e.delegate("a","vclick",function(l){if(!a(l.target).hasClass("ui-disabled")){h.not(".ui-state-persist").removeClass(a.mobile.activeBtnClass);
a(this).addClass(a.mobile.activeBtnClass)}})}});a(document).bind("pagecreate create",function(e){a(a.mobile.navbar.prototype.options.initSelector,e.target).navbar()})})(jQuery);
(function(a){var d={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var e=this;e.element.addClass(function(h,f){return f+" ui-listview "+(e.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"")});e.refresh(true)},_removeCorners:function(e,h){e=e.add(e.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));if(h==="top")e.removeClass("ui-corner-top ui-corner-tr ui-corner-tl");
else h==="bottom"?e.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):e.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(e){var h,f;if(this.options.inset){h=this.element.children("li");f=e?h.not(".ui-screen-hidden"):h.filter(":visible");this._removeCorners(h);h=f.first().addClass("ui-corner-top");h.add(h.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl");
f=f.last().addClass("ui-corner-bottom");f.add(f.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")}e||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(e,h,f,l){var q={};for(q[f]=q[l]=true;e;){if(q[e.nodeName])return e;e=e[h]}return null},_getChildrenByTagName:function(e,h,f){var l=[],q={};q[h]=q[f]=true;for(e=e.firstChild;e;){q[e.nodeName]&&l.push(e);e=e.nextSibling}return a(l)},_addThumbClasses:function(e){var h,
f,l=e.length;for(h=0;h<l;h++){f=a(this._findFirstElementByTagName(e[h].firstChild,"nextSibling","img","IMG"));if(f.length){f.addClass("ui-li-thumb");a(this._findFirstElementByTagName(f[0].parentNode,"parentNode","li","LI")).addClass(f.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")}}},refresh:function(e){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var h=this.options,f=this.element,l=f.jqmData("dividertheme")||h.dividerTheme,q=f.jqmData("splittheme"),o=f.jqmData("spliticon"),
r=this._getChildrenByTagName(f[0],"li","LI"),u=a.support.cssPseudoElement||!a.nodeName(f[0],"ol")?0:1,v={},F,A,H,z,Q;u&&f.find(".ui-li-dec").remove();if(!h.theme)h.theme=a.mobile.getInheritedTheme(this.element,"c");for(var B=0,D=r.length;B<D;B++){F=r.eq(B);A="ui-li";if(e||!F.hasClass("ui-li")){H=F.jqmData("theme")||h.theme;z=this._getChildrenByTagName(F[0],"a","A");if(z.length){Q=F.jqmData("icon");F.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:z.length>1||Q===false?
false:Q||"arrow-r",theme:H});Q!=false&&z.length==1&&F.addClass("ui-li-has-arrow");z.first().addClass("ui-link-inherit");if(z.length>1){A+=" ui-li-has-alt";z=z.last();Q=q||z.jqmData("theme")||h.splitTheme;z.appendTo(F).attr("title",z.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:H,icon:false,iconpos:false}).find(".ui-btn-inner").append(a(document.createElement("span")).buttonMarkup({shadow:true,corners:true,theme:Q,iconpos:"notext",icon:o||z.jqmData("icon")||
h.splitIcon}))}}else if(F.jqmData("role")==="list-divider"){A+=" ui-li-divider ui-btn ui-bar-"+l;F.attr("role","heading");if(u)u=1}else A+=" ui-li-static ui-body-"+H}if(u&&A.indexOf("ui-li-divider")<0){H=F.is(".ui-li-static:first")?F:F.find(".ui-link-inherit");H.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+u++ +". </span>")}v[A]||(v[A]=[]);v[A].push(F[0])}for(A in v)a(v[A]).addClass(A).children(".ui-btn-inner").addClass(A);f.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var K=
a(this);K.prependTo(K.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(f.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(r);this._addThumbClasses(f.find(".ui-link-inherit"));this._refreshCorners(e)},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var e=this.element,h=e.closest(".ui-page"),f=h.jqmData("url"),l=f||h[0][a.expando],
q=e.attr("id"),o=this.options,r="data-"+a.mobile.ns,u=this,v=h.find(":jqmData(role='footer')").jqmData("id"),F;if(typeof d[l]==="undefined")d[l]=-1;q=q||++d[l];a(e.find("li>ul, li>ol").toArray().reverse()).each(function(A){var H=a(this),z=H.attr("id")||q+"-"+A;A=H.parent();var Q=a(H.prevAll().toArray().reverse());Q=Q.length?Q:a("<span>"+a.trim(A.contents()[0].nodeValue)+"</span>");var B=Q.first().getEncodedText();z=(f||"")+"&"+a.mobile.subPageUrlKey+"="+z;var D=H.jqmData("theme")||o.theme,K=H.jqmData("counttheme")||
e.jqmData("counttheme")||o.countTheme;F=true;H.detach().wrap("<div "+r+"role='page' "+r+"url='"+z+"' "+r+"theme='"+D+"' "+r+"count-theme='"+K+"'><div "+r+"role='content'></div></div>").parent().before("<div "+r+"role='header' "+r+"theme='"+o.headerTheme+"'><div class='ui-title'>"+B+"</div></div>").after(v?a("<div "+r+"role='footer' "+r+"id='"+v+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();H=A.find("a:first");H.length||(H=a("<a/>").html(Q||B).prependTo(A.empty()));H.attr("href","#"+z)}).listview();
F&&h.is(":jqmData(external-page='true')")&&h.data("page").options.domCache===false&&h.unbind("pagehide.remove").bind("pagehide.remove",function(A,H){if(A=H.nextPage){H=A.jqmData("url");if(H.indexOf(f+"&"+a.mobile.subPageUrlKey)!==0){u.childPages().remove();h.remove()}}})},childPages:function(){var e=this.parentPage.jqmData("url");return a(":jqmData(url^='"+e+"&"+a.mobile.subPageUrlKey+"')")}});a(document).bind("pagecreate create",function(e){a(a.mobile.listview.prototype.options.initSelector,e.target).listview()})})(jQuery);
(function(a){a.mobile.listview.prototype.options.filter=false;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";a.mobile.listview.prototype.options.filterCallback=function(d,e){return d.toLowerCase().indexOf(e)===-1};a(document).delegate(":jqmData(role='listview')","listviewcreate",function(){var d=a(this),e=d.data("listview");if(e.options.filter){var h=a("<form>",{"class":"ui-listview-filter ui-bar-"+e.options.filterTheme,
role:"search"});a("<input>",{placeholder:e.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var f=a(this),l=this.value.toLowerCase(),q=null;q=f.jqmData("lastval")+"";var o=false,r="";f.jqmData("lastval",l);q=l.length<q.length||l.indexOf(q)!==0?d.children():d.children(":not(.ui-screen-hidden)");if(l){for(var u=q.length-1;u>=0;u--){f=a(q[u]);r=f.jqmData("filtertext")||f.text();if(f.is("li:jqmData(role=list-divider)")){f.toggleClass("ui-filter-hidequeue",
!o);o=false}else if(e.options.filterCallback(r,l))f.toggleClass("ui-filter-hidequeue",true);else o=true}q.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);q.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else q.toggleClass("ui-screen-hidden",false);e._refreshCorners()}).appendTo(h).textinput();a(this).jqmData("inset")&&h.addClass("ui-listview-filter-inset");h.bind("submit",function(){return false}).insertBefore(d)}})})(jQuery);
(function(a){a(document).bind("pagecreate create",function(d){a(":jqmData(role='nojs')",d.target).addClass("ui-nojs")})})(jQuery);
(function(a,d){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var e=this,h=this.element,f=h.closest("form,fieldset,:jqmData(role='page')").find("label").filter("[for='"+h[0].id+"']"),l=h.attr("type"),q=l+"-on",o=l+"-off",r=h.parents(":jqmData(type='horizontal')").length?d:o;if(!(l!=="checkbox"&&l!=="radio")){a.extend(this,{label:f,inputtype:l,checkedClass:"ui-"+q+(r?"":" "+a.mobile.activeBtnClass),
uncheckedClass:"ui-"+o,checkedicon:"ui-icon-"+q,uncheckedicon:"ui-icon-"+o});if(!this.options.theme)this.options.theme=this.element.jqmData("theme");f.buttonMarkup({theme:this.options.theme,icon:r,shadow:false});h.add(f).wrapAll("<div class='ui-"+l+"'></div>");f.bind({vmouseover:function(u){a(this).parent().is(".ui-disabled")&&u.stopPropagation()},vclick:function(u){if(h.is(":disabled"))u.preventDefault();else{e._cacheVals();h.prop("checked",l==="radio"&&true||!h.prop("checked"));h.triggerHandler("click");
e._getInputSet().not(h).prop("checked",false);e._updateAll();return false}}});h.bind({vmousedown:function(){e._cacheVals()},vclick:function(){var u=a(this);if(u.is(":checked")){u.prop("checked",true);e._getInputSet().not(u).prop("checked",false)}else u.prop("checked",false);e._updateAll()},focus:function(){f.addClass("ui-focus")},blur:function(){f.removeClass("ui-focus")}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){var e=a(this);e.jqmData("cacheVal",e.is(":checked"))})},
_getInputSet:function(){if(this.inputtype=="checkbox")return this.element;return this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element.attr("name")+"'][type='"+this.inputtype+"']")},_updateAll:function(){var e=this;this._getInputSet().each(function(){var h=a(this);if(h.is(":checked")||e.inputtype==="checkbox")h.trigger("change")}).checkboxradio("refresh")},refresh:function(){var e=this.element,h=this.label,f=h.find(".ui-icon");if(a(e[0]).prop("checked")){h.addClass(this.checkedClass).removeClass(this.uncheckedClass);
f.addClass(this.checkedicon).removeClass(this.uncheckedicon)}else{h.removeClass(this.checkedClass).addClass(this.uncheckedClass);f.removeClass(this.checkedicon).addClass(this.uncheckedicon)}e.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(e){a.mobile.checkboxradio.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a,d){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:null,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']"},_create:function(){var e=this.element,h=this.options,f,l;if(e[0].tagName==="A")e.hasClass("ui-btn")||e.buttonMarkup();else{this.button=a("<div></div>").text(e.text()||e.val()).insertBefore(e).buttonMarkup({theme:h.theme,icon:h.icon,iconpos:h.iconpos,inline:h.inline,
corners:h.corners,shadow:h.shadow,iconshadow:h.iconshadow}).append(e.addClass("ui-btn-hidden"));h=e.attr("type");f=e.attr("name");h!=="button"&&h!=="reset"&&f&&e.bind("vclick",function(){if(l===d){l=a("<input>",{type:"hidden",name:e.attr("name"),value:e.attr("value")}).insertBefore(e);a(document).one("submit",function(){l.remove();l=d})}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",
false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var e=this.element;e.prop("disabled")?this.disable():this.enable();this.button.data("textWrapper").text(e.text()||e.val())}});a(document).bind("pagecreate create",function(e){a.mobile.button.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a,d){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')"},_create:function(){var e=this,h=this.element,f=a.mobile.getInheritedTheme(h,"c"),l=this.options.theme||f,q=this.options.trackTheme||f,o=h[0].nodeName.toLowerCase();f=o=="select"?"ui-slider-switch":"";var r=h.attr("id"),u=r+"-label";r=a("[for='"+r+"']").attr("id",u);var v=function(){return o=="input"?parseFloat(h.val()):
h[0].selectedIndex},F=o=="input"?parseFloat(h.attr("min")):0,A=o=="input"?parseFloat(h.attr("max")):h.find("option").length-1,H=window.parseFloat(h.attr("step")||1),z=a("<div class='ui-slider "+f+" ui-btn-down-"+q+" ui-btn-corner-all' role='application'></div>"),Q=a("<a href='#' class='ui-slider-handle'></a>").appendTo(z).buttonMarkup({corners:true,theme:l,shadow:true}).attr({role:"slider","aria-valuemin":F,"aria-valuemax":A,"aria-valuenow":v(),"aria-valuetext":v(),title:v(),"aria-labelledby":u});
a.extend(this,{slider:z,handle:Q,dragging:false,beforeStart:null,userModified:false,mouseMoved:false});if(o=="select"){z.wrapInner("<div class='ui-slider-inneroffset'></div>");Q.addClass("ui-slider-handle-snapping");h.find("option");h.find("option").each(function(B){var D=!B?"b":"a",K=!B?"right":"left";B=!B?" ui-btn-down-"+q:" "+a.mobile.activeBtnClass;a("<div class='ui-slider-labelbg ui-slider-labelbg-"+D+B+" ui-btn-corner-"+K+"'></div>").prependTo(z);a("<span class='ui-slider-label ui-slider-label-"+
D+B+" ui-btn-corner-"+K+"' role='img'>"+a(this).getEncodedText()+"</span>").prependTo(Q)})}r.addClass("ui-slider");h.addClass(o==="input"?"ui-slider-input":"ui-slider-switch").change(function(){e.mouseMoved||e.refresh(v(),true)}).keyup(function(){e.refresh(v(),true,true)}).blur(function(){e.refresh(v(),true)});a(document).bind("vmousemove",function(B){if(e.dragging){e.mouseMoved=true;o==="select"&&Q.removeClass("ui-slider-handle-snapping");e.refresh(B);e.userModified=e.beforeStart!==h[0].selectedIndex;
return false}});z.bind("vmousedown",function(B){e.dragging=true;e.userModified=false;e.mouseMoved=false;if(o==="select")e.beforeStart=h[0].selectedIndex;e.refresh(B);return false});z.add(document).bind("vmouseup",function(){if(e.dragging){e.dragging=false;if(o==="select"){Q.addClass("ui-slider-handle-snapping");if(e.mouseMoved)e.userModified?e.refresh(e.beforeStart==0?1:0):e.refresh(e.beforeStart);else e.refresh(e.beforeStart==0?1:0)}return e.mouseMoved=false}});z.insertAfter(h);this.handle.bind("vmousedown",
function(){a(this).focus()}).bind("vclick",false);this.handle.bind("keydown",function(B){var D=v();if(!e.options.disabled){switch(B.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:B.preventDefault();if(!e._keySliding){e._keySliding=true;a(this).addClass("ui-state-active")}break}switch(B.keyCode){case a.mobile.keyCode.HOME:e.refresh(F);
break;case a.mobile.keyCode.END:e.refresh(A);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:e.refresh(D+H);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:e.refresh(D-H);break}}}).keyup(function(){if(e._keySliding){e._keySliding=false;a(this).removeClass("ui-state-active")}});this.refresh(d,d,true)},refresh:function(e,h,f){if(this.options.disabled||this.element.attr("disabled"))this.disable();var l=this.element,
q=l[0].nodeName.toLowerCase(),o=q==="input"?parseFloat(l.attr("min")):0,r=q==="input"?parseFloat(l.attr("max")):l.find("option").length-1,u=q==="input"&&parseFloat(l.attr("step"))>0?parseFloat(l.attr("step")):1;if(typeof e==="object"){e=e;if(!this.dragging||e.pageX<this.slider.offset().left-8||e.pageX>this.slider.offset().left+this.slider.width()+8)return;e=Math.round((e.pageX-this.slider.offset().left)/this.slider.width()*100)}else{if(e==null)e=q==="input"?parseFloat(l.val()||0):l[0].selectedIndex;
e=(parseFloat(e)-o)/(r-o)*100}if(!isNaN(e)){if(e<0)e=0;if(e>100)e=100;var v=e/100*(r-o)+o,F=(v-o)%u;v=v-F;if(Math.abs(F)*2>=u)v+=F>0?u:-u;v=parseFloat(v.toFixed(5));if(v<o)v=o;if(v>r)v=r;this.handle.css("left",e+"%");this.handle.attr({"aria-valuenow":q==="input"?v:l.find("option").eq(v).attr("value"),"aria-valuetext":q==="input"?v:l.find("option").eq(v).getEncodedText(),title:q==="input"?v:l.find("option").eq(v).getEncodedText()});if(q==="select")v===0?this.slider.addClass("ui-slider-switch-a").removeClass("ui-slider-switch-b"):
this.slider.addClass("ui-slider-switch-b").removeClass("ui-slider-switch-a");if(!f){f=false;if(q==="input"){f=l.val()!==v;l.val(v)}else{f=l[0].selectedIndex!==v;l[0].selectedIndex=v}!h&&f&&l.trigger("change")}}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.slider.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",
true)}});a(document).bind("pagecreate create",function(e){a.mobile.slider.prototype.enhanceWithin(e.target)})})(jQuery);
(function(a){a.widget("mobile.textinput",a.mobile.widget,{options:{theme:null,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])"},_create:function(){var d=this.element,
e=this.options.theme||a.mobile.getInheritedTheme(this.element,"c"),h=" ui-body-"+e,f,l;a("label[for='"+d.attr("id")+"']").addClass("ui-input-text");f=d.addClass("ui-input-text ui-body-"+e);if(typeof d[0].autocorrect!=="undefined"&&!a.support.touchOverflow){d[0].setAttribute("autocorrect","off");d[0].setAttribute("autocomplete","off")}if(d.is("[type='search'],:jqmData(type='search')")){f=d.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+h+"'></div>").parent();
l=a("<a href='#' class='ui-input-clear' title='clear text'>clear text</a>").tap(function(u){d.val("").focus();d.trigger("change");l.addClass("ui-input-clear-hidden");u.preventDefault()}).appendTo(f).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true});function q(){setTimeout(function(){l.toggleClass("ui-input-clear-hidden",!d.val())},0)}q();d.bind("paste cut keyup focus change blur",q)}else d.addClass("ui-corner-all ui-shadow-inset"+h);d.focus(function(){f.addClass("ui-focus")}).blur(function(){f.removeClass("ui-focus")});
if(d.is("textarea")){var o=function(){var u=d[0].scrollHeight;d[0].clientHeight<u&&d.height(u+15)},r;d.keyup(function(){clearTimeout(r);r=setTimeout(o,100)});a(document).one("pagechange",o);a.trim(d.val())&&a(window).load(o)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():
this.element).removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(d){a.mobile.textinput.prototype.enhanceWithin(d.target)})})(jQuery);
(function(a){var d=function(e){var h=e.selectID,f=e.label,l=e.select.closest(".ui-page"),q=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(l),o=e._selectOptions(),r=e.isMultiple=e.select[0].multiple,u=h+"-button",v=h+"-menu",F=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+"theme='"+e.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+e.options.overlayTheme+"'><div data-"+a.mobile.ns+"role='header'><div class='ui-title'>"+f.getEncodedText()+"</div></div><div data-"+
a.mobile.ns+"role='content'></div></div>").appendTo(a.mobile.pageContainer).page(),A=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+e.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(q),H=a("<ul>",{"class":"ui-selectmenu-list",id:v,role:"listbox","aria-labelledby":u}).attr("data-"+a.mobile.ns+"theme",e.options.theme).appendTo(A),z=a("<div>",{"class":"ui-header ui-bar-"+e.options.theme}).prependTo(A),Q=a("<h1>",{"class":"ui-title"}).appendTo(z),
B=a("<a>",{text:e.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(z).buttonMarkup(),D=F.find(".ui-content"),K=F.find(".ui-header a");a.extend(e,{select:e.select,selectID:h,buttonId:u,menuId:v,thisPage:l,menuPage:F,label:f,screen:q,selectOptions:o,isMultiple:r,theme:e.options.theme,listbox:A,list:H,header:z,headerTitle:Q,headerClose:B,menuPageContent:D,menuPageClose:K,placeholder:"",build:function(){var I=
this;I.refresh();I.select.attr("tabindex","-1").focus(function(){a(this).blur();I.button.focus()});I.button.bind("vclick keydown",function(U){if(U.type=="vclick"||U.keyCode&&(U.keyCode===a.mobile.keyCode.ENTER||U.keyCode===a.mobile.keyCode.SPACE)){I.open();U.preventDefault()}});I.list.attr("role","listbox").delegate(".ui-li>a","focusin",function(){a(this).attr("tabindex","0")}).delegate(".ui-li>a","focusout",function(){a(this).attr("tabindex","-1")}).delegate("li:not(.ui-disabled, .ui-li-divider)",
"click",function(U){var Z=I.select[0].selectedIndex,ba=I.list.find("li:not(.ui-li-divider)").index(this),P=I._selectOptions().eq(ba)[0];P.selected=I.isMultiple?!P.selected:true;I.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",P.selected).toggleClass("ui-icon-checkbox-off",!P.selected);if(I.isMultiple||Z!==ba)I.select.trigger("change");I.isMultiple||I.close();U.preventDefault()}).keydown(function(U){var Z=a(U.target),ba=Z.closest("li");switch(U.keyCode){case 38:U=ba.prev();
if(U.length){Z.blur().attr("tabindex","-1");U.find("a").first().focus()}return false;case 40:U=ba.next();if(U.length){Z.blur().attr("tabindex","-1");U.find("a").first().focus()}return false;case 13:case 32:Z.trigger("click");return false}});I.menuPage.bind("pagehide",function(){I.list.appendTo(I.listbox);I._focusButton();a.mobile._bindPageRemove.call(I.thisPage)});I.screen.bind("vclick",function(){I.close()});I.headerClose.click(function(){if(I.menuType=="overlay"){I.close();return false}});I.thisPage.addDependents(this.menuPage)},
_isRebuildRequired:function(){var I=this.list.find("li");return this._selectOptions().text()!==I.text()},refresh:function(I){var U=this;this._selectOptions();this.selected();var Z=this.selectedIndices();if(I||this._isRebuildRequired())U._buildList();U.setButtonText();U.setButtonCount();U.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",false).each(function(ba){if(a.inArray(ba,Z)>-1){ba=a(this);ba.attr("aria-selected",true);U.isMultiple?ba.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):
ba.addClass(a.mobile.activeBtnClass)}})},close:function(){if(!(this.options.disabled||!this.isOpen)){var I=this;if(I.menuType=="page")window.history.back();else{I.screen.addClass("ui-screen-hidden");I.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in");I.list.appendTo(I.listbox);I._focusButton()}I.isOpen=false}},open:function(){function I(){U.list.find(a.mobile.activeBtnClass).focus()}if(!this.options.disabled){var U=this,Z=U.list.parent().outerHeight(),ba=U.list.parent().outerWidth(),
P=a(".ui-page-active"),S=a.support.touchOverflow&&a.mobile.touchOverflowEnabled;P=P.is(".ui-native-fixed")?P.find(".ui-content"):P;var da=S?P.scrollTop():a(window).scrollTop(),X=U.button.offset().top,ja=a(window).height();S=a(window).width();U.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){U.button.removeClass(a.mobile.activeBtnClass)},300);if(Z>ja-80||!a.support.scrollTop){U.thisPage.unbind("pagehide.remove");da==0&&X>ja&&U.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",
X)});U.menuPage.one("pageshow",function(){a(window).one("silentscroll",function(){I()});U.isOpen=true});U.menuType="page";U.menuPageContent.append(U.list);U.menuPage.find("div .ui-title").text(U.label.text());a.mobile.changePage(U.menuPage,{transition:a.mobile.defaultDialogTransition})}else{U.menuType="overlay";U.screen.height(a(document).height()).removeClass("ui-screen-hidden");var la=X-da,x=da+ja-X,L=Z/2;P=parseFloat(U.list.parent().css("max-width"));Z=la>Z/2&&x>Z/2?X+U.button.outerHeight()/2-
L:la>x?da+ja-Z-30:da+30;if(ba<P)P=(S-ba)/2;else{P=U.button.offset().left+U.button.outerWidth()/2-ba/2;if(P<30)P=30;else if(P+ba>S)P=S-ba-30}U.listbox.append(U.list).removeClass("ui-selectmenu-hidden").css({top:Z,left:P}).addClass("in");I();U.isOpen=true}}},_buildList:function(){var I=this,U=this.options,Z=this.placeholder,ba=[],P=[],S=I.isMultiple?"checkbox-off":"false";I.list.empty().filter(".ui-listview").listview("destroy");I.select.find("option").each(function(da){var X=a(this),ja=X.parent(),
la=X.getEncodedText(),x="<a href='#'>"+la+"</a>",L=[],W=[];if(ja.is("optgroup")){ja=ja.attr("label");if(a.inArray(ja,ba)===-1){P.push("<li data-"+a.mobile.ns+"role='list-divider'>"+ja+"</li>");ba.push(ja)}}if(!this.getAttribute("value")||la.length==0||X.jqmData("placeholder")){U.hidePlaceholderMenuItems&&L.push("ui-selectmenu-placeholder");Z=I.placeholder=la}if(this.disabled){L.push("ui-disabled");W.push("aria-disabled='true'")}P.push("<li data-"+a.mobile.ns+"option-index='"+da+"' data-"+a.mobile.ns+
"icon='"+S+"' class='"+L.join(" ")+"' "+W.join(" ")+">"+x+"</li>")});I.list.html(P.join(" "));I.list.find("li").attr({role:"option",tabindex:"-1"}).first().attr("tabindex","0");this.isMultiple||this.headerClose.hide();!this.isMultiple&&!Z.length?this.header.hide():this.headerTitle.text(this.placeholder);I.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a(document).delegate("select","selectmenubeforecreate",
function(){var e=a(this).data("selectmenu");e.options.nativeMenu||d(e)})})(jQuery);
(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:null,corners:true,shadow:true,iconshadow:true,menuPageTheme:"b",overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,initSelector:"select:not(:jqmData(role='slider'))"},_button:function(){return a("<div/>")},_setDisabled:function(d){this.element.attr("disabled",d);this.button.attr("aria-disabled",d);return this._setOption("disabled",d)},_focusButton:function(){var d=
this;setTimeout(function(){d.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){this.select=this.element.wrap("<div class='ui-select'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=
this._button();var d=this,e=this.options,h=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:e.theme,icon:e.icon,iconpos:e.iconpos,inline:e.inline,corners:e.corners,shadow:e.shadow,iconshadow:e.iconshadow});e.nativeMenu&&window.opera&&window.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(h.addClass("ui-li-has-count"));
if(e.disabled||this.element.attr("disabled"))this.disable();this.select.change(function(){d.refresh()});this.build()},build:function(){var d=this;this.select.appendTo(d.button).bind("vmousedown",function(){d.button.addClass(a.mobile.activeBtnClass)}).bind("focus vmouseover",function(){d.button.trigger("vmouseover")}).bind("vmousemove",function(){d.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){d.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",
function(){d.button.removeClass("ui-btn-down-"+d.options.theme)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var d=this;return this.selected().map(function(){return d._selectOptions().index(this)}).get()},setButtonText:function(){var d=this,e=this.selected();this.button.find(".ui-btn-text").text(function(){if(!d.isMultiple)return e.text();return e.length?e.map(function(){return a(this).text()}).get().join(", "):d.placeholder})},setButtonCount:function(){var d=
this.selected();if(this.isMultiple)this.buttonCount[d.length>1?"show":"hide"]().text(d.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});a(document).bind("pagecreate create",function(d){a.mobile.selectmenu.prototype.enhanceWithin(d.target)})})(jQuery);
(function(a,d){function e(f){for(var l;f;){if((l=typeof f.className==="string"&&f.className+" ")&&l.indexOf("ui-btn ")>-1&&l.indexOf("ui-disabled ")<0)break;f=f.parentNode}return f}a.fn.buttonMarkup=function(f){f=f||{};for(var l=0;l<this.length;l++){var q=this.eq(l),o=q[0],r=a.extend({},a.fn.buttonMarkup.defaults,{icon:f.icon!==d?f.icon:q.jqmData("icon"),iconpos:f.iconpos!==d?f.iconpos:q.jqmData("iconpos"),theme:f.theme!==d?f.theme:q.jqmData("theme"),inline:f.inline!==d?f.inline:q.jqmData("inline"),
shadow:f.shadow!==d?f.shadow:q.jqmData("shadow"),corners:f.corners!==d?f.corners:q.jqmData("corners"),iconshadow:f.iconshadow!==d?f.iconshadow:q.jqmData("iconshadow")},f),u="ui-btn-inner",v,F,A=document.createElement(r.wrapperEls),H=document.createElement(r.wrapperEls),z=r.icon?document.createElement("span"):null;if(!(o.tagName==="INPUT"&&q.jqmData("role")==="button"))if(o.tagName==="BUTTON")a(o.parentNode).hasClass("ui-btn")||a(o).button();else{h&&h();if(!r.theme)r.theme=a.mobile.getInheritedTheme(q,
"c");v="ui-btn ui-btn-up-"+r.theme;if(r.inline)v+=" ui-btn-inline";if(r.icon){r.icon="ui-icon-"+r.icon;r.iconpos=r.iconpos||"left";F="ui-icon "+r.icon;if(r.iconshadow)F+=" ui-icon-shadow"}if(r.iconpos){v+=" ui-btn-icon-"+r.iconpos;r.iconpos=="notext"&&!q.attr("title")&&q.attr("title",q.getEncodedText())}if(r.corners){v+=" ui-btn-corner-all";u+=" ui-btn-corner-all"}if(r.shadow)v+=" ui-shadow";o.setAttribute("data-"+a.mobile.ns+"theme",r.theme);q.addClass(v);A.className=u;H.className="ui-btn-text";
A.appendChild(H);if(z){z.className=F;A.appendChild(z)}for(;o.firstChild;)H.appendChild(o.firstChild);o.appendChild(A);a.data(o,"textWrapper",a(H))}}return this};a.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,inline:false,wrapperEls:"span"};var h=function(){a(document).bind({vmousedown:function(f){f=e(f.target);var l;if(f){f=a(f);l=f.attr("data-"+a.mobile.ns+"theme");f.removeClass("ui-btn-up-"+l).addClass("ui-btn-down-"+l)}},"vmousecancel vmouseup":function(f){f=e(f.target);var l;
if(f){f=a(f);l=f.attr("data-"+a.mobile.ns+"theme");f.removeClass("ui-btn-down-"+l).addClass("ui-btn-up-"+l)}},"vmouseover focus":function(f){f=e(f.target);var l;if(f){f=a(f);l=f.attr("data-"+a.mobile.ns+"theme");f.removeClass("ui-btn-up-"+l).addClass("ui-btn-hover-"+l)}},"vmouseout blur":function(f){f=e(f.target);var l;if(f){f=a(f);l=f.attr("data-"+a.mobile.ns+"theme");f.removeClass("ui-btn-hover-"+l+" ui-btn-down-"+l).addClass("ui-btn-up-"+l)}}});h=null};a(document).bind("pagecreate create",function(f){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",
f.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);
(function(a){a.fn.controlgroup=function(d){return this.each(function(){function e(o){o.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(q[0]).end().last().addClass(q[1]).addClass("ui-controlgroup-last")}var h=a(this),f=a.extend({direction:h.jqmData("type")||"vertical",shadow:false,excludeInvisible:true},d),l=h.children("legend"),q=f.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];h.find("input").first().attr("type");if(l.length){h.wrapInner("<div class='ui-controlgroup-controls'></div>");
a("<div role='heading' class='ui-controlgroup-label'>"+l.html()+"</div>").insertBefore(h.children(0));l.remove()}h.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+f.direction);e(h.find(".ui-btn"+(f.excludeInvisible?":visible":"")));e(h.find(".ui-btn-inner"));f.shadow&&h.addClass("ui-shadow")})};a(document).bind("pagecreate create",function(d){a(":jqmData(role='controlgroup')",d.target).controlgroup({excludeInvisible:false})})})(jQuery);(function(a){a(document).bind("pagecreate create",function(d){a(d.target).find("a").not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);
(function(a,d){a.fn.fixHeaderFooter=function(){if(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;return this.each(function(){var e=a(this);e.jqmData("fullscreen")&&e.addClass("ui-page-fullscreen");e.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade");e.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})};a.mobile.fixedToolbars=function(){function e(){if(!r&&o==="overlay"){q||
a.mobile.fixedToolbars.hide(true);a.mobile.fixedToolbars.startShowTimer()}}function h(A){var H=0,z,Q;if(A){Q=document.body;z=A.offsetParent;for(H=A.offsetTop;A&&A!=Q;){H+=A.scrollTop||0;if(A==z){H+=z.offsetTop;z=A.offsetParent}A=A.parentNode}}return H}function f(A){var H=a(window).scrollTop(),z=h(A[0]),Q=A.css("top")=="auto"?0:parseFloat(A.css("top")),B=window.innerHeight,D=A.outerHeight(),K=A.parents(".ui-page:not(.ui-page-fullscreen)").length;if(A.is(".ui-header-fixed")){Q=H-z+Q;if(Q<z)Q=0;return A.css("top",
K?Q:H)}else{Q=H+B-D-(z-Q);return A.css("top",K?Q:H+B-D)}}if(!(!a.support.scrollTop||a.support.touchOverflow&&a.mobile.touchOverflowEnabled)){var l,q,o="inline",r=false,u=null,v=false,F=true;a(function(){var A=a(document),H=a(window);A.bind("vmousedown",function(){if(F)u=o}).bind("vclick",function(z){if(F)if(!a(z.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length)if(!v){a.mobile.fixedToolbars.toggle(u);u=null}}).bind("silentscroll",e);(A.scrollTop()===
0?H:A).bind("scrollstart",function(){v=true;if(u===null)u=o;var z=u=="overlay";if(r=z||!!q){a.mobile.fixedToolbars.clearShowTimer();z&&a.mobile.fixedToolbars.hide(true)}}).bind("scrollstop",function(z){if(!a(z.target).closest("a,input,textarea,select,button,label,.ui-header-fixed,.ui-footer-fixed").length){v=false;if(r){a.mobile.fixedToolbars.startShowTimer();r=false}u=null}});H.bind("resize updatelayout",e)});a(document).delegate(".ui-page","pagebeforeshow",function(A,H){A=a(A.target).find(":jqmData(role='footer')");
var z=A.data("id");H=(H=H.prevPage)&&H.find(":jqmData(role='footer')");H=H.length&&H.jqmData("id")===z;if(z&&H){l=A;f(l.removeClass("fade in out").appendTo(a.mobile.pageContainer))}}).delegate(".ui-page","pageshow",function(){var A=a(this);l&&l.length&&setTimeout(function(){f(l.appendTo(A).addClass("fade"));l=null},500);a.mobile.fixedToolbars.show(true,this)});a(document).delegate(".ui-collapsible-contain","collapse expand",e);return{show:function(A,H){a.mobile.fixedToolbars.clearShowTimer();o="overlay";
return(H?a(H):a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var z=a(this),Q=a(window).scrollTop(),B=h(z[0]),D=window.innerHeight,K=z.outerHeight();Q=z.is(".ui-header-fixed")&&Q<=B+K||z.is(".ui-footer-fixed")&&B<=Q+D;z.addClass("ui-fixed-overlay").removeClass("ui-fixed-inline");!Q&&!A&&z.animationComplete(function(){z.removeClass("in")}).addClass("in");f(z)})},hide:function(A){o="inline";
return(a.mobile.activePage?a.mobile.activePage:a(".ui-page-active")).children(".ui-header-fixed:first, .ui-footer-fixed:not(.ui-footer-duplicate):last").each(function(){var H=a(this),z=H.css("top");z=z=="auto"?0:parseFloat(z);H.addClass("ui-fixed-inline").removeClass("ui-fixed-overlay");if(z<0||H.is(".ui-header-fixed")&&z!==0)if(A)H.css("top",0);else H.css("top")!=="auto"&&parseFloat(H.css("top"))!==0&&H.animationComplete(function(){H.removeClass("out reverse").css("top",0)}).addClass("out reverse")})},
startShowTimer:function(){a.mobile.fixedToolbars.clearShowTimer();var A=[].slice.call(arguments);q=setTimeout(function(){q=d;a.mobile.fixedToolbars.show.apply(null,A)},100)},clearShowTimer:function(){q&&clearTimeout(q);q=d},toggle:function(A){if(A)o=A;return o==="overlay"?a.mobile.fixedToolbars.hide():a.mobile.fixedToolbars.show()},setTouchToggleEnabled:function(A){F=A}}}}();a(document).bind("pagecreate create",function(e){a(":jqmData(position='fixed')",e.target).length&&a(e.target).each(function(){if(!a.support.scrollTop||
a.support.touchOverflow&&a.mobile.touchOverflowEnabled)return this;var h=a(this);h.jqmData("fullscreen")&&h.addClass("ui-page-fullscreen");h.find(".ui-header:jqmData(position='fixed')").addClass("ui-header-fixed ui-fixed-inline fade");h.find(".ui-footer:jqmData(position='fixed')").addClass("ui-footer-fixed ui-fixed-inline fade")})})})(jQuery);
(function(a){a.mobile.touchOverflowEnabled=false;a.mobile.touchOverflowZoomEnabled=false;a(document).bind("pagecreate",function(d){if(a.support.touchOverflow&&a.mobile.touchOverflowEnabled){d=a(d.target);d.is(":jqmData(role='page')")&&d.each(function(){var e=a(this),h=e.find(":jqmData(role='header'), :jqmData(role='footer')").filter(":jqmData(position='fixed')"),f=e.jqmData("fullscreen"),l=h.length?e.find(".ui-content"):e;e.addClass("ui-mobile-touch-overflow");l.bind("scrollstop",function(){l.scrollTop()>
0&&window.scrollTo(0,a.mobile.defaultHomeScroll)});if(h.length){e.addClass("ui-native-fixed");if(f){e.addClass("ui-native-fullscreen");h.addClass("fade in");a(document).bind("vclick",function(){h.removeClass("ui-native-bars-hidden").toggleClass("in out").animationComplete(function(){a(this).not(".in").addClass("ui-native-bars-hidden")})})}}})}})})(jQuery);
(function(a,d){function e(){var q=a("meta[name='viewport']");q.length?q.attr("content",q.attr("content")+", user-scalable=no"):a("head").prepend("<meta>",{name:"viewport",content:"user-scalable=no"})}var h=a("html");a("head");var f=a(d);a(d.document).trigger("mobileinit");if(a.mobile.gradeA()){if(a.mobile.ajaxBlacklist)a.mobile.ajaxEnabled=false;h.addClass("ui-mobile ui-mobile-rendering");var l=a("<div class='ui-loader ui-body-a ui-corner-all'><span class='ui-icon ui-icon-loading spin'></span><h1></h1></div>");
a.extend(a.mobile,{showPageLoadingMsg:function(){if(a.mobile.loadingMessage){var q=a("."+a.mobile.activeBtnClass).first();l.find("h1").text(a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer).css({top:a.support.scrollTop&&f.scrollTop()+f.height()/2||q.length&&q.offset().top||100})}h.addClass("ui-loading")},hidePageLoadingMsg:function(){h.removeClass("ui-loading")},initializePage:function(){var q,o=a(":jqmData(role='page')");if(!o.length){q=a(":jqmData(role='dialog')");if(q.length){q.first().attr("data-"+
a.mobile.ns+"role","page");o=o.add(q.get().shift())}else o=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)}o.add(":jqmData(role='dialog')").each(function(){var r=a(this);r.jqmData("url")||r.attr("data-"+a.mobile.ns+"url",r.attr("id")||location.pathname+location.search)});a.mobile.firstPage=o.first();a.mobile.pageContainer=o.first().parent().addClass("ui-mobile-viewport");f.trigger("pagecontainercreate");a.mobile.showPageLoadingMsg();!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?
a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):f.trigger("hashchange",[true])}});a.support.touchOverflow&&a.mobile.touchOverflowEnabled&&!a.mobile.touchOverflowZoomEnabled&&e();a.mobile._registerInternalEvents();a(function(){d.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||a(d).scrollTop()===1?0:1;a.mobile.autoInitializePage&&a.mobile.initializePage();f.load(a.mobile.silentScroll)})}})(jQuery,this);steal.loaded("webapp/lib/jquery.mobile.js");
var FlashDetect=new (function(){var a=this;a.installed=false;a.raw="";a.major=-1;a.minor=-1;a.revision=-1;a.revisionStr="";var d=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(o){return e(o)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(o){var r="6,0,21";try{o.AllowScriptAccess="always";r=e(o)}catch(u){}return r}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(o){return e(o)}}],e=function(o){var r=-1;try{r=o.GetVariable("$version")}catch(u){}return r},h=function(o){var r=
-1;try{r=new ActiveXObject(o)}catch(u){r={activeXError:true}}return r},f=function(o){var r=o.split(",");return{raw:o,major:parseInt(r[0].split(" ")[1],10),minor:parseInt(r[1],10),revision:parseInt(r[2],10),revisionStr:r[2]}},l=function(o){var r=o.split(/ +/),u=r[2].split(/\./);r=r[3];return{raw:o,major:parseInt(u[0],10),minor:parseInt(u[1],10),revisionStr:r,revision:q(r)}},q=function(o){return parseInt(o.replace(/[a-zA-Z]/g,""),10)||a.revision};a.majorAtLeast=function(o){return a.major>=o};a.minorAtLeast=
function(o){return a.minor>=o};a.revisionAtLeast=function(o){return a.revision>=o};a.versionAtLeast=function(){var o=[a.major,a.minor,a.revision],r=Math.min(o.length,arguments.length);for(i=0;i<r;i++)if(o[i]>=arguments[i]){if(!(i+1<r&&o[i]==arguments[i]))return true}else return false};a.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var o=navigator.mimeTypes;if(o&&o["application/x-shockwave-flash"]&&o["application/x-shockwave-flash"].enabledPlugin&&o["application/x-shockwave-flash"].enabledPlugin.description){o=
o["application/x-shockwave-flash"].enabledPlugin.description;var r=l(o);a.raw=r.raw;a.major=r.major;a.minor=r.minor;a.revisionStr=r.revisionStr;a.revision=r.revision;a.installed=true}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){o=-1;for(var u=0;u<d.length&&o==-1;u++){r=h(d[u].name);if(!r.activeXError){a.installed=true;o=d[u].version(r);if(o!=-1){r=f(o);a.raw=r.raw;a.major=r.major;a.minor=r.minor;a.revision=r.revision;a.revisionStr=r.revisionStr}}}}}()});
FlashDetect.JS_RELEASE="1.0.4";steal.loaded("webapp/lib/flash_detect_min.js");var mejs=mejs||{};mejs.version="2.1.9";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg"]}]};
mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var d=document.createElement("div");d.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>';return d.firstChild.href},getScriptPath:function(a){for(var d=0,e,h="",f="",l,q=document.getElementsByTagName("script");d<q.length;d++){l=q[d].src;for(e=0;e<a.length;e++){f=a[e];if(l.indexOf(f)>-1){h=l.substring(0,
l.indexOf(f));break}}if(h!=="")break}return h},secondsToTimeCode:function(a,d){if(a=="Infinity")a=0;a=Math.round(a);var e,h=Math.floor(a/60);if(h>=60){e=Math.floor(h/60);h%=60}e=e===undefined?"00":e>=10?e:"0"+e;h=h>=10?h:"0"+h;a=Math.floor(a%60);a=a>=10?a:"0"+a;return(e>0||d===true?e+":":"")+h+":"+a},timeCodeToSeconds:function(a){a=a.split(":");return a[0]*60*60+a[1]*60+parseFloat(a[2].replace(",","."))}};
mejs.PluginDetector={hasPluginVersion:function(a,d){a=this.plugins[a];d[1]=d[1]||0;d[2]=d[2]||0;return a[0]>d[0]||a[0]==d[0]&&a[1]>d[1]||a[0]==d[0]&&a[1]==d[1]&&a[2]>=d[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,d,e,h,f){this.plugins[a]=this.detectPlugin(d,e,h,f)},detectPlugin:function(a,d,e,h){var f=[0,0,0],l;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[a]=="object"){if((e=this.nav.plugins[a].description)&&!(typeof this.nav.mimeTypes!=
"undefined"&&this.nav.mimeTypes[d]&&!this.nav.mimeTypes[d].enabledPlugin)){f=e.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(a=0;a<f.length;a++)f[a]=parseInt(f[a].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(l=new ActiveXObject(e))f=h(l)}catch(q){}return f}};
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var d=[];if(a=a.GetVariable("$version")){a=a.split(" ")[1].split(",");d=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]}return d});
mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var d=[0,0,0,0],e=function(h,f,l,q){for(;h.isVersionSupported(f[0]+"."+f[1]+"."+f[2]+"."+f[3]);)f[l]+=q;f[l]-=q};e(a,d,0,1);e(a,d,1,1);e(a,d,2,1E4);e(a,d,2,1E3);e(a,d,2,100);e(a,d,2,10);e(a,d,2,1);e(a,d,3,1);return d});
mejs.MediaFeatures={init:function(){var a=mejs.PluginDetector.nav,d=mejs.PluginDetector.ua.toLowerCase(),e,h=["source","track","audio","video"];this.isiPad=d.match(/ipad/i)!==null;this.isiPhone=d.match(/iphone/i)!==null;this.isAndroid=d.match(/android/i)!==null;this.isBustedAndroid=d.match(/android 2\.[12]/)!==null;this.isIE=a.appName.toLowerCase().indexOf("microsoft")!=-1;this.isChrome=d.match(/chrome/gi)!==null;this.isFirefox=d.match(/firefox/gi)!==null;for(a=0;a<h.length;a++)e=document.createElement(h[a]);
this.hasNativeFullScreen=typeof e.webkitRequestFullScreen!=="undefined";if(this.isChrome)this.hasNativeFullScreen=false;if(this.hasNativeFullScreen&&d.match(/mac os x 10_5/i))this.hasNativeFullScreen=false}};mejs.MediaFeatures.init();
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){if(typeof a=="string")this.src=a;else{var d,e;for(d=0;d<a.length;d++){e=a[d];if(this.canPlayType(e.type))this.src=e.src}}},setVideoSize:function(a,d){this.width=a;this.height=d}};mejs.PluginMediaElement=function(a,d,e){this.id=a;this.pluginType=d;this.src=e;this.events={}};
mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginApi.loadMedia();this.paused=false}},pause:function(){if(this.pluginApi!=null){this.pluginApi.pauseMedia();this.paused=
true}},stop:function(){if(this.pluginApi!=null){this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(a){var d,e,h,f=mejs.plugins[this.pluginType];for(d=0;d<f.length;d++){h=f[d];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,h.version))for(e=0;e<h.types.length;e++)if(a==h.types[e])return true}return false},setSrc:function(a){if(typeof a=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a));this.src=mejs.Utility.absolutizeUrl(a)}else{var d,e;for(d=0;d<a.length;d++){e=
a[d];if(this.canPlayType(e.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e.src));this.src=mejs.Utility.absolutizeUrl(a)}}}},setCurrentTime:function(a){if(this.pluginApi!=null){this.pluginApi.setCurrentTime(a);this.currentTime=a}},setVolume:function(a){if(this.pluginApi!=null){this.pluginApi.setVolume(a);this.volume=a}},setMuted:function(a){if(this.pluginApi!=null){this.pluginApi.setMuted(a);this.muted=a}},setVideoSize:function(a,d){if(this.pluginElement.style){this.pluginElement.style.width=
a+"px";this.pluginElement.style.height=d+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize(a,d)},setFullscreen:function(a){this.pluginApi!=null&&this.pluginApi.setFullscreen(a)},addEventListener:function(a,d){this.events[a]=this.events[a]||[];this.events[a].push(d)},removeEventListener:function(a,d){if(!a){this.events={};return true}var e=this.events[a];if(!e)return true;if(!d){this.events[a]=[];return true}for(i=0;i<e.length;i++)if(e[i]===d){this.events[a].splice(i,1);return true}return false},
dispatchEvent:function(a){var d,e,h=this.events[a];if(h){e=Array.prototype.slice.call(arguments,1);for(d=0;d<h.length;d++)h[d].apply(null,e)}}};
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,d,e){this.pluginMediaElements[a]=d;this.htmlMediaElements[a]=e},initPlugin:function(a){var d=this.pluginMediaElements[a],e=this.htmlMediaElements[a];switch(d.pluginType){case "flash":d.pluginElement=d.pluginApi=document.getElementById(a);break;case "silverlight":d.pluginElement=document.getElementById(d.id);d.pluginApi=d.pluginElement.Content.MediaElementJS;break}d.pluginApi!=null&&d.success&&d.success(d,
e)},fireEvent:function(a,d,e){var h,f;a=this.pluginMediaElements[a];a.ended=false;a.paused=true;d={type:d,target:a};for(h in e){a[h]=e[h];d[h]=e[h]}f=e.bufferedTime||0;d.target.buffered=d.buffered={start:function(){return 0},end:function(){return f},length:1};a.dispatchEvent(d.type,d)}};
mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,timerRate:250,success:function(){},error:function(){}};
mejs.MediaElement=function(a,d){return mejs.HtmlMediaElementShim.create(a,d)};
mejs.HtmlMediaElementShim={create:function(a,d){var e=mejs.MediaElementDefaults,h=typeof a=="string"?document.getElementById(a):a;a=h.tagName.toLowerCase()=="video";var f=typeof h.canPlayType!="undefined",l={method:"",url:""},q=h.getAttribute("poster"),o=h.getAttribute("autoplay"),r=h.getAttribute("preload"),u=h.getAttribute("controls"),v;for(v in d)e[v]=d[v];q=typeof q=="undefined"||q===null?"":q;r=typeof r=="undefined"||r===null||r==="false"?"none":r;o=!(typeof o=="undefined"||o===null||o==="false");
u=!(typeof u=="undefined"||u===null||u==="false");l=this.determinePlayback(h,e,a,f);if(l.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){h.src=l.url;h.addEventListener("click",function(){h.play()},true)}return this.updateNative(h,e,o,r,l)}else if(l.method!=="")return this.createPlugin(h,e,a,l.method,l.url!==null?mejs.Utility.absolutizeUrl(l.url):"",q,o,r,u);else this.createErrorMessage(h,e,l.url!==null?mejs.Utility.absolutizeUrl(l.url):"",q)},determinePlayback:function(a,d,e,h){var f=[],
l,q,o={method:"",url:""},r=a.getAttribute("src"),u,v;if(r=="undefined"||r==""||r===null)r=null;if(typeof d.type!="undefined"&&d.type!=="")f.push({type:d.type,url:r});else if(r!==null){q=this.checkType(r,a.getAttribute("type"),e);f.push({type:q,url:r})}else for(l=0;l<a.childNodes.length;l++){q=a.childNodes[l];if(q.nodeType==1&&q.tagName.toLowerCase()=="source"){r=q.getAttribute("src");q=this.checkType(r,q.getAttribute("type"),e);f.push({type:q,url:r})}}if(mejs.MediaFeatures.isBustedAndroid)a.canPlayType=
function(F){return F.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(h&&(d.mode==="auto"||d.mode==="native"))for(l=0;l<f.length;l++)if(a.canPlayType(f[l].type).replace(/no/,"")!==""||a.canPlayType(f[l].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){o.method="native";o.url=f[l].url;return o}if(d.mode==="auto"||d.mode==="shim")for(l=0;l<f.length;l++){q=f[l].type;for(a=0;a<d.plugins.length;a++){r=d.plugins[a];u=mejs.plugins[r];for(e=0;e<u.length;e++){v=u[e];if(mejs.PluginDetector.hasPluginVersion(r,
v.version))for(h=0;h<v.types.length;h++)if(q==v.types[h]){o.method=r;o.url=f[l].url;return o}}}}if(o.method==="")o.url=f[0].url;return o},checkType:function(a,d,e){if(a&&!d){a=a.substring(a.lastIndexOf(".")+1);return(e?"video":"audio")+"/"+a}else return d&&~d.indexOf(";")?d.substr(0,d.indexOf(";")):d},createErrorMessage:function(a,d,e,h){var f=document.createElement("div");f.className="me-cannotplay";try{f.style.width=a.width+"px";f.style.height=a.height+"px"}catch(l){}f.innerHTML=h!==""?'<a href="'+
e+'" target="_blank"><img src="'+h+'" /></a>':'<a href="'+e+'" target="_blank"><span>Download File</span></a>';a.parentNode.insertBefore(f,a);a.style.display="none";d.error(a)},createPlugin:function(a,d,e,h,f,l,q,o,r){var u=l=1,v="me_"+h+"_"+mejs.meIndex++,F=new mejs.PluginMediaElement(v,h,f),A=document.createElement("div"),H;for(H=a.parentNode;H!==null&&H.tagName.toLowerCase()!="body";){if(H.parentNode.tagName.toLowerCase()=="p"){H.parentNode.parentNode.insertBefore(H,H.parentNode);break}H=H.parentNode}if(e){l=
d.videoWidth>0?d.videoWidth:a.getAttribute("width")!==null?a.getAttribute("width"):d.defaultVideoWidth;u=d.videoHeight>0?d.videoHeight:a.getAttribute("height")!==null?a.getAttribute("height"):d.defaultVideoHeight}else if(d.enablePluginDebug){l=320;u=240}F.success=d.success;mejs.MediaPluginBridge.registerPluginElement(v,F,a);A.className="me-plugin";a.parentNode.insertBefore(A,a);e=["id="+v,"isvideo="+(e?"true":"false"),"autoplay="+(q?"true":"false"),"preload="+o,"width="+l,"startvolume="+d.startVolume,
"timerrate="+d.timerRate,"height="+u];if(f!==null)h=="flash"?e.push("file="+mejs.Utility.encodeUrl(f)):e.push("file="+f);d.enablePluginDebug&&e.push("debug=true");d.enablePluginSmoothing&&e.push("smoothing=true");r&&e.push("controls=true");switch(h){case "silverlight":A.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+v+'" name="'+v+'" width="'+l+'" height="'+u+'"><param name="initParams" value="'+e.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+
d.pluginPath+d.silverlightName+'" /></object>';break;case "flash":if(mejs.MediaFeatures.isIE){h=document.createElement("div");A.appendChild(h);h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+v+'" width="'+l+'" height="'+u+'"><param name="movie" value="'+d.pluginPath+d.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+e.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else A.innerHTML=
'<embed id="'+v+'" name="'+v+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+d.pluginPath+d.flashName+'" flashvars="'+e.join("&")+'" width="'+l+'" height="'+u+'"></embed>';break}a.style.display="none";return F},updateNative:function(a,d){for(var e in mejs.HtmlMediaElement)a[e]=mejs.HtmlMediaElement[e];d.success(a,a);
return a}};window.mejs=mejs;window.MediaElement=mejs.MediaElement;if(typeof jQuery!="undefined")mejs.$=jQuery;else if(typeof ender!="undefined")mejs.$=ender;
(function(a){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,audioWidth:400,audioHeight:30,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,alwaysShowControls:false,iPadUseNativeControls:true,features:["playpause","current","progress","duration","tracks","volume","fullscreen"]};mejs.mepIndex=0;mejs.MediaElementPlayer=function(d,e){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(d,e);var h=this;
h.options=a.extend({},mejs.MepDefaults,e);h.$media=h.$node=a(d);h.node=h.media=h.$media[0];if(typeof h.node.player!="undefined")return h.node.player;else h.node.player=h;h.isVideo=h.media.tagName.toLowerCase()==="video";h.init();return h};mejs.MediaElementPlayer.prototype={init:function(){var d=this,e=mejs.MediaFeatures,h=a.extend(true,{},d.options,{success:function(f,l){d.meReady(f,l)},error:function(f){d.handleError(f)}});if(e.isiPad&&d.options.iPadUseNativeControls||e.isiPhone){d.$media.attr("controls",
"controls");d.$media.removeAttr("poster");if(e.isiPad&&d.media.getAttribute("autoplay")!==null){d.media.load();d.media.play()}}else if(!(e.isAndroid&&d.isVideo)){d.$media.removeAttr("controls");d.id="mep_"+mejs.mepIndex++;d.container=a('<div id="'+d.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(d.$media[0].className).insertBefore(d.$media);
d.container.find(".mejs-mediaelement").append(d.$media);d.controls=d.container.find(".mejs-controls");d.layers=d.container.find(".mejs-layers");if(d.isVideo){d.width=d.options.videoWidth>0?d.options.videoWidth:d.$media[0].getAttribute("width")!==null?d.$media.attr("width"):d.options.defaultVideoWidth;d.height=d.options.videoHeight>0?d.options.videoHeight:d.$media[0].getAttribute("height")!==null?d.$media.attr("height"):d.options.defaultVideoHeight}else{d.width=d.options.audioWidth;d.height=d.options.audioHeight}d.setPlayerSize(d.width,
d.height);h.pluginWidth=d.height;h.pluginHeight=d.width}mejs.MediaElement(d.$media[0],h)},meReady:function(d,e){var h=this,f=mejs.MediaFeatures,l;if(!h.created){h.created=true;h.media=d;h.domNode=e;if(!f.isiPhone&&!f.isAndroid&&!(f.isiPad&&h.options.iPadUseNativeControls)){h.buildposter(h,h.controls,h.layers,h.media);h.buildoverlays(h,h.controls,h.layers,h.media);h.findTracks();for(l in h.options.features){d=h.options.features[l];if(h["build"+d])try{h["build"+d](h,h.controls,h.layers,h.media)}catch(q){}}h.container.trigger("controlsready");
h.setPlayerSize(h.width,h.height);h.setControlsSize();if(h.isVideo){h.container.bind("mouseenter",function(){if(!h.options.alwaysShowControls){h.controls.css("visibility","visible");h.controls.stop(true,true).fadeIn(200)}}).bind("mouseleave",function(){!h.media.paused&&!h.options.alwaysShowControls&&h.controls.stop(true,true).fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})});h.domNode.getAttribute("autoplay")!==null&&!h.options.alwaysShowControls&&h.controls.css("visibility",
"hidden");h.options.enableAutosize&&h.media.addEventListener("loadedmetadata",function(o){if(h.options.videoHeight<=0&&h.domNode.getAttribute("height")===null&&!isNaN(o.target.videoHeight)){h.setPlayerSize(o.target.videoWidth,o.target.videoHeight);h.setControlsSize();h.media.setVideoSize(o.target.videoWidth,o.target.videoHeight)}},false)}h.media.addEventListener("ended",function(){h.media.setCurrentTime(0);h.media.pause();h.setProgressRail&&h.setProgressRail();h.setCurrentRail&&h.setCurrentRail();
if(h.options.loop)h.media.play();else h.options.alwaysShowControls||h.controls.css("visibility","visible")},true);h.media.addEventListener("loadedmetadata",function(){h.updateDuration&&h.updateDuration();h.updateCurrent&&h.updateCurrent();h.setControlsSize()},true);setTimeout(function(){h.setControlsSize();h.setPlayerSize(h.width,h.height)},50)}h.options.success&&h.options.success(h.media,h.domNode)}},handleError:function(d){this.options.error&&this.options.error(d)},setPlayerSize:function(d,e){var h=
this;h.width=parseInt(d,10);h.height=parseInt(e,10);h.container.width(h.width).height(h.height);h.layers.children(".mejs-layer").width(h.width).height(h.height)},setControlsSize:function(){var d=this,e=0,h=0,f=d.controls.find(".mejs-time-rail"),l=d.controls.find(".mejs-time-total");d.controls.find(".mejs-time-current");d.controls.find(".mejs-time-loaded");others=f.siblings();others.each(function(){if(a(this).css("position")!="absolute")e+=a(this).outerWidth(true)});h=d.controls.width()-e-(f.outerWidth(true)-
f.outerWidth(false));f.width(h);l.width(h-(l.outerWidth(true)-l.width()));d.setProgressRail&&d.setProgressRail();d.setCurrentRail&&d.setCurrentRail()},buildposter:function(d,e,h,f){var l=a('<div class="mejs-poster mejs-layer"><img /></div>').appendTo(h);e=d.$media.attr("poster");h=l.find("img").width(d.width).height(d.height);if(d.options.poster!="")h.attr("src",d.options.poster);else e!==""&&e!=null?h.attr("src",e):l.remove();f.addEventListener("play",function(){l.hide()},false)},buildoverlays:function(d,
e,h,f){if(d.isVideo){var l=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(h),q=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(h),o=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(h).click(function(){f.paused?f.play():f.pause()});f.addEventListener("play",function(){o.hide();q.hide()},false);f.addEventListener("pause",
function(){o.show()},false);f.addEventListener("loadstart",function(){mejs.MediaFeatures.isChrome&&f.getAttribute&&f.getAttribute("preload")==="none"||l.show()},false);f.addEventListener("canplay",function(){l.hide()},false);f.addEventListener("error",function(){l.hide();q.show();q.find("mejs-overlay-error").html("Error loading this resource")},false)}},findTracks:function(){var d=this,e=d.$media.find("track");d.tracks=[];e.each(function(){d.tracks.push({srclang:a(this).attr("srclang").toLowerCase(),
src:a(this).attr("src"),kind:a(this).attr("kind"),entries:[],isLoaded:false})})},changeSkin:function(d){this.container[0].className="mejs-container "+d;this.setPlayerSize();this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(d){this.media.setMuted(d)},setCurrentTime:function(d){this.media.setCurrentTime(d)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(d){this.media.setVolume(d)},
getVolume:function(){return this.media.volume},setSrc:function(d){this.media.setSrc(d)}};if(typeof jQuery!="undefined")jQuery.fn.mediaelementplayer=function(d){return this.each(function(){new mejs.MediaElementPlayer(this,d)})};window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildplaypause=function(d,e,h,f){var l=a('<div class="mejs-button mejs-playpause-button mejs-play" type="button"><button type="button"></button></div>').appendTo(e).click(function(q){q.preventDefault();f.paused?f.play():f.pause();return false});f.addEventListener("play",function(){l.removeClass("mejs-play").addClass("mejs-pause")},false);f.addEventListener("playing",function(){l.removeClass("mejs-play").addClass("mejs-pause")},false);f.addEventListener("pause",
function(){l.removeClass("mejs-pause").addClass("mejs-play")},false);f.addEventListener("paused",function(){l.removeClass("mejs-pause").addClass("mejs-play")},false)}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildstop=function(d,e,h,f){a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button"></button></div>').appendTo(e).click(function(){f.paused||f.pause();if(f.currentTime>0){f.setCurrentTime(0);e.find(".mejs-time-current").width("0px");e.find(".mejs-time-handle").css("left","0px");e.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));e.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));h.find(".mejs-poster").show()}})}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildprogress=function(d,e,h,f){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(e);h=this;var l=e.find(".mejs-time-total"),q=e.find(".mejs-time-loaded"),o=e.find(".mejs-time-current"),
r=e.find(".mejs-time-handle"),u=e.find(".mejs-time-float"),v=e.find(".mejs-time-float-current"),F=function(z){z=z.pageX;var Q=l.offset(),B=l.outerWidth(),D=0;D=0;if(z>Q.left&&z<=B+Q.left&&f.duration){D=(z-Q.left)/B;D=D<=0.02?0:D*f.duration;A&&f.setCurrentTime(D);u.css("left",z-Q.left);v.html(mejs.Utility.secondsToTimeCode(D))}},A=false,H=false;l.bind("mousedown",function(z){A=true;F(z);return false});e.find(".mejs-time-rail").bind("mouseenter",function(){H=true}).bind("mouseleave",function(){H=false});
a(document).bind("mouseup",function(){A=false}).bind("mousemove",function(z){if(A||H)F(z)});f.addEventListener("progress",function(z){d.setProgressRail(z);d.setCurrentRail(z)},false);f.addEventListener("timeupdate",function(z){d.setProgressRail(z);d.setCurrentRail(z)},false);h.loaded=q;h.total=l;h.current=o;h.handle=r};MediaElementPlayer.prototype.setProgressRail=function(d){var e=this,h=d!=undefined?d.target:e.media,f=null;if(h&&h.buffered&&h.buffered.length>0&&h.buffered.end&&h.duration)f=h.buffered.end(0)/
h.duration;else if(h&&h.bytesTotal!=undefined&&h.bytesTotal>0&&h.bufferedBytes!=undefined)f=h.bufferedBytes/h.bytesTotal;else if(d&&d.lengthComputable&&d.total!=0)f=d.loaded/d.total;if(f!==null){f=Math.min(1,Math.max(0,f));e.loaded&&e.total&&e.loaded.width(e.total.width()*f)}};MediaElementPlayer.prototype.setCurrentRail=function(){var d=this;if(d.media.currentTime!=undefined&&d.media.duration)if(d.total&&d.handle){var e=d.total.width()*d.media.currentTime/d.media.duration,h=e-d.handle.outerWidth(true)/
2;d.current.width(e);d.handle.css("left",h)}}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildcurrent=function(d,e,h,f){h=this;a('<div class="mejs-time"><span class="mejs-currenttime">'+(d.options.alwaysShowHours?"00:":"")+"00:00</span></div>").appendTo(e);h.currenttime=h.controls.find(".mejs-currenttime");f.addEventListener("timeupdate",function(){d.updateCurrent()},false)};MediaElementPlayer.prototype.buildduration=function(d,e,h,f){h=this;if(e.children().last().find(".mejs-currenttime").length>0)a(' <span> | </span> <span class="mejs-duration">'+
(d.options.alwaysShowHours?"00:":"")+"00:00</span>").appendTo(e.find(".mejs-time"));else{e.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(d.options.alwaysShowHours?"00:":"")+"00:00</span></div>").appendTo(e)}h.durationD=h.controls.find(".mejs-duration");f.addEventListener("timeupdate",function(){d.updateDuration()},false)};MediaElementPlayer.prototype.updateCurrent=function(){var d=this;if(d.currenttime)d.currenttime.html(mejs.Utility.secondsToTimeCode(d.media.currentTime|
0,d.options.alwaysShowHours||d.media.duration>3600))};MediaElementPlayer.prototype.updateDuration=function(){var d=this;d.media.duration&&d.durationD&&d.durationD.html(mejs.Utility.secondsToTimeCode(d.media.duration,d.options.alwaysShowHours))}})(mejs.$);
(function(a){MediaElementPlayer.prototype.buildvolume=function(d,e,h,f){var l=a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(e);e=l.find(".mejs-volume-slider");var q=l.find(".mejs-volume-total"),o=l.find(".mejs-volume-current"),r=l.find(".mejs-volume-handle"),u=function(A){A=q.height()-q.height()*
A;r.css("top",A-r.height()/2);o.height(q.height()-A+parseInt(q.css("top").replace(/px/,""),10));o.css("top",A)},v=function(A){var H=q.height(),z=q.offset(),Q=parseInt(q.css("top").replace(/px/,""),10);A=A.pageY-z.top;z=(H-A)/H;if(A<0)A=0;else if(A>H)A=H;r.css("top",A-r.height()/2+Q);o.height(H-A);o.css("top",A+Q);if(z==0){f.setMuted(true);l.removeClass("mejs-mute").addClass("mejs-unmute")}else{f.setMuted(false);l.removeClass("mejs-unmute").addClass("mejs-mute")}z=Math.max(0,z);z=Math.min(z,1);f.setVolume(z)},
F=false;e.bind("mousedown",function(A){v(A);F=true;return false});a(document).bind("mouseup",function(){F=false}).bind("mousemove",function(A){F&&v(A)});l.find("button").click(function(){if(f.muted){f.setMuted(false);l.removeClass("mejs-unmute").addClass("mejs-mute");u(1)}else{f.setMuted(true);l.removeClass("mejs-mute").addClass("mejs-unmute");u(0)}});f.addEventListener("volumechange",function(A){F||u(A.target.volume)},true);u(d.options.startVolume);f.pluginType==="native"&&f.setVolume(d.options.startVolume)}})(mejs.$);
(function(a){mejs.MediaElementDefaults.forcePluginFullScreen=false;MediaElementPlayer.prototype.isFullScreen=false;MediaElementPlayer.prototype.buildfullscreen=function(d,e,h,f){if(d.isVideo){mejs.MediaFeatures.hasNativeFullScreen&&d.container.bind("webkitfullscreenchange",function(){document.webkitIsFullScreen?d.setControlsSize():d.exitFullScreen()});var l=0,q=0,o=d.container,r=document.documentElement,u,v=a('<div class="mejs-button mejs-fullscreen-button"><button type="button"></button></div>').appendTo(e).click(function(){(mejs.MediaFeatures.hasNativeFullScreen?
document.webkitIsFullScreen:d.isFullScreen)?d.exitFullScreen():d.enterFullScreen()});d.enterFullScreen=function(){if(d.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||d.options.forcePluginFullScreen))f.setFullscreen(true);else{mejs.MediaFeatures.hasNativeFullScreen&&d.container[0].webkitRequestFullScreen();u=r.style.overflow;r.style.overflow="hidden";l=d.container.height();q=d.container.width();o.addClass("mejs-container-fullscreen").width("100%").height("100%").css("z-index",1E3);if(d.pluginType===
"native")d.$media.width("100%").height("100%");else{o.find("object embed").width("100%").height("100%");d.media.setVideoSize(a(window).width(),a(window).height())}h.children("div").width("100%").height("100%");v.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");d.setControlsSize();d.isFullScreen=true}};d.exitFullScreen=function(){if(d.pluginType!=="native"&&mejs.MediaFeatures.isFirefox)f.setFullscreen(false);else{mejs.MediaFeatures.hasNativeFullScreen&&document.webkitIsFullScreen&&document.webkitCancelFullScreen();
r.style.overflow=u;o.removeClass("mejs-container-fullscreen").width(q).height(l).css("z-index",1);if(d.pluginType==="native")d.$media.width(q).height(l);else{o.find("object embed").width(q).height(l);d.media.setVideoSize(q,l)}h.children("div").width(q).height(l);v.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");d.setControlsSize();d.isFullScreen=false}};a(window).bind("resize",function(){d.setControlsSize()});a(document).bind("keydown",function(F){d.isFullScreen&&F.keyCode==27&&d.exitFullScreen()})}}})(mejs.$);
(function(a){a.extend(mejs.MepDefaults,{startLanguage:"",translations:[],translationSelector:false,googleApiKey:""});a.extend(MediaElementPlayer.prototype,{buildtracks:function(d,e,h,f){if(d.isVideo)if(d.tracks.length!=0){var l,q="";d.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(h).hide();d.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(h).hide();d.captionsText=d.captions.find(".mejs-captions-text");
d.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" ></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+d.id+'_captions" id="'+d.id+'_captions_none" value="none" checked="checked" /><label for="'+d.id+'_captions_none">None</label></li></ul></div></button>').appendTo(e).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")d.selectedTrack=null;else for(l=0;l<d.tracks.length;l++)if(d.tracks[l].srclang==lang){d.selectedTrack=
d.tracks[l];d.captions.attr("lang",d.selectedTrack.srclang);d.displayCaptions();break}});d.options.alwaysShowControls?d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):d.container.bind("mouseenter",function(){d.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){f.paused||d.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});d.trackToLoad=-1;d.selectedTrack=null;d.isLoadingTrack=
false;if(d.tracks.length>0&&d.options.translations.length>0)for(l=0;l<d.options.translations.length;l++)d.tracks.push({srclang:d.options.translations[l].toLowerCase(),src:null,kind:"subtitles",entries:[],isLoaded:false,isTranslation:true});for(l=0;l<d.tracks.length;l++)d.tracks[l].kind=="subtitles"&&d.addTrackButton(d.tracks[l].srclang,d.tracks[l].isTranslation);d.loadNextTrack();f.addEventListener("timeupdate",function(){d.displayCaptions()},false);f.addEventListener("loadedmetadata",function(){d.displayChapters()},
false);d.container.hover(function(){d.chapters.css("visibility","visible");d.chapters.fadeIn(200)},function(){f.paused||d.chapters.fadeOut(200,function(){a(this).css("visibility","hidden");a(this).css("display","block")})});d.node.getAttribute("autoplay")!==null&&d.chapters.css("visibility","hidden");if(d.options.translationSelector){for(l in mejs.language.codes)q+='<option value="'+l+'">'+mejs.language.codes[l]+"</option>";d.container.find(".mejs-captions-selector ul").before(a('<select class="mejs-captions-translations"><option value="">--Add Translation--</option>'+
q+"</select>"));d.container.find(".mejs-captions-translations").change(function(){lang=a(this).val();if(lang!=""){d.tracks.push({srclang:lang,src:null,entries:[],isLoaded:false,isTranslation:true});if(!d.isLoadingTrack){d.trackToLoad--;d.addTrackButton(lang,true);d.options.startLanguage=lang;d.loadNextTrack()}}})}}},loadNextTrack:function(){var d=this;d.trackToLoad++;if(d.trackToLoad<d.tracks.length){d.isLoadingTrack=true;d.loadTrack(d.trackToLoad)}else d.isLoadingTrack=false},loadTrack:function(d){var e=
this,h=e.tracks[d],f=function(){h.isLoaded=true;e.enableTrackButton(h.srclang);e.loadNextTrack()};h.isTranslation?mejs.TrackFormatParser.translateTrackText(e.tracks[0].entries,e.tracks[0].srclang,h.srclang,e.options.googleApiKey,function(l){h.entries=l;f()}):a.ajax({url:h.src,success:function(l){h.entries=mejs.TrackFormatParser.parse(l);f();h.kind=="chapters"&&e.media.duration>0&&e.drawChapters(h)},error:function(){e.loadNextTrack()}})},enableTrackButton:function(d){var e=this;e.captionsButton.find("input[value="+
d+"]").prop("disabled",false).siblings("label").html(mejs.language.codes[d]||d);e.options.startLanguage==d&&a("#"+e.id+"_captions_"+d).click();e.adjustLanguageBox()},addTrackButton:function(d,e){var h=this,f=mejs.language.codes[d]||d;h.captionsButton.find("ul").append(a('<li><input type="radio" name="'+h.id+'_captions" id="'+h.id+"_captions_"+d+'" value="'+d+'" disabled="disabled" /><label for="'+h.id+"_captions_"+d+'">'+f+(e?" (translating)":" (loading)")+"</label></li>"));h.adjustLanguageBox();
h.container.find(".mejs-captions-translations option[value="+d+"]").remove()},adjustLanguageBox:function(){var d=this;d.captionsButton.find(".mejs-captions-selector").height(d.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+d.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var d=this,e,h=d.selectedTrack;if(h!=null&&h.isLoaded)for(e=0;e<h.entries.times.length;e++)if(d.media.currentTime>=h.entries.times[e].start&&
d.media.currentTime<=h.entries.times[e].stop){d.captionsText.html(h.entries.text[e]);d.captions.show();return}d.captions.hide()}},displayChapters:function(){var d=this,e;for(e=0;e<d.tracks.length;e++)if(d.tracks[e].kind=="chapters"&&d.tracks[e].isLoaded){d.drawChapters(d.tracks[e]);break}},drawChapters:function(d){var e=this,h,f,l=f=0;e.chapters.empty();for(h=0;h<d.entries.times.length;h++){f=d.entries.times[h].stop-d.entries.times[h].start;f=Math.floor(f/e.media.duration*100);if(f+l>100||h==d.entries.times.length-
1&&f+l<100)f=100-l;e.chapters.append(a('<div class="mejs-chapter" rel="'+d.entries.times[h].start+'" style="left: '+l.toString()+"%;width: "+f.toString()+'%;"><div class="mejs-chapter-block'+(h==d.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+d.entries.text[h]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(d.entries.times[h].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(d.entries.times[h].stop)+"</span></div></div>"));l+=f}e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(a(this).attr("rel")));
e.media.paused&&e.media.play()});e.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",
ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}(,[0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}(,[0-9]{3})?)(.*)$/,
split2:function(d,e){return d.split(e)},parse:function(d){var e=0;d=this.split2(d,/\r?\n/);for(var h={text:[],times:[]},f,l;e<d.length;e++)if(this.pattern_identifier.exec(d[e])){e++;if((f=this.pattern_timecode.exec(d[e]))&&e<d.length){e++;l=d[e];for(e++;d[e]!==""&&e<d.length;){l=l+"\n"+d[e];e++}h.text.push(l);h.times.push({start:mejs.Utility.timeCodeToSeconds(f[1]),stop:mejs.Utility.timeCodeToSeconds(f[3]),settings:f[5]})}}return h},translateTrackText:function(d,e,h,f,l){var q={text:[],times:[]},
o,r;this.translateText(d.text.join(" <a></a>"),e,h,f,function(u){o=u.split("<a></a>");for(r=0;r<d.text.length;r++){q.text[r]=o[r];q.times[r]={start:d.times[r].start,stop:d.times[r].stop,settings:d.times[r].settings}}l(q)})},translateText:function(d,e,h,f,l){for(var q,o=[],r,u="",v=function(){if(o.length>0){r=o.shift();mejs.TrackFormatParser.translateChunk(r,e,h,f,function(F){if(F!="undefined")u+=F;v()})}else l(u)};d.length>0;)if(d.length>1E3){q=d.lastIndexOf(".",1E3);o.push(d.substring(0,q));d=d.substring(q+
1)}else{o.push(d);d=""}v()},translateChunk:function(d,e,h,f,l){d={q:d,langpair:e+"|"+h,v:"1.0"};if(f!==""&&f!==null)d.key=f;a.ajax({url:"https://ajax.googleapis.com/ajax/services/language/translate",data:d,type:"GET",dataType:"jsonp",success:function(q){l(q.responseData.translatedText)},error:function(){l(null)}})}};if("x\n\ny".split(/\n/gi).length!=3)mejs.TrackFormatParser.split2=function(d,e){var h=[],f="",l;for(l=0;l<d.length;l++){f+=d.substring(l,l+1);if(e.test(f)){h.push(f.replace(e,""));f=""}}h.push(f);
return h}})(mejs.$);steal.loaded("webapp/lib/mediaelement/mediaelement-and-player.js");
(function(a){var d={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:5E3,text:"",sticky:false,type:"notice",position:"top-right",closeText:"",close:null},e={init:function(h){h&&a.extend(d,h)},showToast:function(h){var f={};a.extend(f,d,h);var l,q;h=!a(".toast-container").length?a("<div></div>").addClass("toast-container").addClass("toast-position-"+f.position).appendTo("body"):a(".toast-container");l=a("<div></div>").addClass("toast-item-wrapper");q=a("<div></div>").hide().addClass("toast-item toast-type-"+
f.type).appendTo(h).html("<p>"+f.text+"</p>").animate(f.inEffect,f.inEffectDuration).wrap(l);a("<div></div>").addClass("toast-item-close").prependTo(q).html(f.closeText).click(function(){a().toastmessage("removeToast",q,f)});a("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+f.type).prependTo(q);navigator.userAgent.match(/MSIE 6/i)&&h.css({top:document.documentElement.scrollTop});f.sticky||setTimeout(function(){a().toastmessage("removeToast",q,f)},f.stayTime);return q},showNoticeToast:function(h){h=
{text:h,type:"notice"};return a().toastmessage("showToast",h)},showSuccessToast:function(h){h={text:h,type:"success"};return a().toastmessage("showToast",h)},showErrorToast:function(h){h={text:h,type:"error"};return a().toastmessage("showToast",h)},showWarningToast:function(h){h={text:h,type:"warning"};return a().toastmessage("showToast",h)},removeToast:function(h,f){h.animate({opacity:"0"},600,function(){h.parent().animate({height:"0px"},300,function(){h.parent().remove()})});f&&f.close!==null&&
f.close()}};a.fn.toastmessage=function(h){if(e[h])return e[h].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof h==="object"||!h)return e.init.apply(this,arguments);else a.error("Method "+h+" does not exist on jQuery.toastmessage")}})(jQuery);steal.loaded("webapp/lib/toast/jquery.toastmessage.js");
(function(a){a.prompt=function(d,e){e=a.extend({},a.prompt.defaults,e);a.prompt.currentPrefix=e.prefix;var h=a.browser.msie&&a.browser.version<7,f=a(document.body),l=a(window);e.classes=a.trim(e.classes);if(e.classes!="")e.classes=" "+e.classes;var q='<div class="'+e.prefix+"box"+e.classes+'" id="'+e.prefix+'box">';if(e.useiframe&&(a("object, applet").length>0||h))q+='<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="'+e.prefix+'fade" id="'+e.prefix+'fade"></iframe>';
else{h&&a("select").css("visibility","hidden");q+='<div class="'+e.prefix+'fade" id="'+e.prefix+'fade"></div>'}q+='<div class="'+e.prefix+'" id="'+e.prefix+'"><div class="'+e.prefix+'container"><div class="';q+=e.prefix+'close ui-btn-left ui-btn ui-btn-up-a ui-btn-icon-notext ui-btn-corner-all ui-shadow"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">Close</span><span class="ui-icon ui-icon-delete ui-icon-shadow"></span></span></div><div id="'+e.prefix+'states" class="ui-content ui-body-c ui-corner-bottom ui-overlay-shadow ui-body-a"></div>';
q+="</div></div></div>";var o=a(q).appendTo(f),r=o.children("#"+e.prefix),u=o.children("#"+e.prefix+"fade");if(d.constructor==String)d={state0:{html:d,buttons:e.buttons,focus:e.focus,submit:e.submit}};var v="";a.each(d,function(B,D){D=a.extend({},a.prompt.defaults.state,D);d[B]=D;v+='<div id="'+e.prefix+"_state_"+B+'" class="'+e.prefix+'_state" style="display:none;"><div class="'+e.prefix+'message">'+D.html+'</div><div class="'+e.prefix+'buttons">';a.each(D.buttons,function(K,I){v+=typeof I=="object"?
'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+B+"_button"+I.title.replace(/[^a-z0-9]+/gi,"")+'" id="'+e.prefix+"_"+B+"_button"+I.title.replace(/[^a-z0-9]+/gi,"")+'" value="'+I.value+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+I.title+"</span></span></button>":'<button class="ui-btn ui-btn-inline ui-btn-up-a ui-btn-corner-all ui-shadow" name="'+e.prefix+"_"+B+"_button"+K+'" id="'+e.prefix+"_"+B+"_button"+K+'" value="'+
I+'"><span class="ui-btn-inner ui-btn-corner-all"><span class="ui-btn-text">'+K+"</span></span></button>"});v+="</div></div>"});r.find("#"+e.prefix+"states").html(v).children("."+e.prefix+"_state:first").css("display","block");r.find("."+e.prefix+"buttons:empty").css("display","none");a.each(d,function(B,D){var K=r.find("#"+e.prefix+"_state_"+B);K.children("."+e.prefix+"buttons").children("button").click(function(){var I=K.children("."+e.prefix+"message"),U=D.buttons[a(this).text()];if(U==undefined)for(var Z in D.buttons)if(D.buttons[Z].title==
a(this).text())U=D.buttons[Z].value;if(typeof U=="object")U=U.value;var ba={};a.each(r.find("#"+e.prefix+"states :input").serializeArray(),function(P,S){if(ba[S.name]===undefined)ba[S.name]=S.value;else if(typeof ba[S.name]==Array||typeof ba[S.name]=="object")ba[S.name].push(S.value);else ba[S.name]=[ba[S.name],S.value]});Z=D.submit(U,I,ba);if(Z===undefined||Z)Q(true,U,I,ba)});K.find("."+e.prefix+"buttons button:eq("+D.focus+")").addClass(e.prefix+"defaultbutton")});var F=function(){o.css({top:l.scrollTop()})},
A=function(){if(e.persistent){var B=0;o.addClass(e.prefix+"warning");var D=setInterval(function(){o.toggleClass(e.prefix+"warning");if(B++>1){clearInterval(D);o.removeClass(e.prefix+"warning")}},100)}else Q()},H=function(B){var D=window.event?event.keyCode:B.keyCode;D==27&&A();if(D==9){var K=a(":input:enabled:visible",o),I=B.shiftKey&&B.target==K[0];if(!B.shiftKey&&B.target==K[K.length-1]||I){setTimeout(function(){if(K){var U=K[I===true?K.length-1:0];U&&U.focus()}},10);return false}}},z=function(){o.css({position:h?
"absolute":"fixed",height:l.height(),width:"100%",top:h?l.scrollTop():0,left:0,right:0,bottom:0});u.css({position:"absolute",height:l.height(),width:"100%",top:0,left:0,right:0,bottom:0});r.css({position:"absolute",top:e.top,left:"50%",marginLeft:r.outerWidth()/2*-1})},Q=function(B,D,K,I){r.remove();h&&f.unbind("scroll",F);l.unbind("resize",z);u.fadeOut(e.overlayspeed,function(){u.unbind("click",A);u.remove();B&&e.callback(D,K,I);o.unbind("keypress",H);o.remove();h&&!e.useiframe&&a("select").css("visibility",
"visible")})};z();(function(){u.css({zIndex:e.zIndex,display:"none",opacity:e.opacity});r.css({zIndex:e.zIndex+1,display:"none"});o.css({zIndex:e.zIndex})})();h&&l.scroll(F);u.click(A);l.resize(z);o.bind("keydown keypress",H);r.find("."+e.prefix+"close").click(Q);u.fadeIn(e.overlayspeed);r[e.show](e.promptspeed,e.loaded);r.find("#"+e.prefix+"states ."+e.prefix+"_state:first ."+e.prefix+"defaultbutton").focus();e.timeout>0&&setTimeout(a.prompt.close,e.timeout);return o};a.prompt.defaults={prefix:"jqi",
classes:"",buttons:{Ok:true},loaded:function(){},submit:function(){return true},callback:function(){},overlayspeed:"slow",promptspeed:"fast",show:"fadeIn",focus:0,useiframe:false,top:"15%",persistent:true,timeout:0,state:{html:"",buttons:{Ok:true},focus:0,submit:function(){return true}}};a.prompt.currentPrefix=a.prompt.defaults.prefix;a.prompt.setDefaults=function(d){a.prompt.defaults=a.extend({},a.prompt.defaults,d)};a.prompt.setStateDefaults=function(d){a.prompt.defaults.state=a.extend({},a.prompt.defaults.state,
d)};a.prompt.getStateContent=function(d){return a("#"+a.prompt.currentPrefix+"_state_"+d)};a.prompt.getCurrentState=function(){return a("."+a.prompt.currentPrefix+"_state:visible")};a.prompt.getCurrentStateName=function(){return a.prompt.getCurrentState().attr("id").replace(a.prompt.currentPrefix+"_state_","")};a.prompt.goToState=function(d,e){a("."+a.prompt.currentPrefix+"_state").slideUp("slow");a("#"+a.prompt.currentPrefix+"_state_"+d).slideDown("slow",function(){a(this).find("."+a.prompt.currentPrefix+
"defaultbutton").focus();typeof e=="function"&&e()})};a.prompt.nextState=function(d){var e=a("."+a.prompt.currentPrefix+"_state:visible").next();a("."+a.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+a.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};a.prompt.prevState=function(d){var e=a("."+a.prompt.currentPrefix+"_state:visible").prev();a("."+a.prompt.currentPrefix+"_state").slideUp("slow");e.slideDown("slow",function(){e.find("."+
a.prompt.currentPrefix+"defaultbutton").focus();typeof d=="function"&&d()})};a.prompt.close=function(){a("#"+a.prompt.currentPrefix+"box").fadeOut("fast",function(){a(this).remove()})};a.fn.prompt=function(d){if(d==undefined)d={};if(d.withDataAndEvents==undefined)d.withDataAndEvents=false;a.prompt(a(this).clone(d.withDataAndEvents).html(),d)}})(jQuery);steal.loaded("webapp/lib/jquery-impromptu.3.1.js");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_desktop_mobile_tmpl",function(d){return function(e,h){var f=[],l=h.data;with(l){f.push('<div class="main-page ');if(typeof(user&&user.is_public)!=="undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(h):user&&user.is_public))f.push("public-user");f.push('" data-role="page">   <div data-role="header" class="desktop-title">    <h1>FastND</h1>    ');if(typeof(user&&user.is_public)!==
"undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(h):user&&user.is_public))f.push('     <a data-role="button" class="signin-button ui-btn-right" data-theme="a">Sign In</a>     ');f.push("        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public)){f.push('     <div class="header-buttons">      ');if(typeof(user&&
!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public))f.push('       <a ontouchstart="" class="add-tab-button">Lookup Company</a>      ');f.push('      <a ontouchstart="" class="logout-button">Logout</a>     </div>    ')}f.push('   </div>   <div data-role="content"></div>  </div>    <div class="main-columns columns-container" data-backpage="main-page"></div>  <div class="companies-columns columns-container" data-backpage="companies-page"></div>  <div class="stocks-columns columns-container" data-backpage="stocks-page"></div>    <div data-role="navbar" class="mobile-navbar">   <ul>    <li><a class="main-icon main-button ui-btn-active" data-icon="custom" data-theme="a">Main</a></li>    <li><a class="stocks-icon stocks-button" data-icon="custom" data-theme="a">Stocks</a></li>    <li><a class="companies-icon companies-button" data-icon="custom" data-theme="a">Companies</a></li>        ');
typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public)?f.push('     <li><a class="alerts-icon alerts-button" data-icon="custom" data-theme="a">Alerts</a></li>    '):f.push('     <li><a class="lookup-icon lookup-button" data-icon="custom" data-theme="a">Lookup</a></li>    ');f.push('       </ul>  </div>    <div class="companies-page ui-page" data-role="page">   <div data-role="header" class="desktop-title">    <h1>FastND</h1>    ');
if(typeof(user&&user.is_public)!=="undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(h):user&&user.is_public))f.push('     <a data-role="button" class="signin-button ui-btn-right" data-theme="a">Sign In</a>     ');f.push("        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public)){f.push('     <div class="header-buttons">      ');
if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public))f.push('       <a ontouchstart="" class="add-tab-button">Lookup Company</a>      ');f.push('      <a ontouchstart="" class="logout-button">Logout</a>     </div>    ')}f.push('   </div>   <div data-role="content"></div>  </div>    <div class="stocks-page ui-page" data-role="page">   <div data-role="header" class="desktop-title">    <h1>FastND</h1>    ');
if(typeof(user&&user.is_public)!=="undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(h):user&&user.is_public))f.push('     <a data-role="button" class="signin-button ui-btn-right" data-theme="a">Sign In</a>     ');f.push("        ");if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public)){f.push('     <div class="header-buttons">      ');
if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public))f.push('       <a ontouchstart="" class="add-tab-button">Lookup Company</a>      ');f.push('      <a ontouchstart="" class="logout-button">Logout</a>     </div>    ')}f.push('   </div>   <div data-role="content"></div>  </div>    ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&
!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public)){f.push('   <div id="mobile-updates" data-role="page">    <div data-role="header" class="desktop-title">     <h1>FastND</h1>     ');if(typeof(user&&user.is_public)!=="undefined"&&(user&&user.is_public)!=null&&(typeof(user&&user.is_public)==="function"?(user&&user.is_public).call(h):user&&user.is_public))f.push('      <a data-role="button" class="signin-button ui-btn-right" data-theme="a">Sign In</a>      ');f.push("          ");
if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public)){f.push('      <div class="header-buttons">       ');if(typeof(user&&!user.is_public)!=="undefined"&&(user&&!user.is_public)!=null&&(typeof(user&&!user.is_public)==="function"?(user&&!user.is_public).call(h):user&&!user.is_public))f.push('        <a ontouchstart="" class="add-tab-button">Lookup Company</a>       ');f.push('       <a ontouchstart="" class="logout-button">Logout</a>      </div>     ')}f.push('    </div>    <div data-role="content">     <div class="mobile-update-list"></div>    </div>   </div>  ')}f.push("    ");
if(typeof(!user||user.is_public)!=="undefined"&&(!user||user.is_public)!=null&&(typeof(!user||user.is_public)==="function"?(!user||user.is_public).call(h):!user||user.is_public)){f.push('  <div id="public-account-selector" data-role="dialog" data-theme="a" data-content-theme="c">   <div data-role="header">    <h1>Public Accounts</h1>   </div>      <div data-role="content">    <p>Try out some of our public accounts by selecting your areas of focus</p>    <form>     <div data-role="fieldcontain">      <label for="profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)f.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(h):focus.professional.title));f.push('</label>      <select name="user[profession]" id="profession">       ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles==="function"?focus.professional.profiles.call(h):focus.professional.profiles,function(q,o){with(this){f.push("        ");
if(typeof(currentFocusId=o._id)!=="undefined"&&(currentFocusId=o._id)!=null)f.push(e.encode(typeof(currentFocusId=o._id)==="function"?(currentFocusId=o._id).call(h):(currentFocusId=o._id)));f.push('        <option value="');if(typeof o._id!=="undefined"&&o._id!=null)f.push(e.encode(typeof o._id==="function"?o._id.call(h):o._id));f.push('" ');if(typeof selectedFocus.professional!=="undefined"&&selectedFocus.professional!=null)e.each(typeof selectedFocus.professional==="function"?selectedFocus.professional.call(h):
selectedFocus.professional,function(r,u){with(this){f.push(" ");if(typeof(u._id===currentFocusId)!=="undefined"&&u._id===currentFocusId!=null&&(typeof(u._id===currentFocusId)==="function"?(u._id===currentFocusId).call(h):u._id===currentFocusId))f.push(' selected="selected" ');f.push(" ")}});f.push(">");if(typeof o.title!=="undefined"&&o.title!=null)f.push(e.encode(typeof o.title==="function"?o.title.call(h):o.title));f.push("</option>       ")}});f.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)f.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(h):focus.industrial.title));f.push('</label>      <select name="user[industry]" id="industry">       ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles==="function"?focus.industrial.profiles.call(h):focus.industrial.profiles,function(q,o){with(this){f.push("        ");
if(typeof(currentFocusId=o._id)!=="undefined"&&(currentFocusId=o._id)!=null)f.push(e.encode(typeof(currentFocusId=o._id)==="function"?(currentFocusId=o._id).call(h):(currentFocusId=o._id)));f.push('        <option value="');if(typeof o._id!=="undefined"&&o._id!=null)f.push(e.encode(typeof o._id==="function"?o._id.call(h):o._id));f.push('" ');if(typeof selectedFocus.industrial!=="undefined"&&selectedFocus.industrial!=null)e.each(typeof selectedFocus.industrial==="function"?selectedFocus.industrial.call(h):
selectedFocus.industrial,function(r,u){with(this){f.push(" ");if(typeof(u._id===currentFocusId)!=="undefined"&&u._id===currentFocusId!=null&&(typeof(u._id===currentFocusId)==="function"?(u._id===currentFocusId).call(h):u._id===currentFocusId))f.push(' selected="selected" ');f.push(" ")}});f.push(">");if(typeof o.title!=="undefined"&&o.title!=null)f.push(e.encode(typeof o.title==="function"?o.title.call(h):o.title));f.push("</option>       ")}});f.push('      </select>     </div>     <div data-role="fieldcontain">      <label for="geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)f.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(h):focus.geographic.title));f.push('</label>      <select name="user[geographic]" id="geographic">       ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles==="function"?focus.geographic.profiles.call(h):focus.geographic.profiles,function(q,o){with(this){f.push("        ");
if(typeof(currentFocusId=o._id)!=="undefined"&&(currentFocusId=o._id)!=null)f.push(e.encode(typeof(currentFocusId=o._id)==="function"?(currentFocusId=o._id).call(h):(currentFocusId=o._id)));f.push('        <option value="');if(typeof o._id!=="undefined"&&o._id!=null)f.push(e.encode(typeof o._id==="function"?o._id.call(h):o._id));f.push('" ');if(typeof selectedFocus.geographic!=="undefined"&&selectedFocus.geographic!=null)e.each(typeof selectedFocus.geographic==="function"?selectedFocus.geographic.call(h):
selectedFocus.geographic,function(r,u){with(this){f.push(" ");if(typeof(u._id===currentFocusId)!=="undefined"&&u._id===currentFocusId!=null&&(typeof(u._id===currentFocusId)==="function"?(u._id===currentFocusId).call(h):u._id===currentFocusId))f.push(' selected="selected" ');f.push(" ")}});f.push(">");if(typeof o.title!=="undefined"&&o.title!=null)f.push(e.encode(typeof o.title==="function"?o.title.call(h):o.title));f.push("</option>       ")}});f.push('      </select>     </div>    </form>    <button data-theme="b" data-icon="arrow-r" data-iconpos="right" class="public-account-selector-btn">Try account</button>   </div>   </div>  ')}f.push("")}return f}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/desktop.mobile.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_login_tmpl",function(d){return function(e,h){var f=[],l=h.data;with(l){f.push('<div id="login-page" data-role="dialog" class="small-dialog" data-theme="a" data-content-theme="c">   <div data-role="header">    <h1>     ');typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(h):smallScreen)?f.push("      Sign-In     "):f.push("      Welcome to       <strong>FastND</strong>     ");
f.push('    </h1>   </div>   <div data-role="content">        ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(h):smallScreen))f.push('     <a data-role="button" data-theme="a" class="public-account-btn" data-icon="arrow-r" data-iconpos="right">Use a Public Account</a>     <hr />     <p class="separator-text">OR</p>    ');f.push('        <form id="new_user_session" data-ajax="false">     <div data-role="fieldcontain">      <label for="login">Username</label>      <input type="text" name="user_session[login]" id="login" value="" />     </div>     <div data-role="fieldcontain">      <label for="password">Password</label>      <input type="password" name="user_session[password]" id="password" value="" />     </div>             ');
if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(h):smallScreen))f.push('      <div data-role="controlgroup" data-type="horizontal">       <a data-role="button" data-theme="b" id="signup-button">Register</a>     ');f.push('          <button type="submit" data-role="button" data-theme="a" id="signin-button">Login</button>          ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(h):
smallScreen))f.push("      </div>     ");f.push('          <a class="forgot-password">Forgot your password?</a>          <hr />     <p class="separator-text">OR</p>          <div class="social-signin">      <p>Sign-in with your account at: </p>             <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/google?callback=");
if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=
null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>              ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(h):smallScreen))f.push('       </div>       <div data-role="controlgroup" data-type="horizontal">      ');f.push('                <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?
finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>     </div>         </form>         </div>  </div>')}return f}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/login.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_signup_tmpl",function(d){return function(e,h){var f=[],l=h.data;with(l){f.push('<div id="signup-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Sign up for FastND</h1>   </div>   <div data-role="content" data-theme="c">      <div id="signup-page1">     <div class="social-signin">      <p>Already have an account on these services? Sign in with: </p>            ');if(typeof!smallScreen!=="undefined"&&
!smallScreen!=null&&(typeof!smallScreen==="function"?(!smallScreen).call(h):!smallScreen)){f.push('       <div data-role="controlgroup" data-type="horizontal">        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));
f.push('/socialcallback.php" data-role="button" data-icon="google" data-inline="true">Google</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="facebook" data-inline="true">Facebook</a>        <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="twitter" data-inline="true">Twitter</a>        <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=
null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="linkedin" data-inline="true">Linkedin</a>       </div>      ')}f.push("            ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen===
"function"?smallScreen.call(h):smallScreen)){f.push('       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/google?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="google">Google</a>        </div>        <div class="ui-block-b">         <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/facebook?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="facebook">Facebook</a>        </div>       </fieldset>       <fieldset class="ui-grid-a">        <div class="ui-block-a">          <a href="');
if(typeof finforeBaseUrl!=="undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/twitter?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="twitter">Twitter</a>        </div>        <div class="ui-block-b">         <a href="');if(typeof finforeBaseUrl!==
"undefined"&&finforeBaseUrl!=null)f.push(e.encode(typeof finforeBaseUrl==="function"?finforeBaseUrl.call(h):finforeBaseUrl));f.push("/auth/linkedin?callback=");if(typeof finforeAppUrl!=="undefined"&&finforeAppUrl!=null)f.push(e.encode(typeof finforeAppUrl==="function"?finforeAppUrl.call(h):finforeAppUrl));f.push('/socialcallback.php" data-role="button" data-icon="linkedin">Linkedin</a>        </div>       </fieldset>      ')}f.push('     </div>          <form class="new_user" id="new_user">       <div data-role="fieldcontain">       <label for="full_name">Full Name</label>            <input type="text" name="user[full_name]" id="full_name" value="" required />      </div>            <div data-role="fieldcontain">         <label for="user_email_work">Email</label>       <input id="user_email_work" name="user[email_work]" size="30" type="email" required />      </div>            <div data-role="fieldcontain">       <label for="user_password">Password</label>       <input id="user_password" name="user[password]" size="30" type="password" required />      </div>        <div data-role="fieldcontain">       <label for="user_password_confirmation">Password confirmation</label>       <input id="user_password_confirmation" name="user[password_confirmation]" size="30" type="password" required />      </div>            <div data-role="fieldcontain">        <label for="user_geographic">');
if(typeof focus.geographic.title!=="undefined"&&focus.geographic.title!=null)f.push(e.encode(typeof focus.geographic.title==="function"?focus.geographic.title.call(h):focus.geographic.title));f.push('</label>       <select id="user_geographic" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.geographic.profiles!=="undefined"&&focus.geographic.profiles!=null)e.each(typeof focus.geographic.profiles===
"function"?focus.geographic.profiles.call(h):focus.geographic.profiles,function(q,o){with(this){f.push('         <option value="');if(typeof o._id!=="undefined"&&o._id!=null)f.push(e.encode(typeof o._id==="function"?o._id.call(h):o._id));f.push('">');if(typeof o.title!=="undefined"&&o.title!=null)f.push(e.encode(typeof o.title==="function"?o.title.call(h):o.title));f.push("</option>        ")}});f.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_profession">');
if(typeof focus.professional.title!=="undefined"&&focus.professional.title!=null)f.push(e.encode(typeof focus.professional.title==="function"?focus.professional.title.call(h):focus.professional.title));f.push('</label>       <select id="user_profession" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.professional.profiles!=="undefined"&&focus.professional.profiles!=null)e.each(typeof focus.professional.profiles===
"function"?focus.professional.profiles.call(h):focus.professional.profiles,function(q,o){with(this){f.push('         <option value="');if(typeof o._id!=="undefined"&&o._id!=null)f.push(e.encode(typeof o._id==="function"?o._id.call(h):o._id));f.push('">');if(typeof o.title!=="undefined"&&o.title!=null)f.push(e.encode(typeof o.title==="function"?o.title.call(h):o.title));f.push("</option>        ")}});f.push('       </select>      </div>            <div data-role="fieldcontain">       <label for="user_industry">');
if(typeof focus.industrial.title!=="undefined"&&focus.industrial.title!=null)f.push(e.encode(typeof focus.industrial.title==="function"?focus.industrial.title.call(h):focus.industrial.title));f.push('</label>       <select id="user_industry" name="user[profile_ids][]" multiple="multiple" data-native-menu="false" required>        <option>Choose focus areas</option>        ');if(typeof focus.industrial.profiles!=="undefined"&&focus.industrial.profiles!=null)e.each(typeof focus.industrial.profiles===
"function"?focus.industrial.profiles.call(h):focus.industrial.profiles,function(q,o){with(this){f.push('         <option value="');if(typeof o._id!=="undefined"&&o._id!=null)f.push(e.encode(typeof o._id==="function"?o._id.call(h):o._id));f.push('">');if(typeof o.title!=="undefined"&&o.title!=null)f.push(e.encode(typeof o.title==="function"?o.title.call(h):o.title));f.push("</option>        ")}});f.push('       </select>      </div>            <input id="user_submit" name="commit" type="submit" value="Signup for a FastND Account" data-theme="b" />      </form>     </div>        <div id="signup-page2">     <div class="left-column">      <h2>Please connect your FastND account with the following providers</h2>     </div>          <div class="right-column">      <a class="twitter-connect-button" data-type="twitter">Connect with Twitter</a>                <!--      <a class="facebook-connect-button">Connect with Facebook</a>      --\>            <a class="linkedin-connect-button" data-type="linkedin">Connect with Linkedin</a>          <a class="google-connect-button" data-type="google">Connect with Google</a>         </div>          <a id="finish-btn" data-role="button" data-icon="check" data-theme="b">Finish setting up your FastND account</a>    </div>       </div>  </div>')}return f}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/signup.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_addcompany_tmpl",function(d){return function(e,h){var f=[],l=h.data;with(l){f.push('<div id="add-company-page" data-role="dialog" class="small-dialog">   <div data-role="header">    <h1>Add a new company</h1>     </div>   <div data-role="content" data-theme="c">    <ul data-role="listview" data-filter="true" class="companies-list">     ');if(typeof companies!=="undefined"&&companies!=null)e.each(typeof companies==="function"?
companies.call(h):companies,function(q,o){with(this){f.push('     <li data-index="');if(typeof q!=="undefined"&&q!=null)f.push(e.encode(typeof q==="function"?q.call(h):q));f.push('">      <span class="ui-icon ui-icon-plus"></span>      ');if(typeof o.title!=="undefined"&&o.title!=null)f.push(e.encode(typeof o.title==="function"?o.title.call(h):o.title));f.push("      ");if(typeof o.profiles!=="undefined"&&o.profiles!=null)e.each(typeof o.profiles==="function"?o.profiles.call(h):o.profiles,function(r,
u){with(this){f.push('       <span class="ui-li-count">');if(typeof u.title!=="undefined"&&u.title!=null)f.push(e.encode(typeof u.title==="function"?u.title.call(h):u.title));f.push("</span>           ")}});f.push("     </li>    ")}});f.push("    </ul>   </div>  </div>")}return f}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/addcompany.tmpl");if(smallScreen)$("html").addClass("small-screen");else var smallScreen=false;
var finfore=function(){var a={login:finforeBaseUrl+"/user_sessions.json",publicLogin:finforeBaseUrl+"/user_sessions/public_login.json",publicProfiles:finforeBaseUrl+"/category_focus.json",portfolioOverviews:finforeBaseUrl+"/portfolios/overviews.json",portfolioList:finforeBaseUrl+"/portfolios/list.json",feedAccounts:finforeBaseUrl+"/feed_accounts.json",companyTabs:finforeBaseUrl+"/user_company_tabs.json"},d=Storage.getItem("user");if(d)d=JSON.parse(d);var e=Storage.getItem("updateProfile");if(e)e=
e=="true";var h=document.documentElement.clientWidth>1024,f=Storage.getItem("blankState")?false:true,l={user:d,companies:[],panels:{main:{},portfolio:{},companies:{}},portfolios:[],feedInfos:{},ticker:{news:[],prices:[]},selectedFocus:{geographic:[],professional:[],industrial:[]},blankState:f,updateProfile:e},q=function(){$.ajaxSetup({dataType:"json",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token}})},o=function(){var B=Storage.getItem("selectedFocus");
B=B&&finfore.data.user.is_public?JSON.parse(B):finfore.data.user.profiles;$.each(B,function(){switch(this.profile_category.title){case "Geography":finfore.data.selectedFocus.geographic.push(this);break;case "Profession":finfore.data.selectedFocus.professional.push(this);break;case "Industry":finfore.data.selectedFocus.industrial.push(this);break}})},r=function(B){Loader.show();var D=Storage.getItem("focus"),K=new Date,I=false;if(D){D=JSON.parse(D);D.storageDate=new Date(D.storageDate);if(parseInt((K-
D.storageDate)/1E3)<3600)I=true}if(I){finfore.data.focus=D;B()}else WebService.focus({complete:function(U){finfore.data.focus={};$.each(U,function(Z,ba){if(ba.title=="Profession")finfore.data.focus.professional=ba;else if(ba.title=="Geography")finfore.data.focus.geographic=ba;else if(ba.title=="Industry")finfore.data.focus.industrial=ba});finfore.storeData({focus:finfore.data.focus});B()}})},u={date:new Date,shortDate:new Date,priceBridge:2,updateNews:function(B){finfore.data.ticker.news.push(B);
finfore.desktop.ticker.updateNews(B)},updatePrices:function(B){finfore.data.ticker.prices.push(B);finfore.desktop.ticker.updatePrices(B)},cleanTicker:function(){u.date=new Date;u.shortDate=new Date;u.date.setMinutes(u.date.getMinutes()-15);u.shortDate.setMinutes(u.shortDate.getMinutes()-15);var B=l.ticker.news.slice(0);$.each(l.ticker.news,function(D,K){if(K.from_user)new Date(K.created_at)<=u.shortDate&&B.splice(D,1);else new Date(K.publishedDate)<=u.date&&B.splice(D,1)});l.ticker.news=B.slice(0);
empty(finfore.desktop.ticker.$node[0]);$.each(l.ticker.news,function(D){finfore.desktop.ticker.updateNews(D)})}};u.date.setMinutes(u.date.getMinutes()-15);u.shortDate.setMinutes(u.shortDate.getMinutes()-15);window.setInterval(u.cleanTicker,9E5);var v=function(B,D){if(B.position>D.position)return 1;if(B.position<D.position)return-1;return 0},F={create:function(B){finfore.data.portfolios.push({feed_account:B});var D=finfore.data.portfolios.length-1;return $.ajax({url:a.portfolioList,data:{feed_account_id:B._id},
success:function(K){F.createPanels(K,D)}})},createPanels:function(B,D){B.rss.chanel.error&&$().toastmessage("showErrorToast","Can't sign-in into your Google Portfolios account. <br>Please make sure the details are correct. ");if(!B.rss.chanel.item){finfore.data.portfolios[0].list=[];return false}if(!$.isArray(B.rss.chanel.item))B.rss.chanel.item=[B.rss.chanel.item];finfore.data.portfolios[D].list=B.rss.chanel.item;$.each(finfore.data.portfolios[D].list,function(){var K=this,I=/[0-9]*$/.exec(this.id);
if(I!=null)this.id_bare=I[0];setTimeout(function(){$.ajax({url:a.portfolioOverviews,type:"GET",data:{feed_account_id:finfore.data.portfolios[D].feed_account._id,portfolio_id:K.id_bare},success:function(U){K.overview=U;finfore.panels.create({type:"portfolio",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[D],portfolio:K}});finfore.panels.create({type:"agenda",tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[D],portfolio:K}});finfore.panels.create({type:"feed",
tab:finfore.desktop.nodes.tabs.$portfolio,options:{panel:finfore.data.portfolios[D],portfolio:K}})}})},50)})},remove:function(B){var D=B.feed_account._id;$.each(finfore.data.panels.portfolio,function(){$.each(this,function(){this.panel.feed_account._id===D&&finfore.desktop.panels.remove({options:{panel:this}})})})}},A={create:function(B){if(B.options.company){finfore.data.panels.companies[B.options.company.feed_info.id]||(finfore.data.panels.companies[B.options.company.feed_info.id]={});finfore.data.panels.companies[B.options.company.feed_info.id][B.type]||
(finfore.data.panels.companies[B.options.company.feed_info.id][B.type]=[]);finfore.data.panels.companies[B.options.company.feed_info.id][B.type].push(B.options)}else if(B.options.portfolio){finfore.data.panels.portfolio[B.type]||(finfore.data.panels.portfolio[B.type]=[]);finfore.data.panels.portfolio[B.type].push(B.options)}else{finfore.data.panels.main[B.type]||(finfore.data.panels.main[B.type]=[]);finfore.data.panels.main[B.type].push(B.options)}setTimeout(function(){finfore.desktop.panels.create(B)},
50)},remove:function(B){finfore.data.panels.main[B.type].splice(B.options.index,1);finfore.desktop.panels.remove(B)}},H={add:function(B,D){finfore.data.companies=finfore.data.companies.concat(B);$.each(B,function(){var K=this._id;finfore.desktop.tabs.add({id:K,title:this.feed_info.title,closable:!finfore.data.user.is_public});K=$("#"+K);var I;if(D){I=h?$("li:last",finfore.desktop.nodes.$tabList):$(".collapsible-company:last",finfore.desktop.nodes.$tabletTabs);finfore.desktop.tabs.select(I)}finfore.panels.create({type:"prices",
tab:K,options:{company:this}});finfore.panels.create({type:"feed",tab:K,options:{company:this}});finfore.panels.create({type:"feed",tab:K,options:{company:this,blogsearch:true}});finfore.panels.create({type:"twitter",tab:K,options:{company:this}});finfore.panels.create({type:"feed",tab:K,options:{company:this,bingsearch:true}});finfore.panels.create({type:"agenda",tab:K,options:{company:this}});finfore.panels.create({type:"agenda",tab:K,options:{company:this,competitor:true}});finfore.panels.create({type:"twitter",
tab:K,options:{company:this,competitor:true}});finfore.panels.create({type:"blinkx",tab:K,options:{company:this}})})},remove:function(){var B=$(this).parent("li"),D=$("a",B).attr("href").substr(1),K="<h2>Are you sure you sure you want to remove <em>"+$("a",B).text()+"</em>?</h2>";$.prompt(K,{callback:function(I){if(I){$.ajax({url:finforeBaseUrl+"/user_company_tabs/"+D+".json",type:"DELETE",data:{feed_account_id:D}});finfore.desktop.tabs.remove(B)}},buttons:{Cancel:false,"Remove Column":true}});return false}},
z=function(){finfore.manage={};finfore.profile={}},Q=function(){o();finfore.desktop.init();finfore.data.user.is_public&&z()};return{init:function(){d&&q();r(function(){if(d)WebService.refreshUser({complete:Q});else{var B;$.each(finfore.data.focus.geographic.profiles,function(){if(this.title=="USA & Canada")B=this._id});finfore.publicLogin({ids:finfore.data.focus.industrial.profiles[0]._id+","+B+","+finfore.data.focus.professional.profiles[0]._id},Q)}});if(finfore.data.user&&!finfore.data.user.is_public)finfore.data.blankState=
false},panels:A,portfolios:F,modules:{},companies:H,ticker:u,nodes:{},url:a,data:l,storeData:function(B){if(B.user){finfore.data.user=B.user;Storage.setItem("user",JSON.stringify(B.user));q()}if(B.focus){B.focus.storageDate=new Date;Storage.setItem("focus",JSON.stringify(B.focus))}B.selectedFocus&&Storage.setItem("selectedFocus",JSON.stringify(B.selectedFocus))},populate:function(){var B=[];(function(D){$.each(D,function(K,I){if(I.position==null)I.position=999});D.sort(v);$.each(D,function(){var K=
this,I=K.category;if(I=="portfolio")B.push(F.create(K));else{if(I=="rss")I="feed";else if(I=="chart")I="prices";else if(I=="gmail"||I=="facebook")return;I=="keyword"&&!K.keyword_column||A.create({type:I,tab:finfore.desktop.nodes.tabs.$main,options:{feed_account:K}})}});$.when(B).then(function(){smallScreen||finfore.desktop.enableManagement();Loader.hide()})})(finfore.data.user.feed_accounts);$.each(finfore.data.user.user_company_tabs,function(D,K){if(K.position==null)K.position=999});finfore.data.user.user_company_tabs.sort(v);
H.add(finfore.data.user.user_company_tabs)},tablet:false,smallScreen:smallScreen,$body:$("body"),publicLogin:function(B,D){$.mobile.showPageLoadingMsg&&$.mobile.showPageLoadingMsg();$.ajax({url:a.publicLogin,type:"POST",data:{pids:B.ids},success:function(K){if(K.user){Storage.removeItem("selectedFocus");var I=$.extend({},K.user);finfore.storeData({user:I});finfore.storeData({selectedFocus:K.selecteds})}else{$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.");
Loader.hide();return false}D&&D(I)},error:function(){$().toastmessage("showErrorToast","<strong>Sorry, currently no public account is available for your areas of interest.</strong><br /> Please try later.")}})}}}(),lastActivePage;finfore.$body.delegate("[data-role=dialog]","pageshow",function(a,d){if(d.prevPage.attr("data-role")=="page")lastActivePage=d.prevPage});
$.mobile.dialog.prototype._create=function(){var a=this.element,d=$("<a data-"+$.mobile.ns+"icon='delete' data-"+$.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>");a.addClass("ui-overlay-"+this.options.overlayTheme);a.attr("role","dialog").addClass("ui-dialog").find(":jqmData(role='header')").addClass("ui-corner-top ui-overlay-shadow").prepend(d).end().find(":jqmData(role='content'),:jqmData(role='footer')").addClass("ui-overlay-shadow").last().addClass("ui-corner-bottom");d.bind("vclick",
function(){$.mobile.changePage(lastActivePage,{changeHash:false,reverse:true,transition:"slidedown"});return false});a.bind("vclick submit",function(e){e=$(e.target).closest(e.type==="vclick"?"a":"form");var h;if(e.length&&!e.jqmData("transition")){h=$.mobile.urlHistory.getActive()||{};e.attr("data-"+$.mobile.ns+"transition",h.transition||$.mobile.defaultDialogTransition).attr("data-"+$.mobile.ns+"direction","reverse")}}).bind("pagehide",function(){$(this).find("."+$.mobile.activeBtnClass).removeClass($.mobile.activeBtnClass)})};
var currentTitle=document.title;finfore.$body.delegate("div[data-role=page], div[data-role=dialog]","pagebeforeshow",function(){document.title=currentTitle});steal.loaded("webapp/core/core.js");
finfore.desktop=function(){var a={$page:[],tabs:{tabIndex:0}},d={};d.add=function(f){var l=f.id!=="main"&&f.id!=="portfolio",q=f.id=="portfolio",o=a.$mainPageContent;if(l){f='<div data-role="collapsible" data-collapsed="true" data-theme="a" id="'+f.id+'" class="collapsible-company"><h3>'+f.title+'</h3><ul data-role="listview" data-split-icon="arrow-r" data-split-theme="c" class="split-selector"></ul></div>';o=a.$companiesPageContent}else{f='<ul data-role="listview" id="'+f.id+'" data-split-icon="arrow-r" data-split-theme="c" class="split-selector"></ul>';
if(q)o=a.$stocksPageContent}q=$(f);q.appendTo(o);if(l){q.collapsible();$("ul",q).listview()}else q.listview();return q};d.select=function(f){setTimeout(function(){$("html,body").animate({scrollTop:f.offset().top},1E3)},500);f.trigger("expand")};var e={};e.create=function(f){var l=$('<div class="'+f.type+' panel" data-role="page"></div>'),q=f.tab,o=a.$mainColumns;f.options.$node=l;$.data(l[0],"data",f.options);$.data(l[0],"type",f.type);var r;if(f.options.feed_account)r=f.options.feed_account.name;
if(f.options.company){r=f.options.company.feed_info.title;if(f.type==="feed"){r="Company News";if(f.options.bingsearch)r="Additional News";if(f.options.blogsearch)r="News From Blogs"}if(f.type==="podcast")r="Podcasts";if(f.type==="prices")r="Prices";if(f.type==="agenda"&&!f.options.competitor)r="Calendar";if(f.type==="agenda"&&f.options.competitor)r="Competitors Calendar";if(f.type==="twitter"&&!f.options.competitor)r="Breaking News";if(f.type==="twitter"&&f.options.competitor)r="Competitors News";
if(f.type==="blinkx")r="Broadcast News";q=$("ul",q)}if(f.options.portfolio){r='<span class="trunc-title">'+f.options.portfolio.title+"</span>";if(f.type==="agenda")r+=" Calendar";if(f.type==="portfolio")r+=" Prices";if(f.type==="feed")r+=" News"}r=$("<li><a>"+r+'</a><a class="mobile-column-select"></a></li>');r.find(".mobile-column-select").bind("click",function(){$.mobile.changePage(l,{transition:"slide"})});q.append(r);q.listview("refresh");if(f.options.company)o=a.$companiesColumns;else if(f.options.portfolio)o=
a.$stocksColumns;l.appendTo(o);finfore.modules[f.type].init(l,f.options)};e.remove=function(f){f.options.panel.$node.remove()};e.next=function(f){f=f.nextAll(".panel:first");f.length&&$.mobile.changePage(f,{transition:"slide"})};e.previous=function(f){f=f.prevAll(".panel:first");f.length&&$.mobile.changePage(f,{transition:"slide",reverse:true})};var h={updateNews:function(f){if(finfore.data.user.is_public)return false;if(f.screen_name){var l="http://twitter.com/"+f.from_user;if(f.text){var q=f.text.match(/(HTTP:\/\/|HTTPS:\/\/)([a-zA-Z0-9.\/&?_=!*,\(\)+-]+)/i);
if(q)l=q[0]}f='<a href="'+l+'" target="_blank" title="'+f.text+'" class="twitter-update" data-role="button" data-icon="twitter-update">'+f.text+"</a>"}else if(f.elt||f.lt){l=f.e+":"+f.t;q="";var o=f.cp;if(o<0)q="-";else if(o>0)q="+";q=l+": "+f.l+" "+q+" "+Math.abs(o)+"%";f='<a href="http://www.google.com/finance?q='+l+'" target="_blank" title="'+f.name+'" data-icon="prices-update" data-role="button">'+q+"</a>"}else f='<a href="'+f.link+'" target="_blank" title="'+f.title+'" data-icon="feed-update" data-role="button">'+
(f.title||"")+"</a>";h.$node.append(f);$("[data-role=button]:last",h.$node).button()}};h.updatePrices=h.updateNews;return{init:function(){var f=$.View("//webapp/views/desktop.mobile.tmpl",{user:finfore.data.user,focus:finfore.data.focus,focus:finfore.data.focus,blankState:finfore.data.blankState,selectedFocus:finfore.data.selectedFocus});finfore.$body.append(f);$.extend(a,{$navBar:$(".mobile-navbar"),$mainPage:$(".main-page"),$stocksPage:$(".stocks-page"),$companiesPage:$(".companies-page"),$mainColumns:$(".main-columns"),
$companiesColumns:$(".companies-columns"),$stocksColumns:$(".stocks-columns")});$.extend(a,{$mainBtn:$(".main-button",a.$navBar),$stocksBtn:$(".stocks-button",a.$navBar),$companiesBtn:$(".companies-button",a.$navBar),$alertsBtn:$(".alerts-button",a.$navBar),$stocksPageContent:$("[data-role=content]",a.$stocksPage),$mainPageContent:$("[data-role=content]",a.$mainPage),$companiesPageContent:$("[data-role=content]",a.$companiesPage)});finfore.$body.trigger("create");$.mobile.changePage(a.$mainPage);
if(finfore.data.user){d.add({id:"main",title:"Main",closable:false});a.tabs.$main=$("#main");d.add({id:"portfolio",title:"Portfolio",closable:false});a.tabs.$portfolio=$("#portfolio");a.tabs.$main.add(a.tabs.$portfolio);finfore.populate();$(document).delegate(".panel-back-button","click",function(){var l=$(this).closest(".columns-container");l=$("."+l.attr("data-backpage"));$.mobile.changePage(l,{reverse:true,transition:"slide"});return false});$(document).delegate(".panel","swipeleft",function(){e.next($(this))});
$(document).delegate(".panel","swiperight",function(){e.previous($(this))});$(document).delegate(".panel","pagebeforeshow",function(){var l=$(this);if(!l.hasClass("column-loaded")){l.trigger("refresh",[true]);l.addClass("column-loaded")}});$(document).delegate(".panel-next","click",function(){var l=$(this).parents(".panel:first");e.next(l)});$(document).delegate(".panel-previous","click",function(){var l=$(this).parents(".panel:first");e.previous(l)});if(finfore.data.user.is_public){$(".signin-button").click(finfore.login.init);
$(".lookup-button").click(function(){finfore.addcompany.init();return false})}else{h.$page=$("#mobile-updates");h.$node=$(".mobile-update-list",h.$page);finfore.$body.delegate(".logout-button","click",function(){Storage.removeItem("user");Storage.removeItem("updateProfile");window.location.reload();return false});finfore.$body.delegate(".add-tab-button","click",finfore.addcompany.init)}a.$mainBtn.bind("click",function(){$.mobile.changePage(a.$mainPage)});a.$stocksBtn.bind("click",function(){$.mobile.changePage(a.$stocksPage)});
a.$companiesBtn.bind("click",function(){$.mobile.changePage(a.$companiesPage)});a.$companiesPage.bind("pageshow",function(){$(".ui-btn-active",a.$navBar).removeClass("ui-btn-active");a.$companiesBtn.addClass("ui-btn-active")});a.$alertsBtn.bind("click",function(){$.mobile.changePage(h.$page)});finfore.$body.delegate("[data-role=page]","pageshow",function(){a.$navBar.is(":hidden")&&a.$navBar.show()});finfore.$body.delegate("[data-role=dialog]","pageshow",function(){a.$navBar.is(":visible")&&a.$navBar.hide()})}},
nodes:a,tabs:d,panels:e,ticker:h}}();steal.loaded("webapp/core/desktop.mobile.js");
finfore.login=function(){var a,d={},e=function(){var f=$(this),l=$("#login",f).val();f=$("#password",f).val();WebService.auth({username:l,password:f,complete:function(q){finfore.storeData({user:q});window.location.reload()}});return false},h=function(){$.prompt('<p><label>Type your email address in the field bellow and we will send you a message with your password: <br><input type="text" id="email" name="email" value="" class="ui-input-text ui-body-null ui-corner-all ui-shadow-inset ui-body-c" placeholder="Email.."></label></p>',{callback:function(f,
l,q){f&&q.email&&$.ajax({url:finforeBaseUrl+"/users/forgot_password.json",type:"GET",data:{email:q.email},success:function(o){o.status=="SUCCESS"?$().toastmessage("showSuccessToast","A message containing your password has been sent to your email address. "):$().toastmessage("showErrorToast","We couldn't find your email address in our database. Please try again. ")},error:function(){$().toastmessage("showErrorToast","We couldn't send you your password. Please try again later. ")}})},buttons:{Cancel:false,
"Send Request":true}})};return{init:function(){if($("#login-page").length){a=$("#login-page");$.mobile.changePage(a,{transition:"slidedown"})}else{var f=$.View("//webapp/views/login.tmpl",{user:finfore.data.user,focus:finfore.data.focus,selectedFocus:finfore.data.selectedFocus,smallScreen:finfore.smallScreen,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl});$.mobile.hidePageLoadingMsg&&$.mobile.hidePageLoadingMsg();finfore.$body.append(f);a=$("#login-page");$("#signup-button",a).click(finfore.signup.init);
finfore.smallScreen?$.mobile.changePage(a,{changeHash:false}):$.mobile.changePage(a,{transition:"slidedown"});a.find("form").bind("submit",e);$(".forgot-password",a).click(h);if(smallScreen){d.$publicPage=$("#public-account-selector");d.$publicPage.page();d.$professionSelector=$("#profession",d.$publicPage);d.$geoSelector=$("#geographic",d.$publicPage);d.$industrySelector=$("#industry",d.$publicPage);$(".public-account-selector-btn").click(function(){var l=d.$industrySelector.val()+","+d.$geoSelector.val()+
","+d.$professionSelector.val();finfore.publicLogin({ids:l},function(q){finfore.storeData({user:q});window.location.reload()})});$(".public-account-btn").click(function(){$.mobile.changePage(d.$publicPage,{transition:"slide"});return false})}}}}}();steal.loaded("webapp/core/login.js");
finfore.signup=function(){var a,d,e,h,f,l,q,o=function(v){finfore.data.user=v.user;Storage.setItem("user",JSON.stringify(finfore.data.user));e.hide();h.show();$.mobile.hidePageLoadingMsg()},r=function(){$.mobile.showPageLoadingMsg();var v=$(this).serialize();$.ajax({url:finforeBaseUrl+"/users.json",type:"POST",data:v,error:function(F){$.mobile.hidePageLoadingMsg();try{var A=JSON.parse(F.responseText)}catch(H){$().toastmessage("showToast",{text:"There was a problem registering your user. Please try again later.",
type:"error",sticky:true});return false}$.each(A,function(z,Q){if(Q[0]=="email_work")Q[0]="Your email";if(Q[0]=="password")Q[0]="Your password";if(Q[0]!=="password_confirmation"&&Q[0]!=="login"){z="<strong>"+Q[0]+"</strong> "+Q[1];$().toastmessage("showToast",{text:z,sticky:true,type:"error"})}})},success:o});return false},u=function(){var v=$(this),F=$(this).attr("data-type");window.open(finforeBaseUrl+"/feed_accounts/"+F+"/auth?auth_token="+finfore.data.user.single_access_token+"&auth_secret="+
finfore.data.user.persistence_token+"&callback="+finforeAppUrl+"/authorize.php","_blank","resizable=yes,scrollbars=yes,status=yes");window.addEventListener("message",authorized=function(){v.hide();window.removeEventListener("message",authorized)},false)};return{init:function(){if($("#signup-page").length)$.mobile.changePage($("#signup-page"),{transition:"slidedown"});else{var v=$.View("//webapp/views/signup.tmpl",{focus:finfore.data.focus,finforeBaseUrl:finforeBaseUrl,finforeAppUrl:finforeAppUrl,
smallScreen:finfore.smallScreen});$(v).appendTo(finfore.$body);a=$("#signup-page");d=$("[data-role=content]",a);e=$("#signup-page1",d);h=$("#signup-page2",d);f=$(".twitter-connect-button",a);$linkedinAuthBtn=$(".linkedin-connect-button",a);l=$(".google-connect-button",a);q=$("#finish-btn");f.click(u);$linkedinAuthBtn.click(u);l.click(u);q.click(function(){window.location.reload()});$.mobile.changePage($("#signup-page"),{transition:"slidedown"});d.find("form").submit(r)}},authorizeService:u}}();steal.loaded("webapp/core/signup.js");
finfore.addcompany=function(){var a,d,e,h=function(){var l=parseInt($(this).attr("data-index")),q=e[l]._id,o=false,r=finfore.smallScreen?finfore.desktop.nodes.$companiesPage:finfore.desktop.nodes.$page;$.each(finfore.data.companies,function(u,v){if(v.feed_info_id==q){v=u=$("#"+v._id,r);finfore.smallScreen||(v=$.data(u[0],"selector"));finfore.desktop.tabs.select(v);o=true;return false}});(function(){$.mobile.changePage(r,{transition:"slidedown",reverse:true});if(o)return false;if(finfore.data.user.is_public)finfore.companies.add([{feed_info:e[l],
_id:e[l]._id}],true);else{Loader.show();$.ajax({url:finforeBaseUrl+"/user_company_tabs.json",type:"POST",data:{user_company_tab:{feed_info_id:q,follower:"0",is_aggregate:true}},success:function(u){finfore.companies.add([u],true);Loader.hide()}})}})()},f=function(l,q){l=l.title.toLowerCase();q=q.title.toLowerCase();if(l<q)return-1;if(l>q)return 1;return 0};return{init:function(){Loader.show();a=$("#add-company-page");if(a.length){$.mobile.changePage(a,{transition:"slidedown"});Loader.hide()}else $.ajax({url:finforeBaseUrl+
"/feed_infos.json",type:"GET",data:{category:"all_companies"},success:function(l){if(!a.length){l.sort(f);e=l;l=$.View("//webapp/views/addcompany.tmpl",{companies:l});$(l).appendTo(finfore.$body);a=$("#add-company-page");d=$("[data-role=content]",a)}$("ul li",d).click(h);$.mobile.changePage(a,{transition:"slidedown"});Loader.hide()}})}}}();steal.loaded("webapp/core/addcompany.js");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_tmpl",function(d){return function(e,h){var f=[],l=h.data;with(l){f.push('<div data-role="header">    ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(h):smallScreen))f.push('    <a data-role="button" data-icon="arrow-l" data-inline="true" class="ui-btn-left panel-back-button">Back</a>   ');f.push("   <h1>");if(typeof title!=="undefined"&&title!=null)f.push(e.encode(typeof title===
"function"?title.call(h):title));f.push("</h1>   ");if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(h):smallScreen))f.push('    <div data-role="controlgroup" data-type="horizontal" class="ui-btn-right panel-mobile-sliders">     <a data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-previous">Previous Column</a>     <a data-role="button" data-icon="arrow-r" data-iconpos="notext" data-theme="a" data-inline="true" class="panel-next">Next Column</a>    </div>   ');
f.push('  </div>  <div data-role="content">   ');if(typeof content!=="undefined"&&content!=null)f.push(typeof content==="function"?content.call(h):content);f.push("  </div>")}return f}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_feed_tmpl",function(d){return function(e,h){e=[];var f=h.data;with(f){e.push('<ul data-role="listview" data-theme="c" ');if(typeof smallScreen!=="undefined"&&smallScreen!=null&&(typeof smallScreen==="function"?smallScreen.call(h):smallScreen))e.push('data-split-icon="arrow-r" data-split-theme="c" class="split-selector"');e.push('>   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>')}return e}.call(jQuery,
jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.feed.tmpl");steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_podcast_tmpl",function(d){return function(e,h){e=[];h=h.data;with(h)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.podcast.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_twitter_tmpl",function(d){return function(e,h){e=[];var f=h.data;with(f){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(h):!connected))e.push('   <a class="twitter-connect-button">Connect with Twitter</a>  ');e.push('    <ul class="tweets"></ul>    ');if(typeof connected!=="undefined"&&connected!=null&&(typeof connected==="function"?connected.call(h):connected))e.push('   <ul data-role="listview" class="load-more-container">    <li data-icon="false" data-theme="d">     <a class="load-more-tweets">Load more...</a>    </li>   </ul>  ');
e.push("")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_twitter_tweet_tmpl",function(d){return function(e,h){var f=[],l=h.data;with(l){f.push("");if(typeof tweets!=="undefined"&&tweets!=null)e.each(typeof tweets==="function"?tweets.call(h):tweets,function(q,o){with(this){f.push('   <li class="ui-li ui-btn-up-c">    <a class="tweet-avatar" href="http://twitter.com/');if(typeof o.screen_name!=="undefined"&&o.screen_name!=null)f.push(e.encode(typeof o.screen_name==="function"?
o.screen_name.call(h):o.screen_name));f.push('" target="_blank">     <img src="');if(typeof o.profile_image_url!=="undefined"&&o.profile_image_url!=null)f.push(e.encode(typeof o.profile_image_url==="function"?o.profile_image_url.call(h):o.profile_image_url));f.push('" height="48" width="48" alt="');if(typeof o.screen_name!=="undefined"&&o.screen_name!=null)f.push(e.encode(typeof o.screen_name==="function"?o.screen_name.call(h):o.screen_name));f.push('" title="');if(typeof o.screen_name!=="undefined"&&
o.screen_name!=null)f.push(e.encode(typeof o.screen_name==="function"?o.screen_name.call(h):o.screen_name));f.push('" border="0">    </a>    <span class="tweet-text">     ');if(typeof o.html!=="undefined"&&o.html!=null)f.push(typeof o.html==="function"?o.html.call(h):o.html);f.push('    </span>    <span class="tweet-time">     <a href="http://twitter.com/');if(typeof o.screen_name!=="undefined"&&o.screen_name!=null)f.push(e.encode(typeof o.screen_name==="function"?o.screen_name.call(h):o.screen_name));
f.push("/status/");if(typeof o.id_str!=="undefined"&&o.id_str!=null)f.push(e.encode(typeof o.id_str==="function"?o.id_str.call(h):o.id_str));f.push('" title="View tweet on Twitter" target="_blank">      ');if(typeof o.created_at!=="undefined"&&o.created_at!=null)f.push(e.encode(typeof o.created_at==="function"?o.created_at.call(h):o.created_at));f.push("     </a>    </span>   </li>  ")}});f.push("")}return f}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.twitter.tweet.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_prices_tmpl",function(d){return function(e,h){e=[];h=h.data;with(h)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.prices.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_portfolio_tmpl",function(d){return function(e,h){e=[];h=h.data;with(h)e.push('<table class="prices-table">   <thead>    <tr class="ui-bar-a">     <td>Company</td>     <td>Price</td>     <td>Change</td>     <td>%</td>    </tr>   </thead>   <tbody></tbody>  </table>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.portfolio.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_agenda_tmpl",function(d){return function(e,h){e=[];h=h.data;with(h)e.push('<div class="events-months-container"></div>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.agenda.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_linkedin_tmpl",function(d){return function(e,h){e=[];var f=h.data;with(f){e.push("");if(typeof!connected!=="undefined"&&!connected!=null&&(typeof!connected==="function"?(!connected).call(h):!connected))e.push('  <a class="linkedin-connect-button">Connect with Twitter</a>  ');e.push("  <ul></ul>")}return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.linkedin.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_blinkx_tmpl",function(d){return function(e,h){e=[];h=h.data;with(h)e.push('<ul data-role="listview">   <li data-icon="false" data-theme="d">    <a class="load-more-entries">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.blinkx.tmpl");
steal("jquery/view/tmpl").then(function(a){a.View.preload("webapp_views_module_keyword_tmpl",function(d){return function(e,h){e=[];h=h.data;with(h)e.push('<ul class="tweets"></ul>  <ul data-role="listview" class="load-more-container">   <li data-icon="false" data-theme="d">    <a class="load-more-tweets">Load more...</a>   </li>  </ul>');return e}.call(jQuery,jQuery,{data:d}).join("")})});steal.loaded("webapp/views/module.keyword.tmpl");
finfore.modules.feed=function(){var a=function(e){var h=e.sources.slice(0);if(e.bingsearch&&e.limit>20){h[0]+="&news.offset=";h[0]+=e.limit*1-9}feedReader.get({sources:h,limit:e.limit,complete:function(f){if(!e.bingsearch&&e.loadMore===true&&e.limit>20)f=f.slice(e.limit-20,e.limit);var l="",q=f.length-1;$.each(f,function(o){if(e.loadMore===true||this.pubDate>e.date){l+=o===q?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';if(finfore.smallScreen){l+="<a><abbr>"+this.source+
"</abbr>";l+="<h3>"+this.title+"</h3>";l+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";l+='</a><a href="'+this.link+'" target="_blank" class="mobile-column-select"></a>'}else{l+='<a href="'+this.link+'" target="_blank"><abbr>'+this.source+"</abbr>";l+="<h3>"+this.title+"</h3>";l+="<p>"+this.description+"</p>";l+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";l+="</a>"}l+="</li>";if(!e.company||!finfore.smallScreen)this.pubDate>finfore.ticker.date&&finfore.ticker.updateNews(this)}});f=$(".load-more-entries",
e.$container).parents("li").first();$(l).insertBefore(f);f=$("[data-role=content] ul",e.$container);f.jqmData("listview")?f.listview("refresh"):f.listview();e.$container.removeClass("panel-loading")}})},d=function(e,h){var f=0,l=[];if(h.company){var q;if(h.blogsearch)q="http://www.google.com/search?hl=en&q="+$.URLEncode(h.company.feed_info.company_competitor.blog_keyword)+"&ie=utf-8&tbm=blg&num=100&output=rss";else if(h.bingsearch){h.company.feed_info.company_competitor.bing_keyword=h.company.feed_info.company_competitor.bing_keyword.replace(",",
" OR ");q="http://api.bing.com/rss.aspx?Source=News&Market=en-US&Version=2.0&Query="+$.URLEncode(h.company.feed_info.company_competitor.bing_keyword)+"&news.count=20"}else q="http://www.google.com/finance/company_news?q="+h.company.feed_info.company_competitor.finance_keyword+"&authuser=0&output=rss&num=100";l=[q]}if(h.portfolio&&h.portfolio.overview.rss.chanel.item)if($.isArray(h.portfolio.overview.rss.chanel.item))$.each(h.portfolio.overview.rss.chanel.item,function(){l.push("http://www.google.com/finance/company_news?q="+
this.google_ticker+"&authuser=0&output=rss")});else l=["http://www.google.com/finance/company_news?q="+h.portfolio.overview.rss.chanel.item.google_ticker+"&authuser=0&output=rss"];if(h.feed_account&&!h.portfolio)l=$.map(h.feed_account.user_feeds,function(r){return r.feed_info.address});var o=function(r,u){e.addClass("panel-loading");if(u===true)f+=20;a({sources:l,$container:e,date:new Date,loadMore:u,limit:f,blogsearch:h.blogsearch,bingsearch:h.bingsearch})};(function(){$(document).height();if(h.feed_account)var r=
h.feed_account.name;if(h.portfolio)r=h.portfolio.title;if(h.company){r="Company News";if(h.blogsearch)r="News from Blogs";if(h.bingsearch)r="Additional News"}var u=$.View("//webapp/views/module.feed.tmpl",{smallScreen:finfore.smallScreen});r=$.View("//webapp/views/module.tmpl",{title:r,smallScreen:finfore.smallScreen,content:u});$(r).appendTo(e);e.bind("refresh",o);e.bind("reinit",function(){clearInterval(v);e.unbind();e.empty();e.jqmRemoveData();d(e,h)});$(".load-more-entries",e).click(function(F){e.trigger("refresh",
[true]);F.preventDefault();return false});if(!finfore.smallScreen){var v=setInterval(o,3E5);e.trigger("refresh",[true])}e.page();e.trigger("init")})()};return{init:d,management:function(e){finfore.data.panels.main.feed||(finfore.data.panels.main.feed=[]);var h=$.View("//webapp/views/module.feed.management.tmpl",{panels:finfore.data.panels.main.feed});$(h).appendTo(e);var f=$(".mtabs-container",e);finfore.manage.bindPanelData({$container:f,category:"feed"});$(".edit-column-title",e).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",
f),category:"feed"})});$(".add-column",e).click(function(){finfore.manage.panels.create({$node:f,category:"feed"})});$(".remove-column",e).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",f),category:"feed"})});f.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",f),category:"feed"})});f.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",f),category:"feed"})});$(".add-preset-source",
e).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",f),$presets:$(".preset-tabs",e),category:"feed"})});$(".mtab-content",f).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",f),$presets:$(".preset-tabs",e),category:"feed"})}});var l=allCount=0,q=$(".preset-sources-suggested",e);h=$(".load-more",q);var o=$(".preset-sources-all",e),r=$(".load-more",o),u=function(){l++;finfore.manage.updateFeedInfos({$node:q,
type:"feed",category:"rss",count:l});return false},v=function(){allCount++;finfore.manage.updateFeedInfos({$node:o,type:"feed",category:"all,rss",count:allCount});return false};h.click(u);r.click(v);u();v()}}}();steal.loaded("webapp/modules/feed.js");
finfore.modules.podcast=function(){var a=["mp4","3g2","3gp","asf","asx","avi","flv","mov","mpg","rm","vob","webm","wmv","ogv","ogg"],d=function(h){feedReader.get({sources:h.sources,limit:h.limit,complete:function(f){if(h.loadMore===true&&h.limit>5)f=f.slice(h.limit-5,h.limit);var l="",q=f.length-1;$.each(f,function(u){if(h.loadMore===true||this.pubDate>h.date){l+=u===q?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';u=this.link;var v=u.split(".").pop();l+="<abbr>"+this.source+
"</abbr>";l+='<h3><a href="'+this.link+'" target="_blank">'+this.title+"</a></h3>";l+=$.inArray(v,a)===0?'<video src="'+u+'" width="270" height="150" controls="controls" type="video/'+v+'" preload="none"></video>':'<audio src="'+u+'" controls="controls" type="audio/'+v+'" preload="none"></audio>';l+="<p>"+this.description+"</p>";l+="<abbr>"+this.pubDate.toUTCString()+"</abbr>";l+="</li>"}});f=$(".load-more-entries",h.$container).parents("li").first();var o=$(l),r=$("[data-role=content] ul",h.$container);
o.insertBefore(f);r.jqmData("listview")?r.listview("refresh"):r.listview();$("video, audio",o).mediaelementplayer({audioWidth:275,pluginPath:"webapp/lib/mediaelement/"});h.$container.removeClass("panel-loading")}})},e=function(h,f){var l=0,q=[];q=$.map(f.feed_account.user_feeds,function(r){return r.feed_info.address});var o=function(r,u){h.addClass("panel-loading");if(u===true)l+=5;d({sources:q,$container:h,date:new Date,loadMore:u,limit:l})};(function(){$(document).height();var r=$.View("//webapp/views/module.podcast.tmpl",
{});r=$.View("//webapp/views/module.tmpl",{title:f.feed_account.name,smallScreen:finfore.smallScreen,content:r});$(r).appendTo(h);$(".load-more-entries",h).click(function(v){h.trigger("refresh",[true]);v.preventDefault();return false});h.bind("refresh",o);h.bind("reinit",function(){clearInterval(u);h.unbind();h.empty();h.jqmRemoveData();e(h,f)});if(!finfore.smallScreen){var u=setInterval(o,3E5);h.trigger("refresh",[true])}h.page();h.trigger("init")})()};return{init:e,management:function(h){finfore.data.panels.main.podcast||
(finfore.data.panels.main.podcast=[]);var f=$.View("//webapp/views/module.podcast.management.tmpl",{panels:finfore.data.panels.main.podcast});$(f).appendTo(h);var l=$(".mtabs-container",h);finfore.manage.bindPanelData({$container:l,category:"podcast"});finfore.manage.bindPanelData({$container:l,category:"podcast"});$(".edit-column-title",h).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",l),category:"podcast"})});$(".add-column",h).click(function(){finfore.manage.panels.create({$node:l,
category:"podcast"})});$(".remove-column",h).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",l),category:"podcast"})});l.delegate(".add-custom-source","click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",l),category:"podcast"})});l.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",l),category:"podcast"})});$(".add-preset-source",h).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
l),$presets:$(".preset-tabs",h),category:"podcast"})});$(".mtab-content",l).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",l),$presets:$(".preset-tabs",h),category:"podcast"})}});var q=allCount=0,o=$(".preset-sources-suggested",h);f=$(".load-more",o);var r=$(".preset-sources-all",h),u=$(".load-more",r),v=function(){q++;finfore.manage.updateFeedInfos({$node:o,type:"podcast",category:"podcast",count:q});return false},F=function(){allCount++;
finfore.manage.updateFeedInfos({$node:r,type:"podcast",category:"all,podcast",count:allCount});return false};f.click(v);u.click(F);v();F()}}}();steal.loaded("webapp/modules/podcast.js");
finfore.modules.twitter=function(){var a=function(d,e){var h,f=20,l,q,o,r,u=function(A){empty(q[0]);d.removeClass("panel-loading");if(A.results)A=A.results;$.each(A,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});h=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:A});q.append(h);A&&$.each(A,function(){var H=new Date(this.created_at);e.company&&finfore.smallScreen||H>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},v=function(A){d.addClass("panel-loading");if(A===true)f+=5;q.removeData();if(e.company){q.unbind("load");A=e.competitor?e.company.feed_info.company_competitor.keyword.replace(/,/g," OR "):e.company.feed_info.company_competitor.company_ticker+" OR "+e.company.feed_info.company_competitor.broadcast_keyword;$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:A,rpp:f},success:u})}else $.ajax({url:finforeBaseUrl+"/tweetfores/home_timeline.json",
type:"POST",data:{auth_token:finfore.data.user.single_access_token,auth_secret:finfore.data.user.persistence_token,feed_account_id:e.feed_account._id,count:f},success:u})},F=function(){var A,H,z=false;if(e.company){H="Breaking News";if(e.competitor)H="Competitors News"}if(!e.company){H=e.feed_account.name;z=!e.feed_account.feed_token||!e.feed_account.feed_token.token}var Q=$.View("//webapp/views/module.twitter.tmpl",{connected:!z});H=$.View("//webapp/views/module.tmpl",{title:H,smallScreen:finfore.smallScreen,
content:Q});$(H).appendTo(d);l=$("[data-role=content]",d);q=$(".tweets",l);o=$(".load-more-tweets",l);r=$(".twitter-connect-button",d);d.addClass("panel-loading");if(z){v();var B=finforeBaseUrl+"/feed_accounts/twitter/auth?feed_account_id="+e.feed_account._id;r.click(function(){r.hide();d.addClass("panel-loading");var D=window.open(B,"twitterAuthWindow","resizable=yes,scrollbars=yes,status=yes"),K=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,
feed_token:{feed_account_id:e.feed_account.id,user_id:e.feed_account.user_id}},success:function(I){if(I.feed_token&&I.feed_token.token){e.feed_account.feed_token=I.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();F()}else if(D.closed){r.show();d.removeClass("panel-loading")}else setTimeout(K,1E4)}})};K();return false})}else if(!finfore.smallScreen){A=setInterval(v,3E5);v()}o.click(function(){d.trigger("refresh",[true])});d.page();d.bind("refresh",v);d.bind("reinit",function(){clearInterval(A);
d.unbind();d.empty();d.jqmRemoveData();a(d,e)});d.trigger("init")};F()};return{init:a,management:function(d){finfore.data.panels.main.twitter||(finfore.data.panels.main.twitter=[]);var e=$.View("//webapp/views/module.twitter.management.tmpl",{panels:finfore.data.panels.main.twitter});$(e).appendTo(d);var h=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:h,category:"twitter"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",h),category:"twitter"})});
$(".add-column",d).click(function(){finfore.manage.panels.create({$node:h,category:"twitter"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",h),category:"twitter"})});h.delegate(".add-custom-source","click",function(){finfore.manage.twitter.addCustom({$node:$(".mtab:checked",h),category:"twitter"})});h.delegate(".remove-source","click",function(){finfore.manage.twitter.remove({$node:$(".mtab:checked",h),category:"twitter"})});$(".add-preset-source",
d).click(function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",h),$presets:$(".preset-tabs",d),category:"twitter"})});$(".mtab-content",h).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.twitter.addPreset({$node:$(".mtab:checked",h),$presets:$(".preset-tabs",d),category:"twitter"})}});var f=allCount=0,l=$(".preset-sources-suggested",d);e=$(".load-more",l);var q=$(".preset-sources-all",d),o=$(".load-more",q),r=function(){f++;finfore.manage.updateFeedInfos({$node:l,
type:"twitter",category:"twitter",count:f});return false},u=function(){allCount++;finfore.manage.updateFeedInfos({$node:q,type:"twitter",category:"all,twitter",count:allCount});return false};e.click(r);o.click(u);r();u()}}}();steal.loaded("webapp/modules/twitter.js");
finfore.modules.prices=function(){var a=function(d,e){var h,f=h;e.company||$.map(e.feed_account.user_feeds,function(u){return u.feed_info_id});var l=10;f=l;var q=function(u){var v="",F;if(e.company){u=e.company.feed_info.company_competitor.company_ticker+",";F=e.company.feed_info.company_competitor.company_ticker;u+=e.company.feed_info.company_competitor.competitor_ticker;v=u}else if(e.feed_account.user_feeds[0]){u=e.feed_account.user_feeds[0].feed_info.price_tickers;$.each(u,function(A,H){v+=H.ticker+
","})}if(!v)return false;v=v.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+v,dataType:"jsonp",success:function(A){var H="",z=[];$.each(A,function(Q,B){Q=B.e+":"+B.t;var D=B.name,K='<a href="http://www.google.com/finance?q='+Q+'" target="_blank">';B.c=parseFloat(B.c);B.cp=parseFloat(B.cp);e.company&&finfore.smallScreen||Math.abs(B.cp)>finfore.ticker.priceBridge&&finfore.ticker.updatePrices(B);var I=B.l,U=B.c;B=B.cp;if(D){D=K+D+"</a>";if(!finfore.smallScreen){I=
K+I+"</a>";U=K+U+"</a>";B=K+B+"</a>"}H+='<tr class="ui-btn-up-c">';H+="<td>"+D+"</td>";H+="<td>"+I+"</td>";H+=U<0?'<td class="negative nowrap">'+U+"</a></td>":'<td class="nowrap">'+U+"</a></td>";H+=B<0?'<td class="negative nowrap">'+B+"</a></td>":'<td class="nowrap">'+B+"</a></td>";H+="</tr>"}z.push({stock:Q,price:I*1})});$(H).appendTo($("tbody",d));if(e.company){z.shift();(FlashDetect.installed?$('<embed height="340" menu="false" flashvars="displayVolume=true&amp;displayDividends=true&amp;displaySplits=true&amp;displayExtendedHours=true&amp;defaultZoomDays=true&amp;hasVolume=true&amp;hasExtendedHours=true&amp;defaultZoomDays=5&amp;q='+
F+"&amp;lcId=1302290366141&amp;compareTo="+z[0].stock+"%3B"+z[1].stock+'%3B&amp;single_viewpoints=name%3AMainViewPoint%2Cheight%3A202%2CtopMargin%3A0%3A%3Aname%3ABottomViewPoint%2Cheight%3A45%2CtopMargin%3A0%2Cdisplay%3Avisible&amp;single_layers=vp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A0%2Ctype%3Asimple%2ChasText%3Atrue%3A%3Avp%3AMainViewPoint%2Cname%3APriceLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AAHLineChartLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ALastDayLineLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Adividend%2Cpositioning%3Abottom%2CavoidObj%3Asplit%3A%3Avp%3AMainViewPoint%2Cname%3AIndependentObjectsLayer%2Carity%3AUnique%2Ctype%3Asimple%2CrenderObj%3Asplit%2Cpositioning%3Abottom%2CavoidObj%3Adividend%3A%3Avp%3ABottomViewPoint%2Cname%3AVolumeScaleLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3ABottomViewPoint%2Cname%3AECNVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3AVolume%2Carity%3AUnique%2Ctype%3Aindicator%3A%3Avp%3ABottomViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2CtickPosition%3A1%2Ctype%3Asimple&amp;compare_viewpoints=name%3AMainViewPoint%2Cheight%3A247%2CtopMargin%3A15&amp;compare_layers=vp%3AMainViewPoint%2Cname%3APercentLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3ADateLinesLayer%2Carity%3AUnique%2Ctype%3Asimple%2CtickPosition%3A0%3A%3Avp%3AMainViewPoint%2Cname%3ABottomBarLayer%2Carity%3AUnique%2Ctype%3Asimple%3A%3Avp%3AMainViewPoint%2Cname%3APercentLineChartLayer%2Carity%3AMultiple%2Ctype%3Asimple&amp;u=http://www.google.com/finance/getprices&amp;fieldSeparator=%2C&amp;objectSeparator=%3A%3A&amp;sparklineType=dynamic&amp;hasDefaultZoomSetting=true&amp;verticalScaling=maximized&amp;hasVerticalScaleSetting=true&amp;snapping=false&amp;minZoomDays=1&amp;infoTextAlign=left&amp;infoTextTopPadding=17&amp;disableExternalInterface=true" width="100%" base="http://www.google.com/finance/" wmode="opaque" type="application/x-shockwave-flash" src="http://www.google.com/finance/chart9.swf"></embed>'):
$('<img src="http://www.google.com/finance/chart?q='+F+'&cht=o&p=5d" class="image-stocks-chart">')).prependTo(d.find("[data-role=content]"))}},complete:function(){d.removeClass("panel-loading")}})},o=function(){d.addClass("panel-loading");q()},r=function(){f=l=10;empty($("[data-role=content] table tbody",d)[0]);$("[data-role=content] embed",d).remove();o()};(function(){$(document).height();var u=e.company?"Prices":e.feed_account.name;if(!d||!d.length)sandbox.debug("No container set for Module! Module *Feed* will not initalize!",
"warn");else{var v=$.View("//webapp/views/module.prices.tmpl",{});u=$.View("//webapp/views/module.tmpl",{title:u,smallScreen:finfore.smallScreen,content:v});$(u).appendTo(d);if(!finfore.smallScreen){var F=setInterval(r,3E5);o()}d.page();d.bind("refresh",r);d.bind("reinit",function(){clearInterval(F);d.unbind();d.empty();d.jqmRemoveData();a(d,e)});d.trigger("init")}})()};return{init:a,management:function(d){finfore.data.panels.main.prices||(finfore.data.panels.main.prices=[]);var e=$.View("//webapp/views/module.prices.management.tmpl",
{panels:finfore.data.panels.main.prices});$(e).appendTo(d);var h=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:h,category:"prices"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",h),category:"prices"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:h,category:"prices"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",h),category:"prices"})});h.delegate(".add-custom-source",
"click",function(){finfore.manage.sources.addCustom({$node:$(".mtab:checked",h),category:"prices"})});h.delegate(".remove-source","click",function(){finfore.manage.sources.remove({$node:$(".mtab:checked",h),category:"prices"})});$(".add-preset-source",d).click(function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",h),$presets:$(".preset-tabs",d),category:"prices"})});$(".mtab-content",h).droppable({activeClass:"ui-state-highlight",drop:function(){finfore.manage.sources.addPreset({$node:$(".mtab:checked",
h),$presets:$(".preset-tabs",d),category:"prices"})}});var f=allCount=0,l=$(".preset-sources-suggested",d);e=$(".load-more",l);var q=$(".preset-sources-all",d),o=$(".load-more",q),r=function(){f++;finfore.manage.updateFeedInfos({$node:l,type:"prices",category:"chart",count:f});return false},u=function(){allCount++;finfore.manage.updateFeedInfos({$node:q,type:"prices",category:"all,chart",count:allCount});return false};e.click(r);o.click(u);r();u()}}}();steal.loaded("webapp/modules/prices.js");
finfore.modules.portfolio=function(){return{init:function(a,d){var e,h=e,f=10;h=f;var l=function(){a.addClass("panel-loading");var o="";if(d.portfolio.overview.rss.chanel.item){o="";if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(r,u){if(this.google_ticker)o+=u.google_ticker+","});else o=d.portfolio.overview.rss.chanel.item.google_ticker;o=o.replace(/\s/g,"");$.ajax({url:"http://www.google.com/finance/info?infotype=infoquoteall&q="+o,dataType:"jsonp",
success:function(r){var u="";$.each(r,function(v,F){v=F.name;var A='<a href="http://www.google.com/finance?q='+(F.e+":"+F.t)+'" target="_blank">',H=F.l,z=parseFloat(F.c);F=parseFloat(F.cp);if(v){v=A+v+"</a>";if(!finfore.smallScreen){H=A+H+"</a>";z=A+z+"</a>";F=A+F+"</a>"}u+='<tr class="ui-btn-up-c">';u+="<td>"+v+"</td>";u+="<td>"+H+"</td>";u+=z<0?'<td class="negative nowrap">'+z+"</a></td>":'<td class="nowrap">'+z+"</a></td>";u+=F<0?'<td class="negative nowrap">'+F+"</a></td>":'<td class="nowrap">'+
F+"</a></td>";u+="</tr>"}});$(u).appendTo($("tbody",a));a.removeClass("panel-loading")},complete:function(){a.removeClass("panel-loading")}})}else a.remove()},q=function(){h=f=10;empty($("[data-role=content] tbody",a)[0]);l()};(function(){var o=$.View("//webapp/views/module.portfolio.tmpl",{});o=$.View("//webapp/views/module.tmpl",{title:d.portfolio.title,smallScreen:finfore.smallScreen,content:o});$(o).appendTo(a);if(!finfore.smallScreen){setInterval(q,3E5);l()}a.page();a.bind("refresh",q);a.trigger("init")})()},
management:function(a){var d=$.View("//webapp/views/module.portfolio.management.tmpl",{portfolios:finfore.data.portfolios});$(d).appendTo(a);var e=$(".mtabs-container",a);finfore.manage.bindPanelData({$container:e,category:"portfolio"});$(".edit-portfolio",a).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",e),category:"portfolio"})});$(".add-portfolio",a).click(function(){finfore.manage.panels.create({$node:e,category:"portfolio"})});$(".remove-portfolio",a).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",
e),category:"portfolio"})})}}}();steal.loaded("webapp/modules/portfolio.js");
finfore.modules.agenda=function(){return{init:function(a,d){current_user_id=finfore.data.user.id;var e=function(){a.addClass("panel-loading");var f="";if(d.company)f=d.competitor?d.company.feed_info.company_competitor.competitor_ticker:d.company.feed_info.company_competitor.company_ticker;else if($.isArray(d.portfolio.overview.rss.chanel.item))$.each(d.portfolio.overview.rss.chanel.item,function(){if(this.google_ticker)f+=this.google_ticker+","});else if(d.portfolio.overview.rss.chanel.item)f=d.portfolio.overview.rss.chanel.item.google_ticker;
if(!f)return false;f=f.replace(/\s/g,"");alert(finforeAppUrl+"ffproxy.php?url="+$.URLEncode("http://www.google.com/finance/events?output=json&q="+f));$.ajax({url:finforeAppUrl+"ffproxy.php?url="+$.URLEncode("http://www.google.com/finance/events?output=json&q="+f),dataType:"text",success:function(l){alert(l);var q="",o="",r=[];if(l)r=eval(l);var u=new Date,v;if($.isArray(r)&&r.length){r=r.reverse();$.each(r,function(){v=new Date(this.LocalizedInfo.start_date);v.setHours(0);if(v>=u){var F=this.LocalizedInfo.start_date,
A=this.desc,H=/^[A-Za-z]{3}/.exec(F);if(H!=null)l=H[0];H=/[0-9]{4}$/.exec(F);if(H!=null)result_year=H[0];if(q!=l)if(q==""){q=l;o+='<div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+q+" "+result_year+"</td></tr></thead><tbody>"}else{q=l;o+='</tbody></table></div><div class="events-month"><table class="events-table"><thead><tr class="ui-bar-a"><td colspan="2">'+q+" "+result_year+"</td></tr></thead><tbody>"}o+='<tr class="ui-btn-up-c">';o+="<td>"+F+", ";
o+=this.LocalizedInfo.start_time?this.LocalizedInfo.start_time:"All Day";o+="</td><td>"+A+"</td>";o+="</tr>"}})}o||(o='<table class="events-table"><thead><tr><td class="ui-bar-d">No upcoming events </td></tr></thead></table>');$(o).appendTo($(".events-months-container",a));a.removeClass("panel-loading")},complete:function(){a.removeClass("panel-loading")}})},h=function(){empty($("[data-role=content] .events-months-container",a)[0]);e()};(function(){$(document).height();if(d.company){var f="Calendar";
if(d.competitor)f="Competitors Calendar"}else f=d.portfolio?d.portfolio.title:d.feed_account.name;var l=$.View("//webapp/views/module.agenda.tmpl",{});f=$.View("//webapp/views/module.tmpl",{title:f,smallScreen:finfore.smallScreen,content:l});$(f).appendTo(a);if(!finfore.smallScreen){setInterval(h,3E5);e()}a.page();a.bind("refresh",h);a.trigger("init")})()}}}();steal.loaded("webapp/modules/agenda.js");
finfore.modules.linkedin=function(){var a=function(d,e){var h,f,l=function(){d.addClass("panel-loading");empty(h[0]);$.ajax({url:finforeBaseUrl+"/linkedins/network_status.json",dataType:"json",data:{tid:e.feed_account.feed_token._id,count:25},success:function(o){var r="",u,v,F,A,H,z,Q,B,D,K,I=new Date;if(o&&o.length)$.each(o,function(U,Z){Q=Z.timestamp;I.setTime(Q*1);r+='<li class="ui-li ui-btn-up-c">';K=true;if(Z.updateContent.person.id!="private"){K=false;u=Z.updateContent.person.firstName+" "+
Z.updateContent.person.lastName;v=Z.updateContent.person.apiStandardProfileRequest.url;z=Z.updateContent.person.pictureUrl}if(z)r+='<a href="'+v+'" target="_blank"><img src="'+z+'" width="80" height="80" /></a>';if(Z.updateContent.person.connections&&!K){F=Z.updateContent.person.connections.person.firstName+" "+Z.updateContent.person.connections.person.lastName;H=Z.updateContent.person.connections.person.apiStandardProfileRequest.url;r+='<p><a href="'+v+'" target="_blank" class="user">'+u+'</a> connected with <a href="'+
H+'" class="connection" target="_blank">'+F+"</a></p>"}else if(Z.updateContent.person.currentShare){if(Z.updateContent.person.currentShare.comment&&!K){A=$.linkUrl(Z.updateContent.person.currentShare.comment);r+='<p><a href="'+v+'" target="_blank" class="user">'+u+"</a> "+A+"</p>"}if(Z.updateContent.person.currentShare.content){B=Z.updateContent.person.currentShare.content.title;D=Z.updateContent.person.currentShare.content.submittedUrl;r+='<p><a href="'+D+'" target="_blank" class="user">'+B+"</a></p>"}}r+=
"<time>"+I.toUTCString()+"</time>";r+="</li>"});else r="<li>No LinkedIn events</li>";$(r).appendTo(h);d.removeClass("panel-loading")}})},q=function(){var o,r=!e.feed_account.feed_token||!e.feed_account.feed_token.token,u=$.View("//webapp/views/module.linkedin.tmpl",{connected:!r});u=$.View("//webapp/views/module.tmpl",{title:e.feed_account.name,smallScreen:finfore.smallScreen,content:u});$(u).appendTo(d);d.page();d.bind("refresh",l);d.bind("reinit",function(){clearInterval(o);d.unbind();d.empty();
d.jqmRemoveData();a(d,e)});h=$("[data-role=content] ul",d);f=$(".linkedin-connect-button",d);if(r){var v=finforeBaseUrl+"/feed_accounts/linkedin/auth?feed_account_id="+e.feed_account._id+"&callback="+finforeAppUrl+"/authorize.php";f.click(function(){f.hide();d.addClass("panel-loading");var F=window.open(v,"linkedinAuthWindow","resizable=yes,scrollbars=yes,status=yes"),A=function(){$.ajax({url:finforeBaseUrl+"/feed_tokens.json",type:"POST",data:{auth_token:finfore.data.user.single_access_token,feed_token:{feed_account_id:e.feed_account.id,
user_id:e.feed_account.user_id}},success:function(H){if(H.feed_token&&H.feed_token.token){e.feed_account.feed_token=H.feed_token;empty(d[0]);d.removeClass("panel-loading");d.removeData();q()}else if(F.closed){f.show();d.removeClass("panel-loading")}else setTimeout(A,1E4)}})};A();return false})}else if(!finfore.smallScreen){o=setInterval(l,3E5);d.trigger("refresh")}d.trigger("init")};q()};return{init:a,management:function(d){finfore.data.panels.main.linkedin||(finfore.data.panels.main.linkedin=[]);
var e=$.View("//webapp/views/module.linkedin.management.tmpl",{panels:finfore.data.panels.main.linkedin});$(e).appendTo(d);var h=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:h,category:"linkedin"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",h),category:"linkedin"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:h,category:"linkedin"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",
h),category:"linkedin"})})}}}();steal.loaded("webapp/modules/linkedin.js");
finfore.modules.blinkx=function(){var a=function(e){e.company.feed_info.company_competitor.broadcast_keyword=e.company.feed_info.company_competitor.broadcast_keyword.replace(/ /g,"+");var h='http://usp1.blinkx.com/partnerapi/user/?uid=2ehiek5947&text="'+e.company.feed_info.company_competitor.broadcast_keyword+'"&start='+e.start+"&MaxResults="+e.end+"&sortby=date&AdultFilter=true&ReturnLink=true";h=finforeAppUrl+"ffproxy.php?url="+$.URLEncode(h);$.ajax({url:h,type:"GET",dataType:"xml",success:function(f){f=
$("responsedata hit",f);var l="",q=f.length-1,o,r,u,v,F,A,H,z;$.each(f,function(Q){o=$(this);r=$("date",o).text();$("media_format_string",o).text();u=$("title",o).text();v=$("channel",o).text();F=$("summary",o).text();A=$("staticpreview",o).text();H=$("url",o).text();z=new Date(r*1E3);if(finfore.smallScreen||finfore.tablet)H=H.replace("http://www.blinkx.com/burl?v=","http://m.blinkx.com/info/");if(e.loadMore===true||z>e.date){l+=Q===q?'<li class="last-in-group" data-icon="false">':'<li data-icon="false">';
l+='<a href="'+H+'" target="_blank"><abbr>'+v+"</abbr>";l+="<h3>"+u+"</h3>";l+='<img src="'+A+'" />';l+="<p>"+F.substring(0,100)+"..</p>";l+="<abbr>"+z.toUTCString()+"</abbr>";l+="</a></li>"}});f=$(".load-more-entries",e.$container).parents("li").first();$(l).insertBefore(f);$("[data-role=content] ul",e.$container).listview("refresh")},complete:function(){e.$container.removeClass("panel-loading")}})},d=function(e,h){var f=0,l=0,q=function(o,r){e.addClass("panel-loading");if(r===true){f=l+1;l+=20;
a({start:f,end:l,date:new Date,loadMore:r,company:h.company,$container:e})}else a({start:1,end:l,date:new Date,loadMore:r,company:h.company,$container:e})};(function(){$(document).height();var o=$.View("//webapp/views/module.blinkx.tmpl",{});o=$.View("//webapp/views/module.tmpl",{title:"Broadcast News",smallScreen:finfore.smallScreen,content:o});$(o).appendTo(e);$(".load-more-entries",e).click(function(u){e.trigger("refresh",[true]);u.preventDefault();return false});e.bind("refresh",q);e.bind("reinit",
function(){clearInterval(r);e.unbind();e.empty();e.jqmRemoveData();d(e,h)});if(!finfore.smallScreen){var r=setInterval(q,3E5);e.trigger("refresh",[true])}e.page();e.trigger("init")})()};return{init:d}}();steal.loaded("webapp/modules/blinkx.js");
finfore.modules.keyword=function(){var a=function(d,e){var h=15,f,l,q,o=function(u){empty(l[0]);d.removeClass("panel-loading");if(u.results)u=u.results;$.each(u,function(){this.html=$.linkUrl(this.text);if(this.user){this.screen_name=this.user.screen_name;this.profile_image_url=this.user.profile_image_url}});tweetTemplate=$.View("//webapp/views/module.twitter.tweet.tmpl",{tweets:u});l.append(tweetTemplate);u&&$.each(u,function(){var v=new Date(this.created_at);e.company&&finfore.smallScreen||v>finfore.ticker.shortDate&&
finfore.ticker.updateNews(this)})},r=function(u){d.addClass("panel-loading");if(u===true)h+=5;l.removeData();u=e.feed_account.keyword_column.keyword;if(!u){d.removeClass("panel-loading");return false}$.ajax({url:"http://search.twitter.com/search.json",dataType:"jsonp",data:{q:u,rpp:h},success:o})};(function(){var u,v=e.feed_account.name,F=$.View("//webapp/views/module.keyword.tmpl",{});v=$.View("//webapp/views/module.tmpl",{title:v,smallScreen:finfore.smallScreen,content:F});$(v).appendTo(d);d.bind("refresh",
r);d.bind("reinit",function(){clearInterval(u);d.unbind();d.empty();d.jqmRemoveData();a(d,e)});f=$("[data-role=content]",d);l=$(".tweets",f);q=$(".load-more-tweets",f);d.addClass("panel-loading");q.click(function(){d.trigger("refresh",[true])});d.page();if(!finfore.smallScreen){u=setInterval(r,3E5);d.trigger("refresh")}d.trigger("init")})()};return{init:a,management:function(d){finfore.data.panels.main.keyword||(finfore.data.panels.main.keyword=[]);var e=$.View("//webapp/views/module.keyword.management.tmpl",
{panels:finfore.data.panels.main.keyword});$(e).appendTo(d);var h=$(".mtabs-container",d);finfore.manage.bindPanelData({$container:h,category:"keyword"});$(".edit-column-title",d).click(function(){finfore.manage.panels.edit({$node:$(".mtab:checked",h),category:"keyword"})});$(".add-column",d).click(function(){finfore.manage.panels.create({$node:h,category:"keyword"})});$(".remove-column",d).click(function(){finfore.manage.panels.remove({$node:$(".mtab:checked",h),category:"keyword"})});h.delegate(".keyword-save",
"click",function(){var f=$(this).parents(".keyword-panel-settings:first"),l=f.parents(".mtab-content:first").prevAll(".mtab:first"),q=$.data(l[0],"data").feed_account,o=$(".keyword-text",f).val(),r=$(".keyword-followers",f).val(),u=false;if($(".keyword-aggregate",f).is(":checked"))u=true;f={_id:q._id,keyword_column_attributes:{is_aggregate:u,follower:r,keyword:o,_id:q.keyword_column._id}};$.ajax({url:finforeBaseUrl+"/feed_accounts/"+f._id+".json",type:"PUT",data:{feed_account:f},success:function(v){$().toastmessage("showSuccessToast",
finfore.manage.messages.updateColumn);$.data(l[0],"data",{feed_account:v})},error:function(){$().toastmessage("showErrorToast",finfore.manage.messages.errorUpdateColumn)}})})}}}();steal.loaded("webapp/modules/keyword.js");
